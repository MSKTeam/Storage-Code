const nPLPro={arr:[],compile:function(){let t=window.location.href.split("?")[0],e=this.arr.findIndex(e=>e.link.split("?")[0]===t);if(-1!==e){let n=e+1,i=e-1,r="",l="";n<this.arr.length&&(r=`<a href="${this.arr[n].link}">‹ Trước kia</a>`),i>=0&&(l=`<a href="${this.arr[i].link}">Kế tiếp ›</a>`),jQuery(".nPL-show").html(`<select onchange="location = this.value;"class="nPL_select">${this.arr.map((t,n)=>`<option value="${t.link}"${n===e?"selected":""}>${t.title}</option>`).join("")}</select><div class="inner_nPL">${l}${r}</div>`);const head=document.querySelector('head');this.arr.forEach(function(item){const link=document.createElement('link');link.href=item.link;link.rel='prefetch';link.as='document';document.head.appendChild(link);});}},create:function(t,e=[]){Promise.all(e.map(e=>{let n=`/feeds/posts/summary/-/${t}?alt=json-in-script&start-index=${e}&max-results=150`;return jQuery.ajax({type:"get",url:n,dataType:"jsonp"}).promise()})).then(t=>{t.forEach(t=>{"entry"in t.feed&&t.feed.entry.forEach(t=>{let e=t.link.find(t=>"alternate"===t.rel).href.split("?")[0];this.arr.push({title:t.title.$t,link:e})})}),this.arr.length>0?this.compile():console.log("Error: no entries found.")}).catch(t=>console.log(t))},run:function(t,e=[]){"function"==typeof jQuery&&document.getElementById("nPL")?this.create(t,e):console.log("Error: not function or element not found.")}};
const limitHistory=100,histories=function(){function i(i,t,e){this.id=i,this.title=t,this.link=e}function t(){localStorage.setItem("History",JSON.stringify(list))}return list=[],null!=localStorage.getItem("History")&&(list=JSON.parse(localStorage.getItem("History"))),(obj={}).addHistory=function(e,s,l){var n=new i(e,s,l);if(null!=list){if(same=list.find(i=>i.id==e),list.length<100){if(same)for(let o in list)list[o].id===e&&list.splice(list.length,0,list.splice(o,1)[0]),t();else list.push(n),t()}else if(same)for(let r in list)list[r].id===e&&list.splice(list.length,0,list.splice(r,1)[0]),t();else list.splice(0,1),list.push(n),t()}else list.push(n),t()},obj}();
window.addEventListener("load",function(){
$(document).ready(function(){$.ajax({url:"/feeds/posts/summary/-/"+labelName+"?start-index=1&max-results=1&alt=json",dataType:"json",success:function(r){for(var e=r.feed.entry,t=[],a=0;a<e.length;a++){var n=e[a];n.title.$t;for(var l="",s=0;s<n.link.length;s++)if("alternate"==n.link[s].rel){l=n.link[s].href;break}t.push(l)}$("a.Chapter").attr("href",t[0])},error:function(){console.log("Error loading feed")}})});
!function() {function f() {var a=document.getElementById("block-adblock");a.innerHTML='<p class="note noteAlert blocked"><strong>❌ Phát hiện Adblock !</strong><br><br>Xin lỗi vì đã làm hỏng trải nghiệm của bạn.<br>Vui lòng xem xét hỗ trợ chúng tôi bằng cách vô hiệu hóa Trình chặn quảng cáo của bạn, Nó giúp chúng tôi duy trì nhóm dịch và trang website này.<br>Để xem nội dung, hãy tắt trình chặn quảng cáo và làm mới trang.<br><br>Cảm ơn bạn !!!</p>';} var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";b.onerror=function() {f();window.adblock=!0};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(b,e)}(); 
window.vuukleLogin=window.vuukleLogin||function(e){window.tempVuukleToken=e||'no-token'};window.newVuukleWidgets=window.newVuukleWidgets||function(e){window.tempVuukleWidgets=e};$lvpl('https://cdn.vuukle.com/platform.legacy.js');function $lvpl(src){if(typeof ''.matchAll!=='undefined'){return true;}else{delete window.VUUKLE_PLATFORM;var s=document.createElement('script');s.src=src;s.async=true;document.head.appendChild(s);return false;}}/*!For license information please see platform.modern.js.LICENSE.txt*/
(()=>{var e,t={9:(e,t,i)=>{},830:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var o=i(654),n=i(95),s=i.n(n),a=i(164),r=i(739);const l=document.querySelector('link[rel="canonical"]'),d=l instanceof HTMLLinkElement?l.href:(0,r.bq)("property","og:url")||window&&window.location.href||"",c={apiKey:"",articleId:d,amp:!1,sdk:!1,customTranslationUrl:"",endlessMode:!1,singlePage:!1,globalRecommendations:!1,host:window&&window.location.host.replace("www.","").replace(/^(m\.)/,""),img:(0,r.bq)("property","og:image"),language:document.documentElement.lang||"en",link:`${window.location.protocol}//[url]`,recommendationsWideImages:!1,title:(0,o.vh)((0,r.bq)("property","og:title")),url:d,wordpressSync:!1,ads:{enabled:!0},comments:{enabled:!0,hideCommentInputBoxWithButton:!1,transliteration:{enabledByDefault:!1,language:"en"}},emotes:{disable:[],enabled:!0},powerbar:{enabled:!0},sharebar:{enabled:!0},subscribe:{enabled:!0},audio:{enabled:!0},quiz:{enabled:!0}};function u(){if(document.referrer){const e=document.createElement("a");e.href=document.referrer,c.refHost=e.hostname}}u();const h=c;var m,f,g;const p=window.VUUKLE_CONFIG;if(!(p instanceof Object)&&("object"!=typeof p||Array.isArray(p)||null===p))throw new Error("â ï¸[VUUKLE] VUUKLE_CONFIG can't be found or it's not valid");try{new URL(p.url)}catch(e){delete p.url}if(p.title&&(p.title=(0,o.vh)(p.title)),"string"==typeof p.host&&(p.host=p.host.replace(/https?\:\/\//g,"").replace("www.","").replace(/^(m\.)/,"")),"string"==typeof p.link&&(p.link=p.link.replace("[protocol]",`${window.location.protocol}//`)),!p.apiKey)throw new Error("â  [VUUKLE] API key is missing in the VUUKLE_CONFIG");p.articleId&&1!==p.articleId&&"1"!==p.articleId||(p.articleId=p.url||h.articleId),"function"==typeof(null===(m=p.comments)||void 0===m||null===(f=m.auth)||void 0===f||null===(g=f.sso)||void 0===g?void 0:g.onClick)&&a.Z.setSSOInfo(!0);const v=s()(p,h);window.VUUKLE_CONFIG=v;const b=v},715:(e,t,i)=>{"use strict";i.d(t,{xw:()=>o,g7:()=>n,ww:()=>s});const o={"fake-key":{AAXID:"Some-id-here",targets:{default:{},secondDefault:{},"vuukle-ad-3":{insert:"before",selector:".cat_img1",hideAdLabel:!0},"vuukle-ad-4":{insert:"inside",selector:()=>document.querySelector(".cat_img1")},"vuukle-ad-5":{insert:"after",selector:()=>{const e=document.querySelector(".cat_img");return e||document.querySelectorAll(".cat_img1")[0]},adUnit:"taboola"},"vuukle-ad-6":{stickyAd:!0}},customCSS:{"vuukle-ad-4":"width: 666px; height: 666px;"},blockKeywords:["blood","gore","destruction"],hideLabelLogo:!0},"fake-key-2":{trafficExchangeRows:4},"cc5c4d9e-1531-4a59-98ac-4e4b018f4e84":{hideLabelLogo:!0,targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{}},CCPABox:{moveTo:"#navigation",movePosition:"after"},customCSS:{"vuukle-ad-3":"min-width: 320px; min-height: 300px;"}},"8f291d07-5577-46be-ae2e-b4782cc3a034":{externalConfig:!0},"cd1839ec-6b95-4656-8275-1f7217624c25":{externalConfig:!0},"de0e13e8-531d-43ce-a154-0cc6451118ef":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"b7257a34-e29d-4c2c-b84d-c84db5990876":{targets:{default:{},secondDefault:{}}},"b1e9b4de-dc94-461c-b12b-89c7da44452b":{targets:{default:{},secondDefault:{}}},"52036386-dc13-49cd-93c5-f4f9b965e3de":{targets:{default:{},secondDefault:{}}},"16c370db-9226-45ca-a657-0ac81583a44c":{targets:{default:{},secondDefault:{}}},"456e6e4f-b26d-43be-9bfa-6b977779fd06":{externalConfig:!0},"af76e530-24a0-4452-9c07-71f255ce0b48":{externalConfig:!0},"75f932c6-b01d-490e-bae9-2a145b13e07d":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-8":{}}},"02bf6939-9a29-48d7-bb91-7ed2e2253b49":{externalConfig:!0},"3a1799f0-d1e4-4d9c-a9bc-85ef64ca99bb":{externalConfig:!0},"62fe2bc2-4db6-4d31-a4b5-5d498ccbe80d":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"3452da96-daaa-42ff-9bc8-3c135dbc7d23":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"70691e3b-1c6c-491c-8209-b813aeed2f57":{externalConfig:!0},"4c84223a-94bf-47cd-9aa8-ba5e91874df4":{externalConfig:!0},"c910cb42-e15e-4ea5-b571-cc8ce018681d":{externalConfig:!0},"ceccf8f6-9d1c-41e6-9a95-3addc14a3d27":{externalConfig:!0},"8dcad33b-ae75-4338-97c8-787e48248fe1":{externalConfig:!0},"6278c65e-86ab-454e-b8a7-611da3adba57":{externalConfig:!0},"be7b324d-fb59-411f-a504-dc616ce96b5e":{externalConfig:!0},"3a4037f9-61aa-4d84-a31b-0ec8aa0f0f3a":{externalConfig:!0},"e5baaad6-2cbb-4bf5-9087-86a3bda4d2ab":{externalConfig:!0},"4a03593d-3c83-4e2f-b391-2d9ceeb2f1ac":{externalConfig:!0},"5f9ec46f-8406-4c61-97cc-205f813fdf66":{externalConfig:!0},"bc9fd4eb-d7be-4d00-87ef-b570563b015f":{externalConfig:!0},"fc82625a-e20a-4130-88a5-d07aaa5359da":{targets:{default:{}}},"33c2d442-2a4a-4249-b721-badaa60a1da4":{targets:{default:{}}},"e139add8-761d-4f99-b843-fb69a2db83bf":{targets:{default:{}}},"86c0229f-1fb3-4260-b4d2-26724d5b4a99":{targets:{default:{}}},"0f8151a9-0f88-4732-8b7e-b5b0e4b1417e":{externalConfig:!0},"ce56389c-23a7-4874-a8ae-971a18a84355":{targets:{default:{}}},"841fb3e5-977f-4e2e-be39-fae608323cc5":{externalConfig:!0},"d4ff715a-b8ff-4dd9-86d1-d794cc51a865":{externalConfig:!0},"61f6b959-351b-4a5f-8371-7bfbcb7f33f2":{targets:{default:{}}},"e0ec1b7e-b701-4297-b283-30cba62bc13d":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{},"vuukle-ad-9":{},"vuukle-ad-10":{}}},"b919eaf5-d0c8-4b27-a692-58b6e26f9f1b":{targets:{default:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{}}},"723182a6-c9d2-4dad-83c7-b83b272390df":{targets:{default:{}}},"78f75f1e-1377-4716-9559-5915ec1c570b":{targets:{default:{}}},"2a65e0fb-d42a-494e-b1a9-8c518b7e4a51":{externalConfig:!0},"e34028fa-a74d-4840-a3ad-1571088e224d":{externalConfig:!0},"af3a6a74-4e85-42e3-8acc-81670cf0cbd7":{targets:{default:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-10":{},"vuukle-ad-11":{}}},"7f7c8cb3-6bba-4f41-9c6b-4eba71594c34":{targets:{default:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-10":{},"vuukle-ad-11":{}}},"1da04a0e-e770-4351-a6d3-8d072a7de4d4":{targets:{default:{}}},"e6741053-104a-43d2-8bd8-b2536529f5cd":{externalConfig:!0},"2b166297-6273-48a9-82e9-696327c67418":{externalConfig:!0},"1aef4996-c67f-4857-8ec7-fc037d518060":{externalConfig:!0},"649aa9ef-0293-4691-adc5-7499bc5c6ff9":{externalConfig:!0},"d45dc90a-b6cc-47b1-915e-9db149d05ace":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"c413f561-01f9-44c3-b2c9-a148d93e35b5":{externalConfig:!0},"8b20ec9c-af8e-432e-bc29-630959e0909e":{targets:{default:{},secondDefault:{}}},"316edba4-941d-45a1-8bbd-c39f74de12b2":{targets:{default:{},secondDefault:{}}},"7c2d8865-b295-40ff-9fdc-3e6280c0708c":{targets:{default:{},secondDefault:{}}},"362229ba-8929-47f4-b350-4bf068441b90":{targets:{default:{},secondDefault:{}}},"cd78325e-2fce-440c-b899-83d68d5deb38":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"ed66dfc0-c87c-43e3-a621-792c5398d0b9":{targets:{default:{},secondDefault:{}}},"3ca1e321-a3ba-4c1b-9e8f-9d08f31cf98e":{targets:{default:{},secondDefault:{}}},"aeff3bf7-955f-44bd-a866-58374584976c":{targets:{default:{},secondDefault:{}}},"38d72883-04af-45d6-a1a6-3bb8ca506bd9":{targets:{default:{},secondDefault:{}}},"9291c2db-d0e1-49a1-8624-7da72ed36872":{targets:{default:{},secondDefault:{}}},"592ca9ac-7f01-43f3-ba82-2ff7b93a7650":{targets:{default:{},secondDefault:{}}},"53ebd8c7-b7cf-42c1-9640-a55165bca9ab":{targets:{default:{},secondDefault:{}}},"248b9715-3d95-42f8-9cc4-7b32abb3c715":{targets:{default:{},secondDefault:{}}},"848e7004-41d9-4084-934f-26f3dedec5a1":{targets:{default:{},secondDefault:{}}},"0b420d00-5895-421c-9dab-326f29b1243e":{targets:{default:{},secondDefault:{}}},"454859d8-ee0d-4f40-a92e-808c968122ea":{showCWAudioButton:!1,targets:{"vuukle-ad-3":{}},customCSS:{"vuukle-ad-3":"vertical-align: middle;"}},"b020f681-0903-4e67-8436-b0208a3b3423":{externalConfig:!0},"15a53ea9-6592-410d-8233-d60dbadf2f48":{externalConfig:!0},"92fd8992-dbb2-4d42-9cc3-1b8101c44b9b":{externalConfig:!0},"977dd828-0657-4af3-8db8-eb6d10564bde":{targets:{default:{},secondDefault:{}},initAfterScroll:!0,initAfterScrollPixels:100},"f4063dfe-ef7d-4812-9809-ec5a33a2fb85":{targets:{default:{},secondDefault:{}}},"a7cb6247-6a8a-4519-8945-a88e6f5377b0":{targets:{default:{},secondDefault:{}}},"f985df63-157a-4bf3-b09d-13eec2eda561":{targets:{default:{},secondDefault:{}}},"52df42fa-e94e-457b-b746-e743318a0458":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"7d722fa3-04d6-4455-a1d5-f322533f8f98":{externalConfig:!0},"3779bc94-f3ce-4138-af5d-1d3c0d7ee3b8":{targets:{default:{}}},"ff5b00dd-18d5-409a-b1b7-9742f68f5364":{targets:{default:{},secondDefault:{}}},"356fca96-24f8-4af6-b2f3-5abb75add2a9":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"c4e16ef1-c78d-4c94-bf69-236d948163d8":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"a66ef5ff-efff-4755-ab59-47667b5c4339":{targets:{default:{},secondDefault:{}}},"4f1ee917-bdec-49f9-a891-def444a3f541":{targets:{default:{},secondDefault:{}}},"fb611ff0-d7a6-4ac6-933c-186a44c9132e":{adUnit:"prebid6",showCWAudioButton:!1,targets:{default:{}}},"b04a1a6f-299e-4baf-8885-cc7b956dba33":{setVuukleSite:"asianetnews.com",insertQuizAndAd:{quizOptions:{insert:"after",selector:".PostBody p:nth-of-type(1)"},insertionGeos:["BH"]},targets:{default:{},"vuukle-ad-14":{insert:"before",selector:".web-summary p",adUnitGeos:["BH"]},"vuukle-ad-15":{insert:"after",selector:"#vuukle-quiz",adUnitGeos:["BH"]}}},"cd196cb9-3256-4804-bab8-6f2b2b210b37":{loadUnblockia:!0,externalConfig:!0},"731b1598-53c4-43aa-9a0d-66575e146199":{externalConfig:!0},"ddf243f4-4e19-4e9b-b734-7163f0495090":{hideLabelLogo:!0,targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{}},customCSS:{"vuukle-ad-5":"width: 300px"}},"34b3a8be-f0a2-40b6-8891-1d906116ba6c":{targets:{default:{}}},"15c2fc73-2ba2-48a1-81eb-68a8d4fc7365":{targets:{default:{},secondDefault:{}}},"cf043a37-8348-4746-b692-b00faadc18c1":{targets:{default:{},secondDefault:{}}},"87881f98-a3df-4b2e-b086-6b549524af2b":{targets:{default:{},secondDefault:{}}},"bc3e080c-a5bc-4730-b471-3970b6bf699e":{targets:{default:{}}},"efd7f6e2-802d-423d-ae84-d866ad971399":{showCWAudioButton:!1,targets:{default:{}}},"32ea1377-42f8-49bd-a80b-5a3bf4466257":{targets:{default:{}}},"3da19a3c-faa3-419e-9361-4d5b8350b6f5":{targets:{default:{}}},"d1a4a16d-cfaf-4ad2-8f9b-ddf5a1b257d2":{targets:{default:{}}},"e1023aeb-5ee1-46f2-8205-7e7372ad324f":{targets:{default:{}}},"6bfb749f-f90d-4301-89d4-0ac032d944a3":{targets:{default:{}}},"9433d539-1c98-49f2-ac2b-9a162d5a3d6d":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{}}},"3632f66d-4175-4360-bc2a-cd69ad1a1d61":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{}}},"255be353-1ccf-4eea-af0c-86d618375550":{targets:{default:{}}},"2a2f08e9-ff27-4020-a57b-275912fe9273":{targets:{default:{}}},"aade2e0e-f2fa-45c1-b262-c4b8beb5d1cb":{targets:{default:{}}},"2d518663-eaa0-4298-bedd-0f40faff0b29":{targets:{default:{}}},"64a67808-64b9-4e1c-96d8-a396bbd31caf":{targets:{default:{}}},"29ac411e-3218-42fb-90ae-47ae55444e16":{targets:{default:{}}},"2a12e2cd-bd1b-4877-8b9f-48678cda7af6":{targets:{default:{}}},"432081eb-6e8e-4abc-a88f-ca5357aa7244":{targets:{default:{}}},"3a0e7e26-f50d-4c57-88c2-274908569b0d":{targets:{default:{}}},"6a77571a-6d92-4b17-a748-5010048b4ef5":{targets:{default:{}}},"91621fb2-9f22-4666-9605-614a805ef456":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"f9036f75-b88a-4f5c-ae94-c9c8799a4677":{showCWAudioButton:!1,targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{},"vuukle-ad-9":{}}},"5e23e4f7-8c8f-4089-a01d-710bc798da90":{externalConfig:!0},"0c2fffb6-b8c3-4fb0-9073-45df1a9d04ed":{targets:{default:{},"vuukle-ad-2":{}}},"6a39c124-67fa-4f04-8fe7-a575ecd2027c":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{},"vuukle-ad-9":{}}},"a1ab5e4d-fc4a-417a-8454-ea57c8bfaaf0":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"12eef24a-ee2a-4ca4-8c01-64c8aa78fccd":{targets:{default:{},secondDefault:{}}},"5d6d4f55-ff35-4ac0-baaf-b5dc3ee32486":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{}}},"e1e87e0a-d5f2-4943-860d-fef621987289":{insertQuizAndAd:{quizOptions:{insert:"after",selector:"article p:nth-of-type(2)"}},targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{insert:"after",selector:"#vuukle-quiz"},"vuukle-ad-8":{}}},"ae417a03-65b0-45cb-9ebd-9f8ccce96b51":{targets:{default:{}}},"eb3b67e0-1ed2-4881-b622-7f8e6128507a":{targets:{default:{}}},"9b305fac-eacd-470a-8cc3-d4caf68480f4":{targets:{default:{}}},"b1aaa3ee-e3e9-444c-b043-ad06699c7e2a":{targets:{default:{}}},"6d18d31b-113b-4676-923f-41dadfa912b0":{targets:{default:{}}},"f623b291-820b-4ded-a360-ef133909646c":{externalConfig:!0},"ddc3d585-821a-474d-b7da-9360d9e4f2e7":{loadUnblockia:!0,externalConfig:!0},"28a76eea-83ab-4eb0-bdc9-ec32a67a8bb2":{blockKeywords:["sex","porn","masturbation","nude","vagina","masturbat","hottest","nude","bikini","cleavage"],targets:{default:{}}},"f85f9333-42c4-42c5-80b4-a9a1e3d905a1":{externalConfig:!0},"7cecf616-b9b1-4fc2-9f8e-7d16ef1f7494":{loadUnblockia:!0,showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"1feb6d34-f2ca-4219-bff0-28be03a6d8da":{targets:{default:{scrollingAd:!0,greyBg:!0,hideAdLabel:!0},secondDefault:{scrollingAd:!0,greyBg:!0,hideAdLabel:!0},"vuukle-ad-3":{}}},"64136411-69b5-4424-9e24-f6821f0f060e":{targets:{default:{},secondDefault:{}}},"45e74a80-4a92-4e89-8a8a-4b4449edb14d":{ads:2,targets:{default:{},secondDefault:{}}},"4a47762d-888d-4589-a7a3-5c06f4587bf8":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{}}},"95a1784e-cc5c-455b-a8d6-fa6170771686":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{}}},"bc9ef239-b220-46fa-9adb-9a0157bfe4ad":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"eb3aedc9-183a-4364-a940-c37f4724dd2e":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"b355463c-4831-4067-8c93-a2303c39a309":{externalConfig:!0},"c003c14d-297a-43c9-97b2-630e05b1d9fb":{externalConfig:!0},"e8a206d5-67d4-44bc-97af-a160da26b683":{externalConfig:!0},"f9488e7c-9ed2-4e12-ae31-e48f1006d071":{externalConfig:!0},"61ba9d28-1cfd-405b-87ca-3feb7326bbd6":{externalConfig:!0},"b6b7829f-9f0f-4af3-a36c-1cecf00f8baf":{externalConfig:!0},"c77634b5-93d5-413c-90ce-286bc462c5d6":{externalConfig:!0},"2e7b4525-b517-47d9-bff4-d7cbdff6fa10":{externalConfig:!0},"72a2c4c9-2fa6-47ba-b3cc-b1438b302ddc":{targets:{default:{},secondDefault:{}}},"bc095434-27f9-4779-a350-6e9caca7f21e":{targets:{default:{}}},"4529953f-a9cc-483a-8451-a9b0bf17a1ae":{hideLabelLogo:!0,targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{}}},"43cb59e7-b737-42c0-adf6-48f12bc55d9a":{externalConfig:!0},"f9c98646-e2a2-4e40-92e9-58aea917d809":{targets:{default:{},secondDefault:{}}},"ead41e46-a5fd-11e2-bc97-bc764e0492cc":{externalConfig:!0},"bf94f923-206b-4e74-9b54-8d667098c757":{targets:{default:{}}},"080b9f86-b7c8-48d1-b8c4-20f02a6daee0":{targets:{default:{}}},"a2df33e0-e37c-45d2-bf13-3176e7711b3b":{targets:{default:{},secondDefault:{}}},"83a32972-5af0-484d-ab84-c5c8c7e86d9d":{targets:{default:{},secondDefault:{}}},"e1c9ead0-29bb-4aee-b3a9-68174fd455f8":{targets:{default:{},secondDefault:{}}},"7f46a5fa-c1f6-473b-adfa-f4c9999cb7bf":{},"5c57e36e-8a31-4068-bc1b-26cf3fbf24ed":{showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"053a2dad-4d97-4846-abdf-3ffa0a7345b2":{externalConfig:!0},"40b5150c-084b-40d3-9245-53d87246594b":{loadUnblockia:!0,targets:{default:{sideAds:1},secondDefault:{sideAds:1},"vuukle-ad-3":{insert:"before",selector:"#insticator-embed"},"vuukle-ad-4":{insert:"after",selector:"#insticator-embed"}}},"e09d1311-dcda-49b0-b37b-73ba36c08d54":{targets:{default:{sideAds:1},secondDefault:{sideAds:1},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"6f21915c-70db-4db2-b86b-463efc2927dc":{externalConfig:!0},"58625c59-58a8-44ec-9a46-72c2d7b40c6a":{targets:{"vuukle-ad-4":{insert:"inside",selector:".oh .col-sm-6"},"vuukle-ad-5":{insert:"inside",selector:"#right_side_for_article"}}},"b2fe0a7d-c388-4bb3-bf59-cc2386023057":{externalConfig:!0},"655c03e1-fb81-4b9e-9166-92bed4e58491":{externalConfig:!0},"3f9039a9-057a-4853-a545-0a9d334060a7":{insertQuizAndAd:{quizOptions:{insert:"before",selector:".entry-content .wp-block-table"}},targets:{"vuukle-ad-3":{insert:"after",selector:"#vuukle-quiz"}}},"ef48a541-00a5-461a-a8e2-919b079dcbeb":{insertQuizAndAd:{quizOptions:{insert:"after",selector:".newsDetailedContent p:nth-of-type(4)"}},targets:{"vuukle-ad-3":{insert:"after",selector:"#vuukle-quiz"}}},"b58a1d93-9fc4-488b-96e0-bc9b28e04858":{insertQuizAndAd:{quizOptions:{insert:"before",selector:".entry-content p:nth-of-type(4)"}},targets:{"vuukle-ad-3":{insert:"after",selector:"#vuukle-quiz"}}},"3368388b-0a3d-45da-a382-6fb1019db01b":{insertQuizAndAd:{quizOptions:{insert:"after",selector:".ds-content p:nth-of-type(3)"}},targets:{"vuukle-ad-3":{insert:"after",selector:"#vuukle-quiz"}}},"5f7de88a-8422-45f8-8434-33c27c88e494":{insertQuizAndAd:{quizOptions:{insert:"after",selector:".td-post-content .tdb-block-inner p:nth-of-type(2)"}},targets:{"vuukle-ad-3":{insert:"after",selector:"#vuukle-quiz"}}},"664e0b85-5b2c-4881-ba64-3aa9f992d01c":{widgets:{comments:{insert:"inside",selector:"#forCW"},emotes:{insert:"inside",selector:"#forEmotes"},sharebar:[{insert:"inside",selector:"#forSharebar"}],audio:[{insert:"inside",selector:"#forAudio"}],subscribe:[{insert:"inside",selector:"#forSubscribe"}]}},"5f339b97-5ed9-42b3-b9d9-19d4b7ee679b":{},"54c90d10-586c-4036-9ffd-bc54eaf71af1":{compact:!0}},n=["8ccda731-6ed4-4965-a6e9-e05ae318389d","06bbd0e5-c863-4bd4-a24f-65cbbb6ebf90","fb7adc50-1895-4260-ae4e-d958e0943e86","3a576486-18b5-4438-b12f-340af1d2a0e0","8c6794b5-f7fd-4cd1-a038-a8d1b5f6a758","96bf641a-66d8-11e5-9bc9-002590f371ee","10d0bfe0-3737-4481-80ab-d837492181de","46059264-25f1-4b76-a88b-6d1c75c66f42","55971aa3-e05a-49d3-b2e9-83243ce15cc4","ae9bb8a3-d291-4ba3-9172-1f02e37aaff3","b1714e6a-1ebd-42a7-8149-91c7949ffa3c","84964aff-1453-43d0-9b72-eb71331a42a7"],s=["0f55d425-672f-419b-8b54-007e54113a1c"]},801:(e,t,i)=>{"use strict";i.d(t,{Gf:()=>b,IW:()=>g,J8:()=>s,Ln:()=>f,N5:()=>m,PP:()=>n,qu:()=>v,rX:()=>p});i(9);var o=i(962);const n={adConfigLoadEnd:"Advertisement config load end",adConfigLoadError:"Advertisement config load error",adConfigLoadStart:"Advertisement config load start",adEnd:"Advertisement End",adStart:"Advertisement Start",commsCreatorEnd:"Communication creator end",commsCreatorStart:"Communication creator start",geoRequestCache:"Geo request retrieval from cache",geoRequestEnd:"Geo request end",geoRequestError:"Geo request error",geoRequestStart:"Geo request start",platformStart:"Start",prebidLoadEnd:"Prebid loading end",prebidLoadError:"Prebid loading error",prebidLoadStart:"Prebid loading start",websocketOpened:"Websocket connection opened",widgetsCreatorEnd:"Widget creator end",widgetsCreatorStart:"Widget creator start"},s={adConfigStartToError:"Advertisement config load start -> load error",adStartToConfigLoadEnd:"Advertisement start -> ad config load end",adStartToConfigLoadStart:"Advertisement start -> ad config load start",adStartToEnd:"Advertisement start -> end",adStartToPrebidLoadStart:"Advertisement start -> prebid script load start",commsStartToEnd:"Communication creator start -> end",geoStartToEnd:"Geo request start -> geo request end",geoStartToError:"Geo request start -> geo request error",platformStartToAdConfigLoadEnd:"Platform start -> ad config load end",platformStartToAdConfigLoadError:"Platform start -> ad config load error",platformStartToAdEnd:"Platform start -> advertisement end",platformStartToAdStart:"Platform start -> advertisement start",platformStartToCommsEnd:"Platform start -> communication creator end",platformStartToCommsStart:"Platform start -> communication creator start",platformStartToGeoCache:"Platform start -> geo request cache retrieval",platformStartToGeoEnd:"Platform start -> geo request end",platformStartToGeoError:"Platform start -> geo request error",platformStartToGeoStart:"Platform start -> geo request start",platformStartToLog:"Platform start -> version log",platformStartToPrebidError:"Platform start -> prebid script load error",platformStartToPrebidLoad:"Platform start -> prebid script load end",platformStartToPrebidLoadStart:"Platform start -> prebid script load start",platformStartToWebsocketOpen:"Platform start -> websocket connection opened",platformStartToWidgetsEnd:"Platform start -> widget creation end",platformStartToWidgetsStart:"Platform start -> widget creation start",prebidStartToEnd:"Prebid loading start -> end",prebidStartToError:"Prebid loading start -> error",widgetStartToEnd:"Widget creation start -> end"};function a(e,...t){"true"===o.Z.get("vkdebug")&&e(...t)}function r(e="Vuukle Platform"){console.profile(e)}function l(e="Vuukle Platform"){console.profileEnd(e)}function d(e="mark"){performance.mark(e)}function c(e){return e.toString().padStart(2,"0")}function u(e="mark",t="mark"){performance.getEntriesByName(e,t).forEach((e=>{console.log.apply(console,function(e,t){e=[].slice.call(e),t&&e.unshift(t);let i="#"+Math.floor(16777216*Math.random()).toString(16);const o=new Date,n=`[${o.getHours().toString()}:${c(o.getMinutes())}:${c(o.getSeconds())}]`;return e.unshift(`display: inline-block; color: #fff; background: ${i}; padding: 1px 4px; border-radius: 3px;`),e.unshift("display: inline-block; color: #fff; background: #1e88e5; padding: 1px 4px; border-radius: 3px;"),e.unshift(`${n} %cVuukle Platform%c`),e}([],`${t} - ${e.name}: ${e.duration.toFixed(2)}ms`))}))}function h(e="measure",t,i){performance.measure(e,t,i),u(e,"measure")}const m=e=>a(r,e),f=e=>a(l,e),g=e=>a(d,e),p=(e,t,i)=>a(h,e,t,i),v=(e,...t)=>{0},b=(e,t,...i)=>{window.location.search.includes("vdebug")?console[e](...i):t&&v(e,...i)}},939:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(208),n=i(830),s=i(589);class a{constructor(e,t){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"header",void 0),(0,o.Z)(this,"modalElement",void 0),(0,o.Z)(this,"innerModalCSS","\n    .vuukle-notification-popup {\n      padding: 24px !important;\n      display: flex !important;\n      flex-direction: column;\n      box-sizing: border-box;\n      top: 0px !important;\n      transform: translate(-50%, 0px) !important;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-logo {\n      width: auto;\n      height: auto;\n      justify-content: flex-start;\n      margin: 0px 0px 25px 0px !important;\n    }\n    @media(max-width: 576px) {\n      .vuukle-notification-popup .vuukle-info-modal-logo {\n        margin-bottom: 30px !important;\n      }\n    }\n    .vuukle-notification-popup .vuukle-info-modal-logo img {\n      width: 80px;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-logo_title {\n      font-weight: 400;\n      font-size: 16px;\n      line-height: 21px;\n      color: #051b2c;\n      margin-left: 15px;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      padding: 0px;\n      margin: 0px;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body label {\n      width: 42%;\n      background: #FFFFFF;\n      padding: 5px 15px;\n      margin-bottom: 18px;\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body button {\n      margin: 5px auto;\n      padding: 5px 10px;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body label input {\n      margin: 0px 15px 0px 0px;\n      min-width: 24px;\n      height: 24px;\n      border-radius: 5px;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body label input:focus {\n      outline: none !important;\n    }\n    .vuukle-notification-popup .vuukle-info-modal-body label span {\n      font-weight: 400;\n      font-size: 16px;\n      line-height: 17px;\n      color: #051b2c;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    .vuukle-notification-popup .vuukle-web-notification-actions {\n      margin-top: auto;\n    }\n    .vuukle-web-notification-popup-not-now {\n      outline: none;\n      padding: 12px 24px;\n      font-weight: 500;\n      font-size: 16px;\n      color: #0078d1;\n      background: white;\n      transition-duration: 0.3s;\n      border-radius: 6px;\n      cursor: pointer;\n      border: none;\n    }\n    .vuukle-web-notification-popup-subscribe:hover {\n      background: #0062ab;\n    }\n    .vuukle-web-notification-popup-subscribe:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n    .vuukle-web-notification-popup-subscribe {\n      border: none;\n      outline: none;\n      padding: 12px 24px;\n      font-weight: 500;\n      font-size: 16px;\n      color: white;\n      background: #0078d1;\n      transition-duration: 0.3s;\n      border-radius: 6px;\n      cursor: pointer;\n    }\n\n    .vuukle-info-modal-overlay {\n      background: rgba(222, 233, 243, 0.5);\n      cursor: default;\n      display: block;\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n    }\n\n    .vuukle-info-modal-container {\n      background: rgb(255, 255, 255);\n      border-radius: 0.5rem;\n      box-shadow: 0 0.2rem 0.5rem rgba(69, 77, 93, 0.3);\n      display: block;\n      padding: 0;\n      text-align: left;\n      animation: slide-down 0.2s ease 1;\n      width: 900px;\n      height: 370px;\n      z-index: 1;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n    .vuukle-info-modal-body {\n      overflow-y: auto;\n      position: relative;\n      padding: 40px;\n      -webkit-overflow-scrolling: touch;\n      font-size: 14px;\n      line-height: 22px;\n      font-weight: 400;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-header {\n      position: relative;\n      padding: 20px 30px;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n    }\n\n    .vuukle-info-modal-header > div {\n      text-align: center;\n      width: 100%;\n    }\n\n    .vuukle-info-modal-header h4 {\n      margin: 0;\n      font-size: 20px;\n      line-height: 32px;\n      font-weight: 400;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close {\n      display: inline-flex;\n      background: none;\n      border: none;\n    }\n\n    .vuukle-info-modal-close {\n      cursor: pointer;\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close:hover svg {\n      fill: #7b7f83;\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close svg {\n      fill: #c3c5c7;\n    }\n\n    .vuukle-info-modal-powered {\n      position: absolute;\n      left: 50%;\n      top: 565%;\n      transform: translate(-50%, -50%);\n      z-index: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 40px;\n      width: 225px;\n      padding: 10px 20px;\n      text-align: center;\n      background-color: white;\n      border-radius: 20px;\n      box-sizing: border-box;\n      cursor: pointer;\n      font-size: 12px;\n      font-weight: bold;\n      text-decoration: none;\n      color: #000;\n    }\n\n    .vuukle-info-modal-logo {\n      width: 160px;\n      height: 40px;\n      margin: 30px auto 0;\n      display: flex;\n      justify-content: center;\n    }\n\n    .vuukle-info-modal-logo a {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .vuukle-info-modal-powered svg {\n      margin-left: 10px;\n    }\n\n    .vuukle-info-modal-footer {\n      position: absolute;\n      bottom: 0;\n      height: 40px;\n      width: 100%;\n      background-color: #FACC2B;\n      color: rgb(1, 102, 152);\n      text-align: center;\n      line-height: 40px;\n      font-size: 14px;\n      font-weight: 400;\n      border-bottom-left-radius: 0.5rem;\n      border-bottom-right-radius: 0.5rem;\n    }\n\n    .vuukle-info-modal-footer a {\n      text-decoration: none;\n      cursor: pointer;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-footer a:hover {\n      text-decoration: underline;\n    }\n\n    @media (max-width: 1000px) {\n      .vuukle-info-modal-container {\n        max-width: 90vw;\n        height: auto !important;\n      }\n      .vuukle-info-modal-body {\n        padding-top: 20px;\n        margin-bottom: 20px;\n      }\n    }\n\n    @media (max-width: 500px) {\n      .vuukle-info-modal-powered {\n        top: 605%;\n      }\n      .vuukle-info-modal-footer {\n        line-height: 20px;\n      }\n\n      .vuukle-info-modal-header h4 {\n        font-size: 16px;\n        line-height: 17px;\n      }\n    }\n\n    @media (max-width: 330px) {\n      .vuukle-info-modal-powered {\n        top: 605%;\n      }\n    }\n\n    .subscribe-popup-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n      max-height: 50px;\n      padding: 0px 0px 0px 20px;\n    }\n\n    .subscribe-popup-header > svg {\n      transform: translate(0px, -25%);\n    }\n\n    .subscribe-popup-header_titles {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      width: 65%;\n    }\n\n    .subscribe-popup-header_titles > span:first-child {\n      line-height: 20px;\n      margin-bottom: 5px;\n    }\n\n    .subscribe-popup-header_titles > span:last-child {\n      font-size: 16px;\n      line-height: 16px;\n      color: grey;\n      text-align: left;\n    }\n\n    .vuukle-subscribe-popup {\n      width: 90vw !important;\n      max-width: 450px !important;\n      border-radius: 20px !important;\n      height: auto !important;\n    }\n\n    .vuukle-subscribe-popup .vuukle-info-modal-header {\n      box-shadow: none;\n    }\n\n    .vuukle-subscribe-popup .vuukle-info-modal-close {\n      align-self: flex-start;\n    }\n\n    .vuukle-subscribe-popup .vuukle-info-modal-body {\n      padding-top: 20px !important;\n      padding-bottom: 0px;\n      margin-bottom: 0px;\n    }\n  "),(0,o.Z)(this,"modalParentCSS","\n    display: none;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 2147483647;\n  "),(0,o.Z)(this,"modalBodyElement",void 0),(0,o.Z)(this,"modalCloseButtonElement",void 0),(0,o.Z)(this,"created",!1),this.id=e,this.header=t}show(e){a.modalVisible||(e.style.display="block",a.modalVisible=!0)}hide(e){e.style.display="none",a.modalVisible=!1}create(){if(!this.created&&!document.getElementById(this.id)){this.modalElement=document.createElement("div"),this.modalElement.id=this.id,this.modalElement.innerHTML=this.getModalHTML(),this.modalElement.style.cssText=this.modalParentCSS;const e=document.createElement("style");e.innerHTML=this.getModalContainerStyles()+this.innerModalCSS,/iPhone|iPad|iPod/i.test(navigator.userAgent)||(document.body.appendChild(this.modalElement),document.body.appendChild(e)),this.attachModalElementsToObjects(),this.created=!0}}getModalHTML(){return`\n      <div role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container">\n          <div class="vuukle-info-modal-header">\n            <div>\n              <h4 id="${this.id}-header">${this.header}</h4>\n            </div>\n            <button class="vuukle-info-modal-close" title="Close" aria-label="Close Modal">\n              <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n                <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />\n              </svg>\n            </button>\n            <a class="vuukle-info-modal-powered" href="https://vuukle.com/">\n              POWERED BY ${(0,s.Ew)(80,"0 0 143 30")}\n            </a>\n          </div>\n          <div class="vuukle-info-modal-logo">\n            <img src='https://image.vuukle.com/${n.Z.apiKey}'/>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n          <div class="vuukle-info-modal-footer">\n            If you need any assistance, please contact our <a href="mailto:support@vuukle.com"><b>support</b></a>\n          </div>\n        </div>\n      </div>\n    `}getModalContainerStyles(){return`\n      #${this.id} > div {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        padding: 0.4rem;\n      }\n    `}attachClickHandlerForHideModal(e){e.addEventListener("click",(()=>this.hide(this.modalElement)))}attachModalElementsToObjects(){const e=this.modalElement.querySelector(".vuukle-info-modal-body"),t=this.modalElement.querySelector(".vuukle-info-modal-close");e&&(this.modalBodyElement=e),t&&(this.modalCloseButtonElement=t,this.attachClickHandlerForHideModal(this.modalCloseButtonElement))}setModalBodyContent(e){this.modalBodyElement.innerHTML=e}appendToModalBody(e){this.modalBodyElement.innerHTML+=e}setContainerDimensions(e,t){const i=this.modalElement.querySelector(".vuukle-info-modal-container");i&&(i.style.width=`${e}px`,i.style.height=`${t}px`)}}(0,o.Z)(a,"modalVisible",!1);const r=a},281:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(208),n=i(589);class s{static createNotificationCorner(){const e=document.getElementById("vuukle_alerts_fixed_left");if(e)s.cornerCreated=!0,s.notificationCorner=e;else{const e=document.createElement("div");e.id="vuukle_alerts_fixed_left",e.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        right: -16px;\n        borderRadius: 5px;\n        display: flex;\n        flex-direction: column-reverse;\n        height: 100vh;\n        overflow-y: auto;\n        pointer-events: none;\n        align-items: flex-end;\n        z-index: 2147483648;\n        color: #000;\n      ",s.cornerCreated=!0,s.notificationCorner=e,document.body.appendChild(e)}}static createNotification(e,t,i=1e4){if(this.createdNotifications.includes(e))return;this.createdNotifications.push(e),s.cornerCreated||s.createNotificationCorner();const o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("h4"),d=document.createElement("div"),c=document.createElement("span");o.id=`alert-${(0,n.qs)()}`,o.style.cssText=s.alertContainerStyles,o.style.borderLeft=`5px solid ${s.alertColors[t]}`,r.style.cssText=s.alertTextContainerStyles,l.style.cssText=s.alertTextStyles,d.style.cssText=s.alertRemoveButtonStyles,a.style.display="flex",a.style.alignItems="center",a.innerHTML=s.notificationLogoHTML,r.innerHTML=e,d.textContent="+",d.setAttribute("aria-label","Close Alert"),d.setAttribute("role","button"),d.setAttribute("title","Close Alert"),d.onclick=()=>s.removeNotificationById(o.id,e),r.appendChild(l),d.appendChild(c),o.appendChild(a),o.appendChild(r),o.appendChild(d),s.notificationCorner.appendChild(o),setTimeout((()=>{s.removeNotificationById(o.id,e)}),i)}static removeNotificationById(e,t){this.createdNotifications=this.createdNotifications.filter((e=>e!==t));const i=document.getElementById(e);i&&i.parentNode&&i.parentNode.removeChild(i)}}(0,o.Z)(s,"cornerCreated",!1),(0,o.Z)(s,"notificationCorner",void 0),(0,o.Z)(s,"createdNotifications",[]),(0,o.Z)(s,"alertContainerStyles","\n    padding: 12px 16px;\n    overflow: hidden;\n    display: flex;\n    position: relative;\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',sans-serif;\n    font-weight: 500;\n    box-shadow: rgb(67 90 111 / 30%) 0px 0px 1px, rgb(67 90 111 / 47%) 0px 8px 10px -4px;\n    margin-right: 10px;\n    margin-bottom: 15px;\n    border-left: 5px solid #909399;\n    align-items: center;\n    background: #fff;\n    pointer-events: auto;\n  "),(0,o.Z)(s,"alertTextContainerStyles","\n    flex: 1 1 0%;\n  "),(0,o.Z)(s,"alertTextStyles","\n    font-weight: 600px;\n    line-height: 20px;\n    margin-bottom: 0;\n    margin-top: 0;\n    letter-spacing: -0.05px;\n    font-size: 14px;\n  "),(0,o.Z)(s,"alertRemoveButtonStyles","\n    transform: rotate(45deg);\n    margin-left: 10px;\n    cursor: pointer;\n    font-size: 26px;\n  "),(0,o.Z)(s,"alertColors",{error:"#f56c6c",info:"#909399",success:"#67c23a",warning:"#e6a23c"}),(0,o.Z)(s,"notificationLogoHTML",`\n    <a href="https://vuukle.com" target="_blank" rel="noopener nofollow" style="margin-right: 5px;">\n      ${(0,n.Ew)(30,"0 0 30 30")}\n    </a>\n  `);const a=s},867:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(208),n=i(801),s=i(324);class a{static getParams(e,t,i=!1){const o=a.cleanString(e.title||""),n={action:t,hashed_email:s.Z.userAPIKey,hostname:e.apiKey,pubdomain:e.host,refDomain:a.cleanString(e.refHost||""),sessionId:s.Z.sessionID,version:"4.20",articleImg:"",articleTitle:encodeURI(o).replace(/#/g,"%23"),article_id:encodeURI(e.articleId||""),hashed_article_url:encodeURIComponent(a.cleanUrl(e.url)),referrer:encodeURI(e.author||""),tags:a.processTag(e.tags||""),browser:s.Z.browser,device:s.Z.device,os:s.Z.os};let r="";return i&&Object.keys(n).forEach(((e,t)=>{r+=0===t?`${e}=${n[e]}`:`&${e}=${n[e]}`})),i?r:n}static async reportBot(e){if(!a.botReported)try{if(""!==e.url.trim()){const t=a.getParams(e,"bot_detected");e.amp&&(t.device="AMP");const i=new XMLHttpRequest;i.open("GET",`https://publish.vuukle.com/bq-publish?callback=&${JSON.stringify(t)}&_=1489139930741`),i.send(),a.botReported=!0}}catch(e){(0,n.qu)("warn","ServerLogger request failed")}}static async logPost(e,t,i=!1,o=[]){(0,n.qu)("log",`đŸ“ [BQ Event]\n      - action: ${e},\n      - article params: ${JSON.stringify(t)}`);try{if(""!==t.url.trim()){let n=a.getParams(t,e,!0);if(o.length>0&&o.forEach((e=>{n+=`&${e.key}=${e.value}`})),t.amp&&(n+="&device=AMP"),i){const i=a.getParams(t,e);t.amp&&(i.device="AMP"),o.length>0&&o.forEach((e=>{i[e.key]=e.value})),navigator.sendBeacon("https://publish.vuukle.com/bq-publish",JSON.stringify(i))}else{const t=new XMLHttpRequest;t.open("POST","https://publish.vuukle.com/bq-publish"),t.send(n),"view_page"===e&&(t.onreadystatechange=()=>{if((4===t.readyState||200===t.status)&&t.responseText){const e=JSON.parse(t.response);a.onIPReceived.forEach((t=>t(e.ip))),window._vuukleGeo?window._vuukleGeo.ip=e.ip:window._vuukleGeo={ip:e.ip}}})}}}catch(e){(0,n.qu)("warn","ServerLogger request failed")}}static async log(e,t,i=[]){if(!s.Z.isBot||e.includes("ivt"))if(s.Z.userCountryDetermined){if("view_page"!==e||!a.viewPageFired){"view_page"===e&&(a.viewPageFired=!0),(0,n.qu)("log",`đŸ“ [BQ Event]\n      - action: ${e},\n      - article params: ${JSON.stringify(t)}`);try{if(""!==t.url.trim()){const o=a.getParams(t,e);i.length>0&&i.forEach((e=>{o[e.key]=e.value})),t.amp&&(o.device="AMP");const n=new XMLHttpRequest;n.open("GET",`https://publish.vuukle.com/bq-publish?callback=&${JSON.stringify(o)}&_=1489139930741`),n.send(),"view_page"===e&&(n.onreadystatechange=()=>{if((4===n.readyState||200===n.status)&&n.responseText){const e=JSON.parse(n.response);a.onIPReceived.forEach((t=>t(e.ip))),window._vuukleGeo?window._vuukleGeo.ip=e.ip:window._vuukleGeo={ip:e.ip}}})}}catch(e){(0,n.qu)("warn","ServerLogger request failed")}}}else setTimeout((()=>a.log(e,t,i)),100)}static cleanString(e){let t="";try{t=e.replace(/[\[\]\{\}\\/\"\']/g,"")}catch(i){t=e.replace(/\[/g,"").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").replace(/\{/g,"").replace(/\}/g,"").replace(/\\/g,"")}return t&&0!==t.length||(t=e.replace("[","").replace("]","").replace(/"/g,"").replace(/'/g,"")),t}static processTag(e){return e.split(",")[0].replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").slice(0,10)}static cleanUrl(e){if(""===e.trim()||!e)return"";try{const t=new URL(e);return t.hostname.replace("www.","").replace(/^(m\.)/,"")+t.pathname+t.search}catch(e){return""}}}(0,o.Z)(a,"viewPageFired",!1),(0,o.Z)(a,"botReported",!1),(0,o.Z)(a,"onIPReceived",new Map);const r=a},324:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var o=i(208),n=i(654),s=i(655),a=i(830),r=(i(9),i(801));const l=void 0!==navigator.userAgentData;function d(){return i.e(163).then(i.bind(i,465))}function c(){return i.e(858).then(i.bind(i,891))}async function u(){if(l){return(await d()).detectBrowser()}return(await c()).detectBrowser()}async function h(){if(l){return(await d()).detectDevice()}return(await c()).detectDevice()}async function m(){if(l){return(await d()).detectOS()}return(await c()).detectOS()}var f=i(589),g=i(148),p=i(715),v=i(867),b=i(164);class y{static get canUseCookies(){return y._canUseCookies}static set canUseCookies(e){y._canUseCookies!==e&&(y._canUseCookies=e,y.executeCallbacks(),y.cookieChangeListeners.forEach((t=>t(e))))}static addGeoListener(e,t){this.userCountryDetermined?t({country:this.userCountry}):y.onGeoDataReceived.set(e,t)}static get sessionID(){const e=a.Z.amp?(0,g._2)("vsid"):s.Z.get("vsid");if(!e&&y.canUseCookies){const e=(0,f.qs)();return a.Z.amp?(0,g.ti)("vsid",e):s.Z.set("vsid",e,y.sameSiteCookieOptions),e}if(!e&&!y.canUseCookies){const e=(0,f.qs)();y.storageUpdateCallbacks.add((()=>{a.Z.amp?(0,g.ti)("vsid",e):s.Z.set("vsid",e,y.sameSiteCookieOptions)}))}return e||(0,f.qs)()}static executeCallbacks(){y.canUseCookies&&y.storageUpdateCallbacks.size>0&&(y.storageUpdateCallbacks.forEach((e=>e())),y.storageUpdateCallbacks.clear())}static get userAPIKey(){if(y.userID)return y.userID;const e=a.Z.amp?(0,g._2)("uid-s"):s.Z.get("uid-s");if(e)return"$"+e.substring(1);const t=`${(0,f.qs)().substring(1)}`;return y.canUseCookies?a.Z.amp?(0,g.ti)("uid-s",t):s.Z.set("uid-s",t,{expires:365,sameSite:"lax"}):y.storageUpdateCallbacks.add((()=>{a.Z.amp?(0,g.ti)("uid-s",t):s.Z.set("uid-s",t,{expires:365,sameSite:"lax"})})),"$"+t.substring(1)}static set userAPIKey(e){y.userID=e}static deleteCookies(){a.Z.amp?((0,g.ti)("vsid",null),(0,g.ti)("uid-s",null),(0,g.ti)("vuukle_geo_region",null)):(s.Z.remove("vsid",y.sameSiteCookieOptions),s.Z.remove("uid-s",{expires:365,sameSite:"Lax"}),s.Z.remove("vuukle_geo_region",{expires:7,sameSite:"Lax"}),s.Z.remove("vuukle_notification_subscription",{expires:180,sameSite:"Lax"}),s.Z.remove("vuukle_notification_subscription_dismissed",{expires:1,sameSite:"Lax"})),b.Z.removeToken(),b.Z.setAnonToken(null),(0,g.ti)("hrefAfter",null),(0,g.ti)("showedNotes",null),(0,g.ti)(`vuukleconfhttps://cdn.vuukle.com/ads/${a.Z.host}.json`,null),(0,g.ti)(`vuukleconftimehttps://cdn.vuukle.com/ads/${a.Z.host}.json`,null),(0,g.ti)("_vuukleGeo",null)}static async provideUserInfoInGlobalObject(e){let t=e.browser;"unknown"!==y.browser&&"unknown"!==t||(t=await u());const i={city:e.region,country_code:e.countryName||e.country_code,browser:t,device:e.device,os:e.os};window._vuukleGeo?window._vuukleGeo={...window._vuukleGeo,...i}:window._vuukleGeo=i,y.onGeoDataReceived.forEach((t=>t({country:e.countryName||e.country_code})))}static async determineCookieUsability(){(0,r.IW)(r.PP.geoRequestStart),(0,r.rX)(r.J8.platformStartToGeoStart,r.PP.platformStart,r.PP.geoRequestStart);const e=e=>{y.GDPRCountryCodes.includes(e)||(y.canUseCookies=!0),y.userCountry=e},t=a.Z.amp?(0,g._2)("vuukle_geo_region"):s.Z.get("vuukle_geo_region"),i=window._vuukleGeo;if(t){const i=JSON.parse(t);y.browser=i.browser||"unknown",y.os=i.os||"unknown",y.device=i.device||"unknown",y.userCountry=i.country_code,y.provideUserInfoInGlobalObject(i),(0,r.IW)(r.PP.geoRequestCache),(0,r.rX)(r.J8.platformStartToGeoCache,r.PP.platformStart,r.PP.geoRequestCache),e(i.country_code),y.userCountryDetermined=!0}else if(i)(0,r.IW)(r.PP.geoRequestCache),(0,r.rX)(r.J8.platformStartToGeoCache,r.PP.platformStart,r.PP.geoRequestCache),e(i.country_code),y.onGeoDataReceived.forEach((e=>e({country:i.country_code}))),y.userCountryDetermined=!0;else try{const e=void 0?"https://cdntest.vuukle.com/getGeo":"https://vuukle.com/getGeo",t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-Type","text/plain"),t.send(JSON.stringify({viewportWidth:window.innerWidth})),t.onreadystatechange=async()=>{if(4===t.readyState&&200===t.status){const e=JSON.parse(t.responseText);if(e){const t=y.GDPRCountryCodes.includes(e.countryName),i="California"===e.region;y.isGDPR=t,y.isCCPA=i,y.userCountry=e.countryName,y.browser=e.browser,y.os=e.os,y.device=e.device,y.canUseCookies=!t&&!i;const o={country_code:e.countryName,region:e.region,os:e.os,device:e.device,browser:e.browser};if(!e.countryName){const e=await(0,n.$f)("GET","https://get.geojs.io/v1/ip/country.json",void 0,"text/plain");o.country_code=e.country,y.userCountry=e.country}y.userCountryDetermined=!0,t||i?y.checkForConsent():a.Z.amp?(0,g.m4)("vuukle_geo_region",JSON.stringify(o),168):s.Z.set("vuukle_geo_region",JSON.stringify(o),{expires:7,sameSite:"lax"}),y.provideUserInfoInGlobalObject(e)}}(0,r.IW)(r.PP.geoRequestEnd),(0,r.rX)(r.J8.geoStartToEnd,r.PP.geoRequestStart,r.PP.geoRequestEnd),(0,r.rX)(r.J8.platformStartToGeoEnd,r.PP.platformStart,r.PP.geoRequestEnd)},t.onerror=async()=>{y.device=await h(),y.os=await m(),y.browser=await u(),y.userCountryDetermined=!0}}catch(e){(0,r.IW)(r.PP.geoRequestError),(0,r.rX)(r.J8.geoStartToError,r.PP.geoRequestStart,r.PP.geoRequestError),(0,r.rX)(r.J8.platformStartToGeoError,r.PP.platformStart,r.PP.geoRequestError),(0,r.qu)("error",e),y.device=await h(),y.os=await m(),y.browser=await u(),y.userCountryDetermined=!0}}static checkVuukleVendor(e){return!(!e.vendorData.vendor.consents||"boolean"!=typeof e.vendorData.vendor.consents[`${y.VUUKLE_VENDOR_ID}`])&&((0,r.qu)("log","vuukle consent",e.vendorData.vendor.consents[`${y.VUUKLE_VENDOR_ID}`]),y.canUseCookies=e.vendorData.vendor.consents[`${y.VUUKLE_VENDOR_ID}`],!0)}static consentChangeListener(e){let t=!0;const i=(i,o)=>{if(o&&"useractioncomplete"===i.eventStatus){const o=i.vendor.consents[y.VUUKLE_VENDOR_ID];(0,r.qu)("log","consent data",i,o,e),"boolean"==typeof o&&(y.canUseCookies=o,e&&t&&(e(o),t=!0))}},o=setInterval((()=>{window.__tcfapi&&(window.__tcfapi("addEventListener",2,i),clearInterval(o))}),1e3)}static moveCCPABox(){if(!y.ccpaBoxMoved){const e=p.xw[a.Z.apiKey];e&&e.CCPABox&&(window.googlefc=window.googlefc||{},window.googlefc.ccpa=window.googlefc.ccpa||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],window.googlefc.callbackQueue.push({INITIAL_CCPA_DATA_READY:()=>{const t=document.querySelector(".fc-ccpa-root");if(t){const i=document.querySelector(e.CCPABox.moveTo);i&&(e.CCPABox.movePosition&&"before"===e.CCPABox.movePosition?i.insertAdjacentElement("beforebegin",t):e.CCPABox.movePosition&&"after"===e.CCPABox.movePosition?i.insertAdjacentElement("afterend",t):i.appendChild(t),y.ccpaBoxMoved=!0)}const i=setInterval((()=>{window.__uspapi("getUSPData",1,(e=>{if("Y"===e.uspString[2]||e.uspString.includes("-")){var o;if(t)null===(o=t.parentElement)||void 0===o||o.removeChild(t);clearInterval(i)}}))}),1e3)}}))}}static uspConsentListener(e){let t=!0;const i=(i,o)=>{o&&((0,r.qu)("log","usp consent data",i,e),"N"===i.uspString[2]||i.uspString.includes("-")?y.canUseCookies=!0:"Y"===i.uspString[2]&&(y.canUseCookies=!1),t&&(e&&e(y.canUseCookies),y.moveCCPABox(),t=!1))};setInterval((()=>{window.__uspapi&&window.__uspapi("getUSPData",1,i)}),2500),setTimeout((()=>{window.__uspapi||v.Z.log("no_ccpa_support",a.Z)}),25e3)}static async checkForConsent(){if(!y.userCountry)return setTimeout((()=>y.checkForConsent()),200);if(a.Z.amp)return y.checkForAMPConsent();y.isGDPR&&y.consentChangeListener(),y.isCCPA&&y.uspConsentListener();const{requestCMP:e,requestUSP:t}=await i.e(950).then(i.bind(i,270));y.isGDPR&&e((e=>{e&&e.consentString&&e.vendorData&&((0,r.qu)("log","consent info",e),y.checkVuukleVendor(e))})),y.isCCPA&&t((e=>{e&&e.usPrivacy&&("N"===e.usPrivacy[2]||e.usPrivacy.includes("-")?y.canUseCookies=!0:"Y"===e.usPrivacy[2]&&(y.canUseCookies=!1),y.moveCCPABox())}))}static checkForAMPConsent(){"boolean"!=typeof a.Z.ampConsent&&"boolean"!=typeof window._granted||((0,r.qu)("log","AMP consent",a.Z.ampConsent||window._granted),y.canUseCookies=Boolean(a.Z.ampConsent||window._granted))}static loadCMP(e){if(y.userCountry||setTimeout((()=>y.loadCMP(e)),100),y.isGDPR||y.isCCPA){const t=document.createElement("script"),i=document.createElement("script"),o=e||"42d2f509-fe7c-4488-9a1e-e253af7103f2-test",n=void 0;t.dataset.domainScript=o,t.type="text/javascript",t.src=n?`https://cookie-cdn.cookiepro.com/consent/${o}/otSDKStub.js`:"https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js",i.type="text/javascript",i.innerHTML="function OptanonWrapper(){}",document.head.insertAdjacentElement("afterbegin",t),document.head.insertAdjacentElement("afterbegin",i)}}}(0,o.Z)(y,"GDPRCountryCodes",["GB","BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","IS","LI","NO","BR","CA","California"]),(0,o.Z)(y,"_canUseCookies",!1),(0,o.Z)(y,"sameSiteCookieOptions",{expires:30,sameSite:"lax"}),(0,o.Z)(y,"userCountry",""),(0,o.Z)(y,"userCountryDetermined",!1),(0,o.Z)(y,"userID",""),(0,o.Z)(y,"isGDPR",void 0),(0,o.Z)(y,"isCCPA",void 0),(0,o.Z)(y,"VUUKLE_VENDOR_ID",1004),(0,o.Z)(y,"storageUpdateCallbacks",new Set),(0,o.Z)(y,"browser","unknown"),(0,o.Z)(y,"os","unknown"),(0,o.Z)(y,"device","unknown"),(0,o.Z)(y,"isMobileUser",window.innerWidth<=1024),(0,o.Z)(y,"cookieChangeListeners",new Map),(0,o.Z)(y,"onGeoDataReceived",new Map),(0,o.Z)(y,"ccpaBoxMoved",!1),(0,o.Z)(y,"isBot",/(bot|check|cloud|crawler|download|monitor|preview|scan|spider|google|qwantify|yahoo|facebookexternalhit|flipboard|tumblr|vkshare|whatsapp|curl|perl|python|wget|heritrix|ia_archiver)/i.test(navigator.userAgent)),(0,o.Z)(y,"startTimestamp",Math.floor(Date.now()/1e3));const w=y},164:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(208),n=i(655),s=i(830),a=i(148),r=i(324);const l=new class{constructor(){(0,o.Z)(this,"anonCommenting",!1),(0,o.Z)(this,"defaultCookieOptions",{expires:30,sameSite:"Lax"}),(0,o.Z)(this,"useIsolatedToken",!1),(0,o.Z)(this,"guestCommenting",!1),(0,o.Z)(this,"regularCommenting",!0),(0,o.Z)(this,"ssoTokenChangeListeners",new Map)}isRegularTokenPresent(){const e=`vuukle_${this.useIsolatedToken?s.Z.apiKey+"-":""}token`;return s.Z.amp?null!==(0,a._2)(e):void 0!==n.Z.get(e)}isAnonymousTokenPresent(){return s.Z.amp?null!==(0,a._2)("vuukle_anonymous_token"):void 0!==n.Z.get("vuukle_anonymous_token")}fireTokenListeners(){this.ssoTokenChangeListeners.forEach((e=>e(this.getToken()||"")))}get tokenName(){return this.isRegularTokenPresent()||this.regularCommenting?`vuukle_${this.useIsolatedToken?s.Z.apiKey+"-":""}token`:this.guestCommenting&&!this.anonCommenting?"vuukle_guest_token":"vuukle_anonymous_token"}setSSOInfo(e){this.useIsolatedToken=e}setGuestCommenting(e){this.guestCommenting=e}setRegularCommenting(e){this.regularCommenting=e}setAnonymousCommenting(e){this.anonCommenting=e}saveToken(e){r.Z.canUseCookies?s.Z.amp?(0,a.ti)(this.tokenName,e):n.Z.set(this.tokenName,e,this.defaultCookieOptions):r.Z.storageUpdateCallbacks.add((()=>{s.Z.amp?(0,a.ti)(this.tokenName,e):n.Z.set(this.tokenName,e,this.defaultCookieOptions)}))}setGuestToken(e){r.Z.canUseCookies?s.Z.amp?(0,a.ti)("vuukle_guest_token",e):n.Z.set("vuukle_guest_token",e,this.defaultCookieOptions):r.Z.storageUpdateCallbacks.add((()=>{s.Z.amp?(0,a.ti)("vuukle_guest_token",e):n.Z.set("vuukle_guest_token",e,this.defaultCookieOptions)}))}getAnonToken(){return s.Z.amp?(0,a._2)("vuukle_anonymous_token")||"":n.Z.get("vuukle_anonymous_token")||""}setAnonToken(e){e||(s.Z.amp?(0,a.ti)("vuukle_anonymous_token",null):n.Z.remove("vuukle_anonymous_token",r.Z.sameSiteCookieOptions)),r.Z.canUseCookies?e&&(s.Z.amp?(0,a.ti)("vuukle_anonymous_token",e):n.Z.set("vuukle_anonymous_token",e,r.Z.sameSiteCookieOptions)):e&&r.Z.storageUpdateCallbacks.add((()=>{s.Z.amp?(0,a.ti)("vuukle_anonymous_token",e):n.Z.set("vuukle_anonymous_token",e,r.Z.sameSiteCookieOptions)}))}removeToken(){s.Z.amp?(0,a.ti)(this.tokenName,null):n.Z.remove(this.tokenName,this.defaultCookieOptions)}getToken(){return s.Z.amp?(0,a._2)(this.tokenName)||void 0:n.Z.get(this.tokenName)}}},962:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});const o=new URLSearchParams(window.location.search)},739:(e,t,i)=>{"use strict";function o(e,t){const i=document.querySelector(`meta[${e}='${t}']`);return i instanceof HTMLMetaElement?i.content:""}function n(e){const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,n=t.top<=i&&t.top+t.height>=0,s=t.left<=o&&t.left+t.width>=0;return n&&s}function s(e){let t,i;return!(!e||1!==e.nodeType)&&(i=document.documentElement,t=e.getBoundingClientRect(),!!t&&t.bottom>=0&&t.right>=0&&t.top<=i.clientHeight&&t.left<=i.clientWidth)}async function a(e,t,i,o=window){return new Promise((n=>{let s=0;const a=setInterval((()=>{const t=o.document.querySelector(e);t&&(clearInterval(a),n(t)),s===i&&(clearInterval(a),n(null)),s++}),t)}))}function r(e){const t=document.createElement("link");return t.href=e,t.as="script",t.rel="prefetch",document.head.appendChild(t),t}i.d(t,{Me:()=>r,bq:()=>o,br:()=>a,fs:()=>l,oS:()=>d,v4:()=>s,w1:()=>n});const l=(e,t={},i=window)=>new Promise(((o,n)=>{const s=i.document.createElement("script");s.type="text/javascript",s.src=e,s.onload=()=>o(e),s.onerror=n,s.async=!0,t instanceof Object&&Object.keys(t).forEach((e=>s[e]=t[e]));try{i.document.head.appendChild(s)}catch(e){n(e)}}));function d(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent}},589:(e,t,i)=>{"use strict";function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function n(e,t){return`\n    <svg\n      width="${e}px"\n      viewbox="${t||"0 0 143 30"}"\n      version="1.1"\n      xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n    >\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-150.000000, -31.000000)" fill-rule="nonzero">\n          <g transform="translate(150.000000, 31.000000)">\n            <path\n              d="M41.8097027,29.0691892 L42.3657568,29.0691892 L54.204,1.80093081 L48.8013243,1.80093081 L44.2726216,12.2153514 C43.2397297,14.5605405 42.2069189,18.3368108 42.2069189,18.3368108 C42.2069189,18.3368108 41.1342973,14.5208108 40.1014865,12.2153514 L35.4535946,1.80093081 L29.4948649,1.80093081 L41.8097027,29.0691892 Z M59.7741892,29.1883784 C62.118,29.1883784 64.0645946,28.0754595 65.0974054,26.0481892 L64.9782162,28.8307297 L70.3412432,28.8307297 L70.3412432,11.8972703 L64.9782162,11.8972703 L64.9782162,20.9602703 C64.9782162,23.1067297 63.7864865,24.339 61.6413243,24.339 C59.7345405,24.339 58.8207568,23.226 58.8207568,21.318 L58.8207568,11.8972703 L53.4578919,11.8972703 L53.4578919,21.6757297 C53.4578919,26.4854595 56.0797297,29.1883784 59.7741892,29.1883784 Z M80.7617838,29.1883784 C83.1056757,29.1883784 85.0524324,28.0754595 86.0845946,26.0481892 L85.9662162,28.8307297 L91.3289189,28.8307297 L91.3289189,11.8972703 L85.9662162,11.8972703 L85.9662162,20.9602703 C85.9662162,23.1067297 84.7743243,24.339 82.6289189,24.339 C80.7218919,24.339 79.8081892,23.226 79.8081892,21.318 L79.8081892,11.8972703 L74.4458919,11.8972703 L74.4458919,21.6757297 C74.4458919,26.4854595 77.0671622,29.1883784 80.7617838,29.1883784 Z M100.915946,23.9414595 L102.345405,22.431 L106.556757,28.8307297 L112.793514,28.8307297 L106.158649,18.8138108 L112.157838,11.8972703 L106.198378,11.8972703 L100.637838,18.4162703 C100.796757,17.343 100.915946,16.0312703 100.915946,14.7592703 L100.915946,0.131416216 L95.5524324,0.131416216 L95.5524324,28.8307297 L100.915946,28.8307297 L100.915946,23.9414595 Z M115.301351,28.8307297 L120.624324,28.8307297 L120.624324,0.131416216 L115.301351,0.131416216 L115.301351,28.8307297 Z M129.844865,21.9937297 L142.675946,21.9937297 C143.073243,16.071 139.776486,11.5395405 133.697838,11.5395405 C128.454324,11.5395405 124.362973,15.1965405 124.362973,20.3242703 C124.362973,25.5314595 128.256486,29.1883784 134.293784,29.1883784 C137.82973,29.1883784 139.894865,28.1151892 141.524595,26.6841892 L138.465405,23.3849189 C137.631081,23.9811892 136.161081,24.7364595 134.214324,24.7364595 C131.790811,24.7364595 130.361351,23.7427297 129.844865,21.9937297 Z M129.765405,18.8931892 C130.202432,16.866 131.631892,15.9120811 133.738378,15.9120811 C135.843243,15.9120811 137.035135,17.0250811 137.272703,18.8931892 L129.765405,18.8931892 Z"\n              id="Shape"\n              fill="#FACC2B"\n            />\n            <path\n              d="M12.4448919,5.99524054 C5.66632703,5.99524054 0.171030811,10.9249459 0.171030811,17.0061892 C0.171030811,19.2473514 0.919248649,21.3307297 2.20112432,23.0697568 C2.03273514,25.079027 1.54816216,27.9091622 0.171030811,29.2876216 C0.171030811,29.2876216 4.37897838,28.6966216 7.22951351,26.9742973 C8.81278378,27.6419189 10.5797838,28.0171622 12.4448919,28.0171622 C19.2235135,28.0171622 24.7187838,23.0874324 24.7187838,17.0061892 C24.7187838,10.9249459 19.2235135,5.99524054 12.4448919,5.99524054 Z"\n              id="Path"\n              fill="#FACC2B"\n            />\n            <path\n              d="M12.4448919,5.99524054 C5.66632703,5.99524054 0.171030811,10.9249459 0.171030811,17.0061892 C0.171030811,19.2473514 0.919248649,21.3307297 2.20112432,23.0697568 C2.03273514,25.079027 1.54816216,27.9091622 0.171030811,29.2876216 C0.171030811,29.2876216 4.37897838,28.6966216 7.22951351,26.9742973 C8.81278378,27.6419189 10.5797838,28.0171622 12.4448919,28.0171622 C19.2235135,28.0171622 24.7187838,23.0874324 24.7187838,17.0061892 C24.7187838,10.9249459 19.2235135,5.99524054 12.4448919,5.99524054 Z"\n              id="Path"\n              fill="#4885ED"\n            />\n            <path\n              d="M12.4421351,24.8694324 L12.7312703,24.8694324 L18.8872703,10.6898108 L16.0778919,10.6898108 L13.7228919,16.1052973 C13.1858108,17.3249189 12.6487297,19.2884595 12.6487297,19.2884595 C12.6487297,19.2884595 12.0908919,17.3041622 11.5538108,16.1052973 L9.13686486,10.6898108 L6.03832703,10.6898108 L12.4421351,24.8694324 Z"\n              id="Path"\n              fill="#FFFFFF"\n            />\n            <path\n              d="M28.6454595,12.7881892 C28.6454595,6.70699459 23.1501892,1.77718703 16.3715676,1.77718703 C11.4767027,1.77718703 7.25202973,4.34843514 5.28135405,8.06723514 C7.29767838,6.76494324 9.7697027,5.99514324 12.4439189,5.99514324 C19.2225405,5.99514324 24.7178108,10.9248649 24.7178108,17.0061892 C24.7178108,19.3322432 23.9117027,21.4883514 22.5394054,23.2662162 C25.2882973,24.594973 28.6454595,25.0696216 28.6454595,25.0696216 C27.2682973,23.6915676 26.7837568,20.8614324 26.6153514,18.8517568 C27.8972432,17.1127297 28.6454595,15.0293514 28.6454595,12.7881892 Z"\n              id="Path"\n              fill="#FACC2B"\n            />\n          </g>\n        </g>\n      </g>\n    </svg>\n  `}function s(){function e(e){return e.toString().padStart(2,"0")}const t=new Date;return`[${t.getHours().toString()}:${e(t.getMinutes())}:${e(t.getSeconds())}]`}function a(e){return+(Math.round(Number(e+"e+2"))+"e-2")}function r(e){return e[0].toUpperCase()+e.slice(1)}i.d(t,{Ew:()=>n,So:()=>a,kC:()=>r,qs:()=>o,xz:()=>s})},148:(e,t,i)=>{"use strict";function o(e,t,i=window){try{null===t?(i.localStorage.removeItem(e),i.localStorage.removeItem(`${e}_duration`)):i.localStorage.setItem(e,t)}catch(e){}}function n(e,t,i){o(`${e}_duration`,(Date.now()+60*i*60*1e3).toString()),o(e,t)}function s(e){try{const t=localStorage.getItem(`${e}_duration`);if(t){return Date.now()>parseInt(t)?(o(`${e}_duration`,null),o(e,null),null):localStorage.getItem(e)}return localStorage.getItem(e)}catch(e){return null}}i.d(t,{_2:()=>s,m4:()=>n,ti:()=>o})},654:(e,t,i)=>{"use strict";function o(){}i.d(t,{$f:()=>a,ZV:()=>o,qN:()=>n,vh:()=>s});var n=e=>{var t=navigator.userAgent.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return t&&t[0]===e.toString()};function s(e){var t=document.createElement("p");return t.innerHTML=e,t.innerText.trim()}var a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i instanceof FormData?"":"application/json",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Promise(((a,r)=>{var l,d=new XMLHttpRequest,c="GET"===e?"".concat(t,"?").concat("object"==typeof i&&null!==i?(l=i,Object.keys(l).filter((e=>void 0!==l[e]&&null!==l[e])).map((e=>"".concat(e,"=").concat(encodeURIComponent(l[e])))).join("&")):{}):t;d.open(e,c,!0),o&&d.setRequestHeader("Content-Type",o),n&&d.setRequestHeader("Authorization","Bearer ".concat(n)),s&&(d.withCredentials=!0),d.onload=()=>{d.status>=200&&d.status<300?a(JSON.parse(d.response)):r(new Error(d.statusText))},d.onerror=()=>r(new Error(d.statusText)),d.onabort=()=>r(new Error("cancelled")),"GET"===e?d.send():i instanceof FormData?d.send(i):d.send(JSON.stringify(i))}))}},812:(e,t,i)=>{var o=i(199);e.exports=function(e){return function t(i){return 0===arguments.length||o(i)?t:e.apply(this,arguments)}}},811:(e,t,i)=>{var o=i(812),n=i(199);e.exports=function(e){return function t(i,s){switch(arguments.length){case 0:return t;case 1:return n(i)?t:o((function(t){return e(i,t)}));default:return n(i)&&n(s)?t:n(i)?o((function(t){return e(t,s)})):n(s)?o((function(t){return e(i,t)})):e(i,s)}}}},844:(e,t,i)=>{var o=i(812),n=i(811),s=i(199);e.exports=function(e){return function t(i,a,r){switch(arguments.length){case 0:return t;case 1:return s(i)?t:n((function(t,o){return e(i,t,o)}));case 2:return s(i)&&s(a)?t:s(i)?n((function(t,i){return e(t,a,i)})):s(a)?n((function(t,o){return e(i,t,o)})):o((function(t){return e(i,a,t)}));default:return s(i)&&s(a)&&s(r)?t:s(i)&&s(a)?n((function(t,i){return e(t,i,r)})):s(i)&&s(r)?n((function(t,i){return e(t,a,i)})):s(a)&&s(r)?n((function(t,o){return e(i,t,o)})):s(i)?o((function(t){return e(t,a,r)})):s(a)?o((function(t){return e(i,t,r)})):s(r)?o((function(t){return e(i,a,t)})):e(i,a,r)}}}},550:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},579:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},199:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},95:(e,t,i)=>{var o=i(811),n=i(127),s=o((function(e,t){return n((function(e,t,i){return t}),e,t)}));e.exports=s},127:(e,t,i)=>{var o=i(844),n=i(579),s=i(857),a=o((function e(t,i,o){return s((function(i,o,s){return n(o)&&n(s)?e(t,o,s):t(i,o,s)}),i,o)}));e.exports=a},857:(e,t,i)=>{var o=i(844),n=i(550),s=o((function(e,t,i){var o,s={};for(o in t)n(o,t)&&(s[o]=n(o,i)?e(o,t[o],i[o]):t[o]);for(o in i)n(o,i)&&!n(o,s)&&(s[o]=i[o]);return s}));e.exports=s},655:(e,t,i)=>{"use strict";function o(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}i.d(t,{Z:()=>s});var n=function e(t,i){function n(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=o({},i,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in s)s[r]&&(a+="; "+r,!0!==s[r]&&(a+="="+s[r].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],o={},n=0;n<i.length;n++){var s=i[n].split("="),a=s.slice(1).join("=");try{var r=decodeURIComponent(s[0]);if(o[r]=t.read(a,r),e===r)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){n(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const s=n},208:(e,t,i)=>{"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function s(e,t,i){return(t=n(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s})}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,i)=>(o.f[i](e,t),t)),[])),o.u=e=>326===e?"frb.platform.js":{163:"chu",231:"ppv",384:"webntf",858:"uau",909:"webntfpop",950:"cnsnt"}[e]+".platform.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},o.l=(t,i,n,s)=>{if(e[t])e[t].push(i);else{var a,r;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==t){a=c;break}}a||(r=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=t),e[t]=[i];var u=(i,o)=>{a.onerror=a.onload=null,clearTimeout(h);var n=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(o))),i)return i(o)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),r&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,i)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,o)=>n=e[t]=[i,o]));i.push(n[2]=s);var a=o.p+o.u(t),r=new Error;o.l(a,(i=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,n[1](r)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,[a,r,l]=i,d=0;if(a.some((t=>0!==e[t]))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)l(o)}for(t&&t(i);d<a.length;d++)s=a[d],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunk=self.webpackChunk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=o(801),t=o(830),i=(o(9),o(208)),n=o(655);class s{}(0,i.Z)(s,"baseUrl","https://cdn.vuukle.com/widgets"),(0,i.Z)(s,"baseLegacyUrl","https://cdn.vuukle.com/legacy/widgets"),(0,i.Z)(s,"urls",{comments:`${s.baseUrl}/index.html`,emotes:`${s.baseUrl}/emotes.html`,modal:`${s.baseUrl}/modal.html`,newsfeed:`${s.baseUrl}/newsfeed.js`,trafficExchange:`${s.baseUrl}/trafficexchange.js`,powerbar:`${s.baseUrl}/powerbar.html`,sharebar:`${s.baseUrl}/sharebar.html`,subscribe:`${s.baseUrl}/subscribe.html`,verticalSharebar:`${s.baseUrl}/sharebar.html`,verticalPowerbar:`${s.baseUrl}/powerbar.html`,audio:`${s.baseUrl}/audio.html`,quiz:`${s.baseUrl}/quiz.html`}),(0,i.Z)(s,"legacyUrls",{comments:`${s.baseUrl}/index-legacy.html`,emotes:`${s.baseUrl}/emotes-legacy.html`,modal:`${s.baseUrl}/modal-legacy.html`,sharebar:`${s.baseUrl}/sharebar-legacy.html`,verticalSharebar:`${s.baseUrl}/sharebar-legacy.html`,powerbar:`${s.baseUrl}/powerbar-legacy.html`,verticalPowerbar:`${s.baseUrl}/powerbar-legacy.html`,newsfeed:`${s.baseUrl}/newsfeed.js`,trafficExchange:`${s.baseUrl}/trafficexchange.js`,subscribe:`${s.baseUrl}/subscribe-legacy.html`,audio:`${s.baseUrl}/audio-legacy.html`,quiz:`${s.baseUrl}/quiz.html`}),(0,i.Z)(s,"selectors",{comments:"#vuukle-comments",emotes:"#vuukle-emote",modal:"body",newsfeed:"#vuukle-newsfeed",trafficExchange:"#vuukle-traffic-exchange",quiz:"#vuukle-quiz",sharebar:".vuukle-sharebar",subscribe:".vuukle-subscribe",verticalSharebar:".vuukle-sharebar-vertical",powerbar:".vuukle-powerbar",verticalPowerbar:".vuukle-powerbar-vertical",audio:".vuukle-audio"}),(0,i.Z)(s,"versions",{comments:"3.30.3",emotes:"3.12.2",modal:"3.11.6",sharebar:"2.20.4",powerbar:"2.20.4",subscribe:"1.1.2",quiz:"1.2.1",audio:"1.1.0"});void 0!=="".matchAll||t.Z.hasOwnProperty("dev")||(s.urls.comments=s.legacyUrls.comments,s.urls.emotes=s.legacyUrls.emotes,s.urls.modal=s.legacyUrls.modal,s.urls.powerbar=s.legacyUrls.powerbar,s.urls.verticalPowerbar=s.legacyUrls.verticalPowerbar,s.urls.sharebar=s.legacyUrls.sharebar,s.urls.verticalSharebar=s.legacyUrls.verticalSharebar,s.urls.subscribe=s.legacyUrls.subscribe,s.urls.audio=s.legacyUrls.audio,s.urls.quiz=s.legacyUrls.quiz);const a=s;var r=o(867),l=o(324),d=o(962),c=o(739),u=o(589),h=o(148),m=o(715);class f{constructor(e,t,i){this.articleConfig=e,this.apiKeyConfig=t,this.communicationCreator=i,e.amp||("Safari"===l.Z.browser?this.detectAdblockerOnSafari():this.loadAdblockerBait())}detectAdblockerOnSafari(){f.adblockDetected?this.onAdblockDetected():setTimeout((()=>{const e=document.querySelectorAll(".vuukle-ads");if(0===e.length)this.onAdblockDetected(),f.adblockDetected=!0;else if(e.length>0){let t=0;e.forEach((e=>{const i=e.querySelector('div[id*="div-gpt-ad"]');(i&&""===i.innerHTML||!i)&&t++})),t===e.length&&(this.onAdblockDetected(),f.adblockDetected=!0)}f.adblockDetectionHasExecuted=!0}),2e3)}areAdsPresent(){return document.querySelector('.vuukle-ads div[id*="google_ads_iframe"]')||document.querySelector(".vuukle-ads div[data-google-query-id]")}async loadAdblockerBait(){if(f.adblockDetected)return void this.onAdblockDetected();const t=()=>{this.onAdblockDetected(),f.adblockDetected=!0};if(null===document.querySelector('link[href="https://securepubads.g.doubleclick.net/tag/js/gpt.js"]')){const i=(0,c.Me)("https://securepubads.g.doubleclick.net/tag/js/gpt.js");i.onerror=()=>{(0,e.Gf)("info",!0,"Vuukle - Adblocker found using real gpt.js method [onerror]"),t()},i.onload=()=>{"Firefox"===l.Z.browser?this.areAdsPresent()?((0,e.Gf)("info",!0,"Vuukle - Adblocker not found using real gpt.js method [onload]"),f.adblockDetectionHasExecuted=!0):((0,e.Gf)("info",!0,"Vuukle - Adblocker found using real gpt.js method [onload]"),t()):f.adblockDetectionHasExecuted=!0}}}onAdblockDetected(){var e,t;if(!this.articleConfig.amp&&!f.adblockDetectionHasExecuted){if(null!==(e=this.apiKeyConfig)&&void 0!==e&&e.loadUnblockia&&null===document.querySelector('script[src="https://cdn.unblockia.com/h.js"]')){const e=document.createElement("script");e.src="https://cdn.unblockia.com/h.js",e.defer=!0,e.onload=()=>{window.unblockiaVuukle=!0},e.onerror=()=>{this.apiKeyConfig.trackUnfilledAds&&r.Z.log("unfilled_ads",this.articleConfig,[{key:"unfilledAdId",value:"blocked"}])},document.head.appendChild(e)}else{var i;null!==(i=this.apiKeyConfig)&&void 0!==i&&i.trackUnfilledAds&&r.Z.log("unfilled_ads",this.articleConfig,[{key:"unfilledAdId",value:"blocked"}])}this.apiKeyConfig&&r.Z.log("ads_block",this.articleConfig),null===(t=this.communicationCreator)||void 0===t||t.tellWidgetsAboutAdblock(),f.adblockDetectionHasExecuted=!0}}}(0,i.Z)(f,"adblockDetected",!1),(0,i.Z)(f,"adblockDetectionHasExecuted",!1);const g=f;class p{static emptyTheContentsOfAnElement(e){for(;e.lastChild;)e.removeChild(e.lastChild)}static getTheGPTNumberOfTheAdTarget(e){const t=/\d+/g.exec(e);return t&&t[0]?t[0]||"":void 0}static applyDivInsertionStrategy(e,t,i,o,n=window){const s=n.document.createElement("div");switch(s.id=e.concat(t),i){case"after":o.insertAdjacentElement("afterend",s);break;case"before":o.insertAdjacentElement("beforebegin",s);break;case"prependInside":o.insertAdjacentElement("afterbegin",s);break;default:o.appendChild(s)}return s}}(0,i.Z)(p,"containsKeyword",((e,t)=>{for(const i of t)if(e.includes(i))return!0;return!1})),(0,i.Z)(p,"matchesPath",((e,t=window)=>{for(let i=0;i<e.length;i++){if(new RegExp(e[i]).test(t.location.pathname))return!0}return!1})),(0,i.Z)(p,"findSlotById",((e,t=window)=>t.googletag.pubads().getSlots().find((t=>t.getSlotElementId()===e))));const v=p;function b(e,t,i){return Math.min(Math.max(e,i),t)}class y extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var w=y;function k(e){if("string"!=typeof e)throw new w(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=E.test(e)?function(e){const t=e.toLowerCase().trim(),i=x[function(e){let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return(t>>>0)%2341}(t)];if(!i)throw new w(e);return`#${i}`}(e):e;const i=L.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(S(e,2),16))),parseInt(S(e[3]||"f",2),16)/255]}const o=A.exec(t);if(o){const e=Array.from(o).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const n=I.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const s=M.exec(t);if(s){const[t,i,o,n]=Array.from(s).slice(1).map(parseFloat);if(b(0,100,i)!==i)throw new w(e);if(b(0,100,o)!==o)throw new w(e);return[...Z(t,i,o),Number.isNaN(n)?1:n]}throw new w(e)}const C=e=>parseInt(e.replace(/_/g,""),36),x="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const i=C(t.substring(0,3)),o=C(t.substring(3)).toString(16);let n="";for(let e=0;e<6-o.length;e++)n+="0";return e[i]=`${n}${o}`,e}),{});const S=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),L=new RegExp(`^#${S("([a-f0-9])",3)}([a-f0-9])?$`,"i"),A=new RegExp(`^#${S("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),I=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${S(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),M=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,E=/^[a-z]+$/i,T=e=>Math.round(255*e),Z=(e,t,i)=>{let o=i/100;if(0===t)return[o,o,o].map(T);const n=(e%360+360)%360/60,s=(1-Math.abs(2*o-1))*(t/100),a=s*(1-Math.abs(n%2-1));let r=0,l=0,d=0;n>=0&&n<1?(r=s,l=a):n>=1&&n<2?(r=a,l=s):n>=2&&n<3?(l=s,d=a):n>=3&&n<4?(l=a,d=s):n>=4&&n<5?(r=a,d=s):n>=5&&n<6&&(r=s,d=a);const c=o-s/2;return[r+c,l+c,d+c].map(T)};function P(e){if("transparent"===e)return 0;function t(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}const[i,o,n]=k(e);return.2126*t(i)+.7152*t(o)+.0722*t(n)}function _(e){const t="rgba(0, 0, 0, 0)";if(!e)return t;const i=getComputedStyle(e);if("none"!==i.backgroundImage)return"";const o=i.backgroundColor;return o===t?_(e.parentElement):o}function D(e){if(!e)return 1;let t,i=_(e.parentElement);i.includes("rgba")&&(i=function(e){const t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(t){const[,e,i,o,n]=t,s=1-Number(n);return`rgb(${Math.min(Math.round(Number(e)+255*s),255)}, ${Math.min(Math.round(Number(i)+255*s),255)}, ${Math.min(Math.round(Number(o)+255*s),255)})`}return e}(i));try{t=(0,u.So)(P(i))}catch(e){t=1}return t}const O=class{constructor(e,t,i){this.apiKeyConfig=e,this.createPassbackUnit(t,i)}createPassbackAdLabel(e,t){const i=D(e),o=document.createElement("div");o.className="vuukle-ad-label",o.style.cssText=`\n        display: flex;\n        justify-content: space-evenly;\n        flex-basis: 100%;\n        margin: 0 auto 5px;\n        width: ${t}px;\n        height: 11px;\n        line-height: 1.1 !important;\n        padding: 0px;\n      `;const n=document.createElement("span");n.style.display="none";const s=document.createElement("a");s.ariaLabel="Vuukle",s.href="https://vuukle.com",s.target="_blank",s.rel="noopener nofollow",s.style.cssText="\n        background-color: transparent; \n        box-shadow: none;\n      ",s.innerHTML=(0,u.Ew)(11,"0 0 30 30"),n.appendChild(s);const a=document.createElement("span");return a.textContent="Advertisement",a.style.cssText=`\n        display: block;\n        font-size: 10px !important;\n        color: ${i<=.3?"#fff":"#6c757d"};\n        margin: 0px;\n        text-align: center;\n        flex: 1;\n        padding: 0px;\n        line-height: 1 !important;\n      `,o.appendChild(n),o.appendChild(a),o}createPassbackUnit(t,i){var o,n,s,a,r,l,d,c,u,h,m,f;if(!t)return void(0,e.qu)("warn","Placement element not present for passback unit. Skipping creation");const g=document.createElement("script");g.async=!0,g.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${this.apiKeyConfig.passbackCaPub}`,g.crossOrigin="anonymous";const p=document.createElement("ins");p.className="adsbygoogle",p.style.cssText=`\n        display: inline-block;\n        width: ${(null===(o=this.apiKeyConfig.targets)||void 0===o||null===(n=o[i])||void 0===n||null===(s=n.passbackUnit)||void 0===s?void 0:s.width)||300}px;\n        height: ${(null===(a=this.apiKeyConfig.targets)||void 0===a||null===(r=a[i])||void 0===r||null===(l=r.passbackUnit)||void 0===l?void 0:l.height)||250}px;\n      `,p.dataset.adClient=this.apiKeyConfig.passbackCaPub,p.dataset.adSlot=null===(d=this.apiKeyConfig.targets)||void 0===d||null===(c=d[i])||void 0===c||null===(u=c.passbackUnit)||void 0===u?void 0:u.adSlot;const v=document.createElement("script");v.innerHTML="(adsbygoogle = window.adsbygoogle || []).push({});",t.appendChild(g),t.appendChild(p),t.appendChild(v);const b=this.createPassbackAdLabel(t,(null===(h=this.apiKeyConfig.targets)||void 0===h||null===(m=h[i])||void 0===m||null===(f=m.passbackUnit)||void 0===f?void 0:f.width)||300);return t.insertAdjacentElement("afterbegin",b),t}};var q=o(654);const U="object"==typeof global&&global&&global.Object===Object&&global;var W="object"==typeof self&&self&&self.Object===Object&&self;const z=(U||W||Function("return this")()).Symbol;const $=function(e,t){for(var i=-1,o=null==e?0:e.length,n=Array(o);++i<o;)n[i]=t(e[i],i,e);return n};const j=Array.isArray;var N=Object.prototype,R=N.hasOwnProperty,B=N.toString,K=z?z.toStringTag:void 0;const V=function(e){var t=R.call(e,K),i=e[K];try{e[K]=void 0;var o=!0}catch(e){}var n=B.call(e);return o&&(t?e[K]=i:delete e[K]),n};var G=Object.prototype.toString;const H=function(e){return G.call(e)};var F=z?z.toStringTag:void 0;const J=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?V(e):H(e)};const Q=function(e){return null!=e&&"object"==typeof e};const X=function(e){return"symbol"==typeof e||Q(e)&&"[object Symbol]"==J(e)};var Y=z?z.prototype:void 0,ee=Y?Y.toString:void 0;const te=function e(t){if("string"==typeof t)return t;if(j(t))return $(t,e)+"";if(X(t))return ee?ee.call(t):"";var i=t+"";return"0"==i&&1/t==-Infinity?"-0":i};const ie=function(e){return null==e?"":te(e)};var oe=0;const ne=function(e){var t=++oe;return ie(e)+t};const se=class{constructor(e=!1,t=!0){this.hideLabelLogo=e,(0,i.Z)(this,"wrapper",void 0),(0,i.Z)(this,"advertisementID",void 0),(0,i.Z)(this,"uniqueID",void 0),t&&(this.uniqueID=ne()),this.advertisementID="div-gpt-ad-1497448474263"+(this.uniqueID?`-${this.uniqueID}`:"")}createWrapperElement(e=!1){const t=document.createElement("div"),i=document.createElement("div"),o=document.createElement("script");return t.className="vuukle-ads",t.setAttribute("style","display: block !important;height: auto;margin: 0px auto;text-align: center; clear: both; overflow: hidden; width: 100%"),setTimeout((()=>{t.style.removeProperty("width")}),3e3),i.id=this.advertisementID,o.type="text/javascript",o.innerHTML="",i.appendChild(o),t.appendChild(i),e||setTimeout((()=>{const e=this.createAdLabel(t);t.insertAdjacentElement("afterbegin",e),this.watchAdDiv(t,i)}),3e3),[t,i]}createAdLabel(e){const t=D(e),i=document.createElement("div");i.className="vuukle-ad-label",i.style.cssText="\n      display: flex;\n      justify-content: space-evenly;\n      flex-basis: 100%;\n      margin: 0 auto 5px;\n      width: 100px;\n      height: 11px;\n      line-height: 1.1 !important;\n      padding: 0px;\n    ";const o=document.createElement("span");o.style.display="none";const n=document.createElement("a");n.ariaLabel="Vuukle",n.href="https://vuukle.com",n.target="_blank",n.rel="noopener nofollow",n.style.cssText="\n      background-color: transparent; \n      box-shadow: none;\n    ",n.innerHTML=(0,u.Ew)(11,"0 0 30 30"),o.appendChild(n);const s=document.createElement("span");return s.textContent="Advertisement",s.style.cssText=`\n      display: block;\n      font-size: 10px !important;\n      color: ${t<=.3?"#fff":"#6c757d"};\n      margin: 0px;\n      text-align: center;\n      flex: 1;\n      padding: 0px;\n      line-height: 1 !important;\n    `,i.appendChild(o),i.appendChild(s),i}watchAdDiv(e,t){function i(){const i=e.querySelector(".vuukle-ad-label"),o=t.firstElementChild&&t.firstElementChild.querySelector("iframe");if(i&&o){const e=parseInt(o.width)<80?80:parseInt(o.width);i.style.width=e+"px",o.style.removeProperty("width"),o.style.setProperty("width",`${o.width}px`,"important")}else i&&(i.style.width="80px")}if(void 0!==window.ResizeObserver){new window.ResizeObserver(i).observe(t)}new MutationObserver(i).observe(t,{childList:!0,subtree:!0})}};class ae extends se{constructor(t,o="",n,s,a=!1,d=!1,c=0,h=!1){super(d,""===o),this.articleConfig=t,this.scrollingAd=h,(0,i.Z)(this,"wrapper",void 0),(0,i.Z)(this,"additionalAds",[]);const f=s||t.ads.gptOverride||"1497448474263";this.advertisementID=n?`div-gpt-ad-${f}-${n}`.concat(o):`div-gpt-ad-${f}-${this.uniqueID}`.concat(o),c>0&&!l.Z.isMobileUser?this.createSideAds(a,c):this.wrapper=this.createWrapperElement(a)[0],ke.canRefreshAds&&this.refreshAdUntilVisible(),m.xw[this.articleConfig.apiKey].trackUnfilledAds&&setTimeout((()=>{this.wrapper.offsetParent&&(this.areAdsPresent()||g.adblockDetected||((0,e.Gf)("warn",!0,`Vuukle - ${(0,u.xz)()} [Platform.js] Unfilled ad -`,this.advertisementID),r.Z.log("unfilled_ads",t,[{key:"unfilledAdId",value:this.advertisementID}])))}),1e4)}createSideAds(e,t){this.advertisementID+="a";this.wrapper=this.createWrapperElement(e)[0],this.wrapper.style.display="flex",this.wrapper.style.justifyContent="center",this.wrapper.style.flexWrap="wrap";for(let e=0;e<t;e++){const t=document.createElement("div");let i=this.advertisementID;i=i.substring(0,i.length-1)+"bcdefghijklmnopqrstuvwxyz"[e],t.id=i,t.style.marginLeft="3px",this.wrapper.appendChild(t),this.additionalAds.push(t)}}areAdsPresent(){return Boolean(this.wrapper.querySelector('div[id*="google_ads_iframe"]'))}refreshAdUntilVisible(){let t=0;const i=setInterval((()=>{ae.prebidLoaded&&ae.initialPeriodPassed&&(ae.prebidBlocked||g.adblockDetected||ae.noGPT?clearInterval(i):this.wrapper.offsetParent?(this.areAdsPresent()?clearInterval(i):(this.refreshAd(),t++,(0,e.Gf)("info",!0,`Vuukle - ${(0,u.xz)()} [Platform.js] Refreshing ad: ${t}`,this.advertisementID)),5===t&&clearInterval(i)):clearInterval(i))}),1e4)}initVuukleHBQueue(){window.vuuklehb=window.vuuklehb||{},window.vuuklehb.que=window.vuuklehb.que||[],window.vuuklehb.que.push((()=>{window.vuuklehb.vInitSlot&&window.vuuklehb.vInitSlot(this.advertisementID)}))}refreshAd(){window.vuuklehb&&window.vuuklehb.vRefresh&&window.vuuklehb.vRefresh(this.advertisementID,!0)}createWrapperElement(e=!1){const t=super.createWrapperElement(e),i=t[0],o=i.querySelector("script");return o instanceof HTMLScriptElement&&o.parentNode&&o.parentNode.removeChild(o),this.scrollingAd&&(i.style.position=(0,q.qN)(12)||(0,q.qN)(11)||(0,q.qN)(10)?"-webkit-sticky":"sticky",i.style.top="0",setTimeout((()=>{let e=i.parentElement;for(;e&&"BODY"!==e.tagName;)e.style.setProperty("overflow","visible","important"),e=e.parentElement}),0)),[i,t[1]]}watchAdDiv(e,t){let i=[()=>{var e;return null===(e=t.firstElementChild)||void 0===e?void 0:e.querySelector("iframe")}];this.additionalAds.forEach((e=>{i.push((()=>{var t;return null===(t=e.firstElementChild)||void 0===t?void 0:t.querySelector("iframe")}))}));const o=()=>{const t=e.querySelector(".vuukle-ad-label");if(t){let e=0;i.forEach((i=>{const o=i(),n=null!=o&&o.width?Math.max(parseInt(null==o?void 0:o.width),80):80;e+=n||0,t.style.width=e+"px",null==o||o.style.setProperty("margin","0 auto"),null==o||o.style.removeProperty("width"),null==o||o.style.setProperty("width",`${null==o?void 0:o.width}px`,"important"),m.xw[this.articleConfig.apiKey].enforceAdHeight&&(null==o||o.style.removeProperty("height"),null==o||o.style.setProperty("height",`${null==o?void 0:o.height}px`,"important"))}))}};if(void 0!==window.ResizeObserver){const e=new window.ResizeObserver(o);e.observe(t),this.additionalAds.forEach((t=>{t&&e.observe(t)}))}const n=new MutationObserver(o);if(n.observe(t,{childList:!0,subtree:!0}),this.additionalAds.forEach((e=>{e&&n.observe(e)})),this.scrollingAd){const t=e.parentElement;t&&(t.style.height=l.Z.isMobileUser?"348px":"424px")}}showAd(){}}(0,i.Z)(ae,"prebidLoaded",!1),(0,i.Z)(ae,"prebidBlocked",!1),(0,i.Z)(ae,"initialPeriodPassed",!1),(0,i.Z)(ae,"noGPT",!1);const re=ae;class le{constructor(e,t){this.apiKeyConfig=e,this.articleConfig=t,(0,i.Z)(this,"currentAdIds",[]),(0,i.Z)(this,"getLocation",((e,t,i=window)=>{const o=i.document.querySelectorAll(e)[le.articleCounter-1];if(o||le.articleCounter-1==0)return o;for(let o=le.articleCounter-1;o>0;o--){var n;let s=i.document.querySelectorAll(e)[o];if(s&&(null===(n=s.parentElement)||void 0===n||!n.querySelector(`div[id*=${t}]`)))return s}return null})),le.articleCounter++}isTrafficExchange(e){return e.includes("vuukle-traffic-exchange-ad")}async getInsertLocationForAnAd(e,t,i,o=window){let n=null;const s=l.Z.isMobileUser&&e?e:t;if("string"==typeof s){const e="boolean"==typeof le.canCreateTXAds&&!0===le.canCreateTXAds;if(this.isTrafficExchange(s)&&!e)return null;n=this.articleConfig.endlessMode?this.getLocation(s,i):o.document.querySelector(s),n||(n=await(0,c.br)(s,250,20,o))}if("function"==typeof s&&(n=s()),Array.isArray(s))for(const e of s){const t=this.articleConfig.endlessMode?this.getLocation(e,i):o.document.querySelector(e);if(t){n=t;break}}return n}applyCustomCSS(e,t){var i,o,n;if(!t)return;const s=(l.Z.isMobileUser?null===(i=this.apiKeyConfig.customMobileCSS)||void 0===i?void 0:i[e]:null===(o=this.apiKeyConfig.customDesktopCSS)||void 0===o?void 0:o[e])||(null===(n=this.apiKeyConfig.customCSS)||void 0===n?void 0:n[e]);s&&(t.style.cssText+=s)}applyGreyBackground(e,t){e.style.backgroundColor="#f3f3f3",t&&(t.wrapper.style.padding="15px 0")}insertTXInsideElement(e,t,i){let o;"string"==typeof t&&(o=document.querySelector(t)),"function"==typeof t&&(o=t()),o&&o instanceof HTMLElement&&v.applyDivInsertionStrategy(a.selectors.trafficExchange.replace("#",""),i,e,o)}createFirstAd(t,i){var o,n,s,a,r,l,d,c,u,h;if(!t)return void(0,e.qu)("warn","[Platform.js] AD Element is missing");const m=new re(this.articleConfig,"",this.articleConfig.endlessMode?void 0:"1",i,null===(o=this.apiKeyConfig.targets)||void 0===o||null===(n=o.default)||void 0===n?void 0:n.hideAdLabel,this.apiKeyConfig.hideLabelLogo,(null===(s=this.apiKeyConfig.targets)||void 0===s||null===(a=s.default)||void 0===a?void 0:a.sideAds)||0,null===(r=this.apiKeyConfig.targets)||void 0===r||null===(l=r.default)||void 0===l?void 0:l.scrollingAd);if(this.currentAdIds.push(m.advertisementID),null!==(d=this.apiKeyConfig.targets)&&void 0!==d&&null!==(c=d.default)&&void 0!==c&&c.scrollingAd||null!==(u=this.apiKeyConfig.targets)&&void 0!==u&&null!==(h=u.default)&&void 0!==h&&h.greyBg){var f,g;const e=document.createElement("div");t.appendChild(e),e.appendChild(m.wrapper),null!==(f=this.apiKeyConfig.targets)&&void 0!==f&&null!==(g=f.default)&&void 0!==g&&g.greyBg&&this.applyGreyBackground(e,m)}else t.appendChild(m.wrapper);m.wrapper.style.minHeight||(m.wrapper.style.minHeight="330px"),this.articleConfig.endlessMode&&m.initVuukleHBQueue(),this.applyCustomCSS("default",m.wrapper)}createSecondAd(t,i,o,n){const s=document.querySelector("#vuukle-ad-2".concat(o));if(i||s){var a,r,l,d,c,u;const i=new re(this.articleConfig,"",this.articleConfig.endlessMode?void 0:"2",n,null===(a=this.apiKeyConfig.targets)||void 0===a||null===(r=a.secondDefault)||void 0===r?void 0:r.hideAdLabel,this.apiKeyConfig.hideLabelLogo,(null===(l=this.apiKeyConfig.targets)||void 0===l||null===(d=l.secondDefault)||void 0===d?void 0:d.sideAds)||0,null===(c=this.apiKeyConfig.targets)||void 0===c||null===(u=c.secondDefault)||void 0===u?void 0:u.scrollingAd);if(this.currentAdIds.push(i.advertisementID),s)s.appendChild(i.wrapper);else{if(!t)return void(0,e.qu)("warn","[Platform.js] Second AD Element is missing");var h,m,f,g;if(null!==(h=this.apiKeyConfig.targets)&&void 0!==h&&null!==(m=h.secondDefault)&&void 0!==m&&m.scrollingAd||null!==(f=this.apiKeyConfig.targets)&&void 0!==f&&null!==(g=f.secondDefault)&&void 0!==g&&g.greyBg){var p,v;const e=document.createElement("div");t.appendChild(e),e.appendChild(i.wrapper),e.style.order="2",null!==(p=this.apiKeyConfig.targets)&&void 0!==p&&null!==(v=p.secondDefault)&&void 0!==v&&v.greyBg&&this.applyGreyBackground(e,i)}else t.appendChild(i.wrapper);i.wrapper.style.order="2"}this.articleConfig.endlessMode&&i.initVuukleHBQueue(),i.wrapper.style.minHeight||(i.wrapper.style.minHeight="330px"),this.applyCustomCSS("secondDefault",i.wrapper)}}createAdAtCustomLocation(t,i,o,n,s=""){var a,r,l,d,c,u;if(!t)return void(0,e.qu)("warn","[Platform.js] Custom AD Element is missing");if(t.querySelector(".vuukle-ads"))return;const h=new re(this.articleConfig,s,o,n,null===(a=this.apiKeyConfig.targets)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.hideAdLabel,this.apiKeyConfig.hideLabelLogo,0,null===(l=this.apiKeyConfig.targets)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.scrollingAd);this.currentAdIds.push(h.advertisementID),t.appendChild(h.wrapper),this.articleConfig.endlessMode&&h.initVuukleHBQueue();const m=t.parentElement;var f,g,p;(m&&this.isTrafficExchange(m.id)&&h.refreshAd(),void 0!==(null===(c=this.apiKeyConfig.targets)||void 0===c||null===(u=c[i])||void 0===u?void 0:u.postInsertionOperation))&&(null===(f=this.apiKeyConfig.targets)||void 0===f||null===(g=f[i])||void 0===g||null===(p=g.postInsertionOperation)||void 0===p||p.call(g));return h}createGPTUnit(e,t,i,o,n){var s,a,r,d,c,u;const h=n?n.toString():v.getTheGPTNumberOfTheAdTarget(e),m=this.createAdAtCustomLocation(t,e,l.Z.isMobileUser&&null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&null!==(a=s[e])&&void 0!==a&&a.gptNumberMobile?null===(r=this.apiKeyConfig.targets)||void 0===r||null===(d=r[e])||void 0===d?void 0:d.gptNumberMobile:h,i,o);null!==(c=this.apiKeyConfig.targets)&&void 0!==c&&null!==(u=c[e])&&void 0!==u&&u.greyBg&&t&&this.applyGreyBackground(t,m)}generateVerticalSideAds(e,t){var i,o;const n=e=>`\n       position: fixed;\n       z-index: 3000;\n       ${e}: 0px;\n       margin-left: 5px;\n       top: 30px;\n       width: 160px;\n       height: 600px;\n       display: block;\n       text-align: center;\n       margin-top: 50px;\n     `;null!==(i=this.apiKeyConfig.targets)&&void 0!==i&&i[t].enableLeftVertical&&e?e.style.cssText+=n("left"):null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[t].enableRightVertical&&e&&(e.style.cssText+=n("right"))}createCustomAd(e,t,i,o=""){var n,s,a,r,l;if(null!==(n=this.apiKeyConfig.targets)&&void 0!==n&&n[e].passbackUnit){if(new O(this.apiKeyConfig,i,e),null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&null!==(a=s[e].passbackUnit)&&void 0!==a&&a.replaceWithGPT){var d,c,u;const n=1e3*((null===(d=this.apiKeyConfig.targets)||void 0===d||null===(c=d[e])||void 0===c||null===(u=c.passbackUnit)||void 0===u?void 0:u.replaceTime)||30);setTimeout((()=>{var n,s;i&&v.emptyTheContentsOfAnElement(i),this.createGPTUnit(e,i,t,o,null===(n=this.apiKeyConfig.targets)||void 0===n||null===(s=n[e])||void 0===s?void 0:s.gptNumber)}),n)}}else this.createGPTUnit(e,i,t,o,null===(r=this.apiKeyConfig.targets)||void 0===r||null===(l=r[e])||void 0===l?void 0:l.gptNumber);this.generateVerticalSideAds(i,e),this.applyCustomCSS(e,i)}async insertAdDivAtGivenSelector(t,i){if(this.apiKeyConfig.targets){const n=this.apiKeyConfig.targets[i],{selector:s,mobileSelector:a,insert:r,gptId:d,gptIdMobile:c}=n,u=await this.getInsertLocationForAnAd(a,s,i),h=document.getElementById(i.concat(t));if(u&&u instanceof HTMLElement&&!h){var o;const e=v.applyDivInsertionStrategy(i,t,r,u);if(null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[i].skipAdCreation)return;this.createCustomAd(i,l.Z.isMobileUser&&c?c:d,e,t)}else{const t=l.Z.isMobileUser&&a?a:s;(0,e.qu)("warn","string"==typeof t?`[Platform.js] Element at the selector '${t}' is missing`:"[Platform.js] Element at the evaluated selector is missing")}}}decideWhetherAdShouldBeDynamicallyInserted(e,t){if("function"==typeof this.apiKeyConfig.getDateFunction&&this.apiKeyConfig.injectAdsDynamicallyBeforeDate){const i=this.apiKeyConfig.getDateFunction();if(!(i instanceof Date))return void this.insertAdDivAtGivenSelector(e,t);const o=new Date(this.apiKeyConfig.injectAdsDynamicallyBeforeDate);i.valueOf()<o.valueOf()&&this.insertAdDivAtGivenSelector(e,t)}else this.insertAdDivAtGivenSelector(e,t)}async createAdvancedAd(e,t,i){this.apiKeyConfig.targets&&Object.keys(this.apiKeyConfig.targets).forEach((async o=>{var n,s,a,r,d,u;if(null===(n=this.apiKeyConfig.targets)||void 0===n||!n[o].adUnitGeos||null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&s[o].adUnitGeos.includes(l.Z.userCountry)){if(null!==(a=this.apiKeyConfig.targets)&&void 0!==a&&a[o].ignorePaths||null!==(r=this.apiKeyConfig.targets)&&void 0!==r&&r[o].ignorePathsMobile){var h,m,f;const e=l.Z.isMobileUser&&null!==(h=this.apiKeyConfig.targets)&&void 0!==h&&h[o].ignorePathsMobile?null===(m=this.apiKeyConfig.targets)||void 0===m?void 0:m[o].ignorePathsMobile:(null===(f=this.apiKeyConfig.targets)||void 0===f?void 0:f[o].ignorePaths)||[];if(v.matchesPath(e))return}if("boolean"==typeof(null===(d=this.apiKeyConfig.targets)||void 0===d?void 0:d[o].onlyDesktop)){var g,p;const e=l.Z.isMobileUser&&(null===(g=this.apiKeyConfig.targets)||void 0===g?void 0:g[o].onlyDesktop),t=!(l.Z.isMobileUser||null!==(p=this.apiKeyConfig.targets)&&void 0!==p&&p[o].onlyDesktop);if(e||t)return}var b,y;if("function"==typeof(null===(u=this.apiKeyConfig.targets)||void 0===u?void 0:u[o].preInsertionOperation))null===(b=(y=this.apiKeyConfig.targets[o]).preInsertionOperation)||void 0===b||b.call(y);if("default"!==o&&"secondDefault"!==o||this.articleConfig.ads.noDefaults){var w,k;if((null===(w=this.apiKeyConfig.targets)||void 0===w||null===(k=w[o])||void 0===k?void 0:k.insert)&&(this.apiKeyConfig.targets[o].selector||this.apiKeyConfig.targets[o].mobileSelector))this.decideWhetherAdShouldBeDynamicallyInserted(i,o);else{var C,x,S;if(null!==(C=this.apiKeyConfig.targets)&&void 0!==C&&C[o].skipAdCreation)return;let e=document.getElementById(o.concat(i));e||(e=await(0,c.br)(`#${o.concat(i)}`,250,20)),this.createCustomAd(o,l.Z.isMobileUser&&null!==(x=this.apiKeyConfig.targets)&&void 0!==x&&x[o].gptIdMobile?this.apiKeyConfig.targets[o].gptIdMobile:null===(S=this.apiKeyConfig.targets)||void 0===S?void 0:S[o].gptId,e,i)}}else{var L,A,I,M,E,T,Z,P,_,D,O,q;"default"===o?this.createFirstAd(e,l.Z.isMobileUser&&null!==(L=this.apiKeyConfig.targets)&&void 0!==L&&null!==(A=L.default)&&void 0!==A&&A.gptIdMobile?null===(I=this.apiKeyConfig.targets)||void 0===I||null===(M=I.default)||void 0===M?void 0:M.gptIdMobile:null===(E=this.apiKeyConfig.targets)||void 0===E||null===(T=E.default)||void 0===T?void 0:T.gptId):this.createSecondAd(e,t,i,l.Z.isMobileUser&&null!==(Z=this.apiKeyConfig.targets)&&void 0!==Z&&null!==(P=Z.default)&&void 0!==P&&P.gptIdMobile?null===(_=this.apiKeyConfig.targets)||void 0===_||null===(D=_.secondDefault)||void 0===D?void 0:D.gptIdMobile:null===(O=this.apiKeyConfig.targets)||void 0===O||null===(q=O.secondDefault)||void 0===q?void 0:q.gptId)}}}))}findAndReplaceExistingAdUnits(e=""){const{targets:t,replaceAdsAtTopLevel:i,adUnit:o}=this.apiKeyConfig,n=i?window.top:window;if(i){const e=JSON.parse((0,h._2)(`vuukleconfhttps://cdn.vuukle.com/ads/${this.articleConfig.host}.json`)||"{}");e&&e.data&&(n._vuukleConfig=e.data),ke.loadPrebid(o,n)}if(t){const i={};Object.keys(t).forEach((e=>{var o,s,a;const r=l.Z.isMobileUser&&null!==(o=t[e].replaceExistingAd)&&void 0!==o&&o.ignorePathsMobile?null===(s=t[e].replaceExistingAd)||void 0===s?void 0:s.ignorePathsMobile:(null===(a=t[e].replaceExistingAd)||void 0===a?void 0:a.ignorePaths)||[];if(t[e].replaceExistingAd&&!v.matchesPath(r||[],n)){var d,c,u;i[e]=t[e];const o=l.Z.isMobileUser&&null!==(d=t[e].replaceExistingAd)&&void 0!==d&&d.mobileSelector?null===(c=t[e].replaceExistingAd)||void 0===c?void 0:c.mobileSelector:null===(u=t[e].replaceExistingAd)||void 0===u?void 0:u.selector;let n="";if("function"==typeof o&&(n=o().id),"string"==typeof o&&(n=o.slice(1)),Array.isArray(o))for(const e of o)if(document.querySelector(e)){n=e.slice(1);break}n&&this.currentAdIds.push(n)}})),Object.keys(i).length>0&&setTimeout((()=>{Object.keys(i).forEach((async o=>{var s,a,r,d,c,u;if(null!==(s=t[o].replaceExistingAd)&&void 0!==s&&s.publisher_gam_lineitems_whitelist){let e=!1;const i=[];if(this.currentAdIds.forEach((s=>{const a=v.findSlotById(s,n);if(a){var r,l,d,c,u,h;i.push(a);const n=a.getResponseInformation(),s=(null==n||null===(r=n.lineItemId)||void 0===r?void 0:r.toString())||(null==n||null===(l=n.sourceAgnosticLineItemId)||void 0===l?void 0:l.toString());console.log(`[Platform] ${o} Detected line item - ${s}, Is it included in whitelist - ${null===(d=t[o].replaceExistingAd)||void 0===d||null===(c=d.publisher_gam_lineitems_whitelist)||void 0===c?void 0:c.includes(s)}`),s&&null!==(u=t[o].replaceExistingAd)&&void 0!==u&&null!==(h=u.publisher_gam_lineitems_whitelist)&&void 0!==h&&h.includes(s)&&(e=!0),void 0!==s&&"undefined"!==s||(e=!0)}})),!e){if(i.length>0){const e=e=>e.toString().padStart(2,"0");setInterval((()=>{const t=new Date,o=`[${t.getHours().toString()}:${e(t.getMinutes())}:${e(t.getSeconds())}]`;console.log(`[Platform] ${o} Refresh all slots`),i.forEach((e=>{n.googletag.pubads().refresh([e])}))}),3e4)}return}}if(null!==(a=this.apiKeyConfig.targets)&&void 0!==a&&a[o].ignorePaths||null!==(r=this.apiKeyConfig.targets)&&void 0!==r&&r[o].ignorePathsMobile){var h,m,f;const e=l.Z.isMobileUser&&null!==(h=this.apiKeyConfig.targets)&&void 0!==h&&h[o].ignorePathsMobile?null===(m=this.apiKeyConfig.targets)||void 0===m?void 0:m[o].ignorePathsMobile:(null===(f=this.apiKeyConfig.targets)||void 0===f?void 0:f[o].ignorePaths)||[];if(v.matchesPath(e,n))return}if("boolean"==typeof(null===(d=this.apiKeyConfig.targets)||void 0===d?void 0:d[o].onlyDesktop)){var g,p;const e=l.Z.isMobileUser&&(null===(g=this.apiKeyConfig.targets)||void 0===g?void 0:g[o].onlyDesktop),t=!(l.Z.isMobileUser||null!==(p=this.apiKeyConfig.targets)&&void 0!==p&&p[o].onlyDesktop);if(e||t)return}const b=await this.getInsertLocationForAnAd(null===(c=i[o].replaceExistingAd)||void 0===c?void 0:c.mobileSelector,null===(u=i[o].replaceExistingAd)||void 0===u?void 0:u.selector,o,n);if(b&&!n.document.getElementById(o.concat(e))){var y,w,k,C,x,S;v.emptyTheContentsOfAnElement(b);const t=v.applyDivInsertionStrategy(o,e,null===(y=i[o].replaceExistingAd)||void 0===y?void 0:y.insert,b,n);this.createCustomAd(o,l.Z.isMobileUser&&null!==(w=this.apiKeyConfig.targets)&&void 0!==w&&null!==(k=w[o])&&void 0!==k&&k.gptIdMobile?null===(C=this.apiKeyConfig.targets)||void 0===C?void 0:C[o].gptIdMobile:null===(x=this.apiKeyConfig.targets)||void 0===x||null===(S=x[o])||void 0===S?void 0:S.gptId,t,e)}}))}),3e4)}}static removeAllAds(){if(ke.canCreateAds){if(0===document.querySelectorAll(".vuukle-ads").length){const e=setInterval((()=>{const t=document.querySelectorAll(".vuukle-ads");t.length>0&&clearInterval(e),t.forEach((e=>{e.remove()}))}),2e3)}ke.canCreateAds=!1}}findAndReplaceAdSenseUnits(e=""){const t=[],i=[];if(this.apiKeyConfig.targets&&Object.keys(this.apiKeyConfig.targets).forEach((e=>{var o,n,s,a,r,d;let c=!0;if(null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[e].ignorePaths||null!==(n=this.apiKeyConfig.targets)&&void 0!==n&&n[e].ignorePathsMobile){var u,h,m;const t=l.Z.isMobileUser&&null!==(u=this.apiKeyConfig.targets)&&void 0!==u&&u[e].ignorePathsMobile?null===(h=this.apiKeyConfig.targets)||void 0===h?void 0:h[e].ignorePathsMobile:(null===(m=this.apiKeyConfig.targets)||void 0===m?void 0:m[e].ignorePaths)||[];if(v.matchesPath(t))return}if("boolean"==typeof(null===(s=this.apiKeyConfig.targets)||void 0===s?void 0:s[e].onlyDesktop)){var f,g;const t=l.Z.isMobileUser&&(null===(f=this.apiKeyConfig.targets)||void 0===f?void 0:f[e].onlyDesktop),i=!(l.Z.isMobileUser||null!==(g=this.apiKeyConfig.targets)&&void 0!==g&&g[e].onlyDesktop);c=!t&&!i}if(null!==(a=this.apiKeyConfig.targets)&&void 0!==a&&a[e].replaceAdSense&&c){const i=v.getTheGPTNumberOfTheAdTarget(e);t.push(i)}if((null!==(r=this.apiKeyConfig.targets)&&void 0!==r&&r[e].replaceAdSenseWithSlotID||null!==(d=this.apiKeyConfig.targets)&&void 0!==d&&d[e].replaceAdSenseWithSlotIDMobile)&&c){var p,b,y;const t=l.Z.isMobileUser&&null!==(p=this.apiKeyConfig.targets)&&void 0!==p&&p[e].replaceAdSenseWithSlotIDMobile?null===(b=this.apiKeyConfig.targets)||void 0===b?void 0:b[e].replaceAdSenseWithSlotIDMobile:null===(y=this.apiKeyConfig.targets)||void 0===y?void 0:y[e].replaceAdSenseWithSlotID,o=v.getTheGPTNumberOfTheAdTarget(e);i.push({gptNumber:o,slotID:t||"",targetName:e})}})),0===t.length&&0===i.length)return;const o=document.querySelectorAll('ins[class="adsbygoogle"]');let n=[];o.length>0&&o.forEach((e=>{e&&n.push(e)})),setTimeout((()=>{i.length>0&&i.forEach((t=>{const i=document.querySelector(`ins[data-ad-slot="${t.slotID}"]`);if(i){var o;const n=document.createElement("div");i.insertAdjacentElement("afterend",n),null===(o=i.parentElement)||void 0===o||o.removeChild(i),this.createGPTUnit(t.targetName,n,void 0,e,t.gptNumber)}})),n.forEach((i=>{t.length>0&&(v.emptyTheContentsOfAnElement(i),this.createGPTUnit("",i,void 0,e,t.shift()))}))}),3e4)}}(0,i.Z)(le,"canCreateTXAds",void 0),(0,i.Z)(le,"articleCounter",0);const de=le;const ce=class{constructor(e){const t=document.createElement("script");t.async=!0,t.id=`AV${e}`,t.src=`https://tg1.vuukle.com/api/adserver/spt?AV_TAGID=${e}&AV_PUBLISHERID=607eaa2728f57c570863c77a`,t.type="text/javascript",document.head.appendChild(t)}};var ue=o(939);class he extends ue.Z{constructor(e,t=!1,o=!1,n=2,s,a){super(`${ne("INTL-ad-")}`,"Ad"),this.frequencyCapInHours=n,this.gptNumber=s,this.gptId=a,(0,i.Z)(this,"redirectUrl",""),(0,i.Z)(this,"INTLAdStyles",`\n    #${this.id} {\n      justify-content: center;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-container {\n      padding: 0 12px 10px;\n      border-radius: 6px;\n      background: #fff;\n      box-shadow: 0px 8px 12px rgb(60 64 67 / 15%), 0px 4px 4px rgb(60 64 67 / 30%);\n      width: unset;\n      height: unset;\n      position: static;\n      left: unset;\n      top: unset;\n      transform: unset;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-overlay {\n      background: rgba(52, 58, 65, 0.6);\n      backdrop-filter: blur(15px);\n      -webkit-backdrop-filter: blur(15px);\n    }\n    .vuukle-interstitial-ad #${this.id}-header {\n      color: #000;\n      font-weight: 700;\n      font-family: 'Roboto', arial, sans-serif;\n      font-size: 12px;\n      padding: 16px;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header {\n      padding: unset;\n      box-shadow: unset;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header .vuukle-info-modal-close {\n      padding: 8px;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header .vuukle-info-modal-close svg{\n      width: 1.5em;\n      height: 1.5em;\n      vertical-align: middle;\n      fill: rgb(95, 99, 104);\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-container .vuukle-ad-label {\n      display: none !important;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-close {\n      display: block;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-body {\n      padding: unset;\n    }\n    @media (max-width: 1000px) {\n      .vuukle-interstitial-ad .vuukle-info-modal-body {\n        padding-top: unset;\n        margin-bottom: unset;\n      }\n      .vuukle-interstitial-ad .vuukle-info-modal-container {\n        max-width: unset;\n      }\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-powered {\n      position: static;\n      left: unset;\n      top: unset;\n      width: unset;\n      height: unset;\n      transform: unset;\n      font-weight: normal;\n      font-size: 9px;\n      justify-content: flex-end;\n      align-items: baseline;\n      padding: 0;\n      border-radius: 0;\n      border: none;\n    }\n  `),(0,i.Z)(this,"anchorLinkListenersAdded",!1);const r=!t&&!o,d=l.Z.isMobileUser&&o,c=!l.Z.isMobileUser&&t;super.create(),super.setModalBodyContent(`<div id="${e}"></div>`);const u=document.createElement("style");u.innerHTML=this.INTLAdStyles,document.body.appendChild(u);const h=this.modalElement.querySelector(".vuukle-info-modal-close");h&&(h.onclick=()=>{setTimeout((()=>{location.href=this.redirectUrl}),150)}),(r||d||c)&&this.addAnchorLinkListeners()}addAnchorLinkListeners(){if(this.anchorLinkListenersAdded)return;Array.from(document.querySelectorAll("a")).forEach((e=>{e.addEventListener("click",(i=>{if(i.stopImmediatePropagation(),i.preventDefault(),this.canShowInterstitialAds()){var o;this.show(this.modalElement);const i=this.gptId||t.Z.ads.gptOverride||"1497448474263";null!==(o=document.querySelector(`#div-gpt-ad-${i}-${this.gptNumber||ne()}`))&&void 0!==o&&o.hasChildNodes()||this.refreshAd(),this.redirectUrl=e.href}else location.href=e.href}))})),this.anchorLinkListenersAdded=!0}canShowInterstitialAds(){if("#vkintldebug"===window.location.hash)return!0;let e=l.Z.canUseCookies;try{if(localStorage.setItem("LS_test","value"),localStorage.getItem("LS_test")){localStorage.removeItem("LS_test");e=!(0,h._2)("vuukle_interstitial_shown")&&l.Z.canUseCookies}else e=!1}catch(t){e=!1}return e}show(e){this.canShowInterstitialAds()&&(ue.Z.modalVisible||(e.style.display="flex",ue.Z.modalVisible=!0),super.show(e),(0,h.m4)("vuukle_interstitial_shown","true",this.frequencyCapInHours))}refreshAd(){const e=`div-gpt-ad-${this.gptId||t.Z.ads.gptOverride||"1497448474263"}-${this.gptNumber||ne()}`;window.vuuklehb&&window.vuuklehb.vRefresh&&window.vuuklehb.vRefresh(e,!0)}getModalHTML(){return`\n      <div class="vuukle-interstitial-ad" role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container">\n          <div class="vuukle-info-modal-header">\n            <div style="display: flex; justify-content: space-between;">\n              <div>\n                <h4 id="${this.id}-header">${this.header}</h4>\n              </div>\n              <button class="vuukle-info-modal-close" title="Close Ad" aria-label="Close Ad">\n                <svg viewBox="0 0 48 48" fill="#5F6368">\n                  <path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z">\n                  </path>\n                  <path d="M0 0h48v48H0z" fill="none">\n                  </path>\n                </svg>\n              </button>\n            </div>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n          <a class="vuukle-info-modal-powered" href="https://vuukle.com/">\n            Powered by ${(0,u.Ew)(40)}\n          </a>\n        </div>\n      </div>\n    `}}const me=he;const fe=class{constructor(){const e=document.createElement("script");e.src="//get.s-onetag.com/6cf263c1-ed77-4534-9978-1fe44a9601a8/tag.min.js",e.async=!0,e.defer=!0,document.head.appendChild(e)}};var ge=function(e,t,i){var o=null,n=null,s=function(){o&&(clearTimeout(o),n=null,o=null)},a=function(){if(!t)return e.apply(this,arguments);var a=this,r=arguments,l=i&&!o;return s(),n=function(){e.apply(a,r)},o=setTimeout((function(){if(o=null,!l){var e=n;return n=null,e()}}),t),l?n():void 0};return a.cancel=s,a.flush=function(){var e=n;s(),e&&e()},a};const pe=class{constructor(e,t,o,n,s){if(this.articleConfig=e,this.placementElement=t,this.adId=o,this.options=n,(0,i.Z)(this,"zIndex","9999999999"),(0,i.Z)(this,"positionalStyles",{center:"left: 50%; transform: translate(-50%);",centerMedia:"left: 50% !important; transform: translate(-50%) !important;",left:"left: 0;",top:"bottom: unset; top: 0; left: 50%; transform: translate(-50%);",topBg:"bottom: unset; top: 0; left: 50%; transform: translate(-50%); display: flex; align-items: flex-end;"}),(0,i.Z)(this,"positionalMobileStyles",{bottom:"bottom: 0;",top:"bottom: unset !important; top: 0;"}),(0,i.Z)(this,"topPositionStyles",`\n    position: fixed !important;\n    right: -50%;\n    transform: translate(-50%);\n    z-index: ${this.zIndex};\n    height: 30px;\n    align-items: flex-end;\n  `),s){const e=e=>`\n          @media only screen and (${"mobile"===e?"max-width: 997px":"min-width: 998px"}){\n            .vuukle-sticky-ad[data-ad-id="${o}"] {\n              display: none !important;\n            } \n          }\n        `,t=document.createElement("style");t.innerHTML=e(s),document.body.appendChild(t)}this.makeAdSticky()}getStickyElementStyles(e,t,i){return`\n      min-width: ${e}px;\n      height: ${t}px;\n      position: fixed;\n      z-index: ${this.zIndex};\n      bottom: 0px;\n      text-align: center;\n      ${this.positionalStyles[i]}\n    `}createAdLabelWrapper(){const e=document.createElement("div");return e.className="vuukle-sticky-ad-label",e.style.cssText="\n      display: flex;\n      width: 100%;\n      text-align: center;\n      position: relative;\n      justify-content: center;\n    ",e}createAdLabel(){const e=document.createElement("div");return e.textContent="Advertisement",e.className="vuukle-sticky-ad-label-text-compact",e.style.cssText="\n      color: #6c757d;\n      height: 18px;\n      font-size: 12px;\n      line-height: 17px;\n    ",e}createAndConfigureCloseButton(e){const t=document.createElement("div");t.className="vuukle-sticky-ad-close",t.style.cssText="\n      display: flex;\n      width: 100%;\n      text-align: center;\n      position: relative;\n      justify-content: flex-end;\n      top: 6px;\n    ";const i=document.createElement("span");return i.onclick=()=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)},i.title="Close",i.style.cssText='\n      cursor: pointer;\n      width: 18px;\n      height: 18px;\n      background-position: center center;\n      background-repeat: no-repeat;\n      border-radius: 50%;\n      background-size: 60%;\n      background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");\n      background-color: rgba(0, 0, 0, 0.5);\n    ',l.Z.isMobileUser||(i.style.visibility="hidden",e.onmouseover=()=>{i.style.visibility="visible"},e.onmouseout=()=>{i.style.visibility="hidden"}),t.prepend(i),t}adjustStickyAdAsItRefreshes(e){const t=this.placementElement.querySelector(".vuukle-ads");if(t){new MutationObserver((()=>{const i=t.offsetHeight+e.offsetHeight;this.placementElement.style.height=`${i}px`})).observe(t,{childList:!0,subtree:!0})}}addResponsiveStyles(e,t,i,o){const n=document.createElement("style");n.id=`${this.adId}-styles`,n.innerHTML=`\n      #${this.adId} .vuukle-ad-label {\n        display: none !important;\n      }\n\n      @media only screen and (max-width: 997px){\n        #${this.adId} {\n          width: 320px !important;\n          min-width: unset !important;\n          min-height: 60px !important;\n          height: unset !important;\n          ${this.positionalStyles.centerMedia}\n          ${this.positionalMobileStyles[e]||""}\n        }\n        // .vuukle-sticky-ad-bg {\n        //   height: 68px !important;\n        //   ${this.positionalStyles.centerMedia}\n        //   ${this.positionalMobileStyles[e]||""}\n        // }\n        .vuukle-sticky-ad-label {\n          ${"top"===e&&e!==t?this.topPositionStyles:""}\n          ${i?`\n            ${o?"":"top: unset !important;"}\n            position: relative !important;\n            height: unset;\n          `:""}\n        }\n        .vuukle-sticky-ad-label > p {\n          ${o||"top"===e?"display: none !important;":""}\n        }\n        .vuukle-sticky-ad-label > a {\n          ${o||"top"===e?"display: none !important;":""}\n        }\n        .vuukle-sticky-ad-label > .vuukle-sticky-ad-label-text-compact {\n          ${o||"top"===e?"display: block !important;":""}\n        }\n      }\n    `,document.head.appendChild(n)}addScrollFeatures(e,t,i){const o=ge((()=>{e.style.visibility="visible",t.style.visibility="visible"}),500);let n=0;this.options.showAfter&&i&&(e.style.visibility="hidden",t.style.visibility="hidden",n=parseInt(this.options.showAfter)),window.addEventListener("scroll",(()=>{i&&(window.scrollY>=n?(e.style.visibility="visible",t.style.visibility="visible"):(e.style.visibility="hidden",t.style.visibility="hidden")),this.options.hideOnScroll&&(e.style.visibility="hidden",t.style.visibility="hidden",this.options.showAfter&&window.scrollY>=n?o():this.options.showAfter||o())}))}makeAdSticky(){if(this.articleConfig.endlessMode&&document.getElementById(`${this.adId}-styles`)||!this.adId)return;const e=this.options.position||"center",t=this.options.mobilePosition||e||"bottom",i=this.options.width||728,o=this.options.height||90,n="top"===t||"top"===e,s="top"===t&&"top"===e,a=this.placementElement.parentElement,r=document.createElement("div");null==a||a.appendChild(r),r.appendChild(this.placementElement),r.style.cssText=`\n      position: fixed;\n      z-index: ${this.zIndex};\n      width: 100%;\n      top: 0;\n    `,r.classList.add("vuukle-sticky-ad"),r.dataset.adId=this.adId,this.placementElement.style.cssText+=this.getStickyElementStyles(i,o,e);const l=this.createAdLabelWrapper(),d=this.createAdLabel(),c=this.createAndConfigureCloseButton(r);(s||n)&&(c.appendChild(l),l.appendChild(d)),s?this.placementElement.insertAdjacentElement("beforeend",c):(this.placementElement.insertAdjacentElement(n?"beforeend":"afterbegin",c),n||this.placementElement.insertAdjacentElement("beforeend",l)),this.adjustStickyAdAsItRefreshes(c),this.addResponsiveStyles(t,e,n,s),this.addScrollFeatures(r,l,n)}};const ve=class{constructor(e,t=[]){this.slotId=e,this.activeGeos=t,this.insertInImageAdScript()}insertInImageAdScript(){if(this.activeGeos.length>0&&!this.activeGeos.includes(l.Z.userCountry))return;const e=document.createElement("div");e.id="gpt-passback";const t=document.createElement("script");t.innerHTML=`\n      window.googletag = window.googletag || {cmd: []};\n      googletag.cmd.push(function() {\n        googletag.defineSlot('${this.slotId}', [1, 1], 'gpt-passback').addService(googletag.pubads());\n        googletag.enableServices();\n        googletag.display('gpt-passback');\n      });\n    `,e.appendChild(t),document.body.appendChild(e)}};const be=class{constructor(){window._qevents=window._qevents||[];const e=document.createElement("script");e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript";const t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t),window._qevents.push({qacct:"p-WMAE4VPZ1nXvg"});const i=document.createElement("noscript"),o=document.createElement("div"),n=document.createElement("img");o.style.display="none",n.src="//pixel.quantserve.com/pixel/p-WMAE4VPZ1nXvg.gif",n.border="0",n.width=1,n.height=1,n.alt="Quantcast",o.appendChild(n),i.appendChild(o),document.body.appendChild(i)}},ye=["1feb6d34-f2ca-4219-bff0-28be03a6d8da"];class we{constructor(t,o,n,s,a){this.articleConfig=o,(0,i.Z)(this,"adblockDetector",void 0),(0,i.Z)(this,"adUnitCreator",void 0),(0,i.Z)(this,"insertContainerDiv",((e,t,i)=>{let o;if("string"==typeof i)o=document.querySelector(i);else if("function"==typeof i)o=i();else for(const e of i){const t=document.querySelector(e);if(t){o=t;break}}if(o)switch(t){case"after":o.insertAdjacentElement("afterend",e);break;case"before":o.insertAdjacentElement("beforebegin",e);break;case"prependInside":o.insertAdjacentElement("afterbegin",e);break;default:o.appendChild(e)}})),(0,e.IW)(e.PP.adStart),(0,e.rX)(e.J8.platformStartToAdStart,e.PP.platformStart,e.PP.adStart),o.apiKey&&o.ads.enabled&&!l.Z.isBot&&we.canCreateAds&&("false"!==d.Z.get("vuuklead")?(we.communicationsCreator=n,we.realtimeAnalytics=s,we.widgetsCreator=a,m.xw[o.apiKey]&&(m.xw[o.apiKey].externalConfig?this.fetchAdvancedConfig(t):this.processAdvancedConfig(m.xw[o.apiKey],t))):(0,e.qu)("log","%c [VUUKLE] ADs initialization blocked because of debugging key","background: #f66; color: #fff; padding: 5px;"))}fetchAdvancedConfig(t){const i=()=>{m.xw[this.articleConfig.apiKey]={...m.xw[this.articleConfig.apiKey],...window.vuukleAdConfiguration}};if(window.vuukleAdConfiguration)return i(),void this.processAdvancedConfig(window.vuukleAdConfiguration,t);(0,c.fs)(`https://cdn.vuukle.com/domain-configs/${this.articleConfig.host}.js`).then((()=>{window.vuukleAdConfiguration?(i(),this.processAdvancedConfig(m.xw[this.articleConfig.apiKey],t)):(0,e.qu)("error","Ad configuration for this host is missing")})).catch((()=>{ye.includes(this.articleConfig.apiKey)&&this.adblockDetector.onAdblockDetected()}))}processAdvancedConfig(e,t){var i,o;e.widgets&&we.widgetsCreator&&(!e.widgets.widgetInsertionGeos||null!==(i=e.widgets)&&void 0!==i&&i.widgetInsertionGeos&&e.widgets.widgetInsertionGeos.includes(l.Z.userCountry))&&!this.articleConfig.amp&&we.widgetsCreator.createWidgets(e.widgets,de.articleCounter),e.insertQuizAndAd&&we.widgetsCreator&&(!e.insertQuizAndAd.insertionGeos||null!==(o=e.insertQuizAndAd)&&void 0!==o&&o.insertionGeos&&e.insertQuizAndAd.insertionGeos.includes(l.Z.userCountry))&&!this.articleConfig.amp&&we.widgetsCreator.createWidgets({preInsertionOperation:()=>{var i,o,n,s,a,r;null!==(i=e.insertQuizAndAd)&&void 0!==i&&null!==(o=i.quizOptions)&&void 0!==o&&o.preQuizInsertionCallback&&e.insertQuizAndAd.quizOptions.preQuizInsertionCallback();const d=document.createElement("div");var c,u,h,m,f,g,p,v;(d.style.display="flex",d.style.flexWrap="wrap",d.style.backgroundColor="#f3f3f3",d.style.justifyContent="center",d.id="vuukle-quiz-and-ad".concat(t),null!==(n=e.insertQuizAndAd)&&void 0!==n&&null!==(s=n.containerDivOptions)&&void 0!==s&&s.containerDivStyles&&(d.style.cssText+=e.insertQuizAndAd.containerDivOptions.containerDivStyles),null!==(a=e.insertQuizAndAd)&&void 0!==a&&null!==(r=a.containerDivOptions)&&void 0!==r&&r.customInsertionFunction)?e.insertQuizAndAd.containerDivOptions.customInsertionFunction(d):this.insertContainerDiv(d,(null===(c=e.insertQuizAndAd)||void 0===c||null===(u=c.quizOptions)||void 0===u?void 0:u.insert)||"inside",l.Z.isMobileUser&&null!==(h=e.insertQuizAndAd)&&void 0!==h&&null!==(m=h.quizOptions)&&void 0!==m&&m.mobileSelector?null===(f=e.insertQuizAndAd)||void 0===f||null===(g=f.quizOptions)||void 0===g?void 0:g.mobileSelector:(null===(p=e.insertQuizAndAd)||void 0===p||null===(v=p.quizOptions)||void 0===v?void 0:v.selector)||"")},quiz:{insert:"inside",selector:"#vuukle-quiz-and-ad".concat(t)},postInsertionOperation:()=>{var i,o;const n=document.querySelector("#vuukle-quiz".concat(t));var s,a;n&&(n.style.marginTop="16px",n.style.marginRight="1px",null!==(s=e.insertQuizAndAd)&&void 0!==s&&null!==(a=s.quizOptions)&&void 0!==a&&a.quizStyles&&(n.style.cssText+=e.insertQuizAndAd.quizOptions.quizStyles));null!==(i=e.insertQuizAndAd)&&void 0!==i&&null!==(o=i.quizOptions)&&void 0!==o&&o.postQuizInsertionCallback&&e.insertQuizAndAd.quizOptions.postQuizInsertionCallback()}},de.articleCounter);const s=document.querySelector(a.selectors.comments.concat(t))||document.querySelector(a.selectors.emotes.concat(t)),d=null!==document.querySelector(a.selectors.comments.concat(t))&&this.articleConfig.comments.enabled,c=null!==document.querySelector(a.selectors.emotes.concat(t))&&this.articleConfig.emotes.enabled,u=d||c;let h=!0,m=!0,f=!0;if("boolean"==typeof e.showCWAudioButton&&we.communicationsCreator&&we.communicationsCreator.toggleAudioButton(e.showCWAudioButton),this.articleConfig.amp)this.loadAdConfiguration(this.articleConfig,e,null,!0,"");else{if(e.CMP&&l.Z.loadCMP(e.CMP),e.blockKeywords&&(m=!v.containsKeyword(this.articleConfig.url,e.blockKeywords)),e.blockAdsByTags&&this.articleConfig.tags&&(f=!v.containsKeyword(this.articleConfig.tags,e.blockAdsByTags),f||r.Z.log("ads_false",this.articleConfig)),h=f&&m,e.disableAdsOnPageVariable){const e=n.Z.get("publir_subscriber");"boolean"==typeof window.publir_show_ads&&(h=window.publir_show_ads),"1"===e&&(h=!1)}if(e.setVuukleSite&&(window.vuukleSite=e.setVuukleSite),h){var p;this.adUnitCreator=new de(e,this.articleConfig),e.targets&&(we.loadPrebid(e.adUnit),this.adblockDetector=new g(this.articleConfig,e,we.communicationsCreator)),this.loadAdConfiguration(this.articleConfig,e,s,u,t),null===(p=we.communicationsCreator)||void 0===p||p.toggleAdSpaceCreation(Boolean(e.targets));if(!document.querySelector(a.selectors.trafficExchange.concat(t))&&e.insertTX){const{insert:i,selector:o}=e.insertTX;this.adUnitCreator.insertTXInsideElement(i,o,t)}}else r.Z.log("policy_bad",this.articleConfig)}}static loadPrebid(t="prebid3",i=window){null===i.document.querySelector(`head script[src="https://cdn.vuukle.com/static/${t}.js"]`)&&((0,e.IW)(e.PP.prebidLoadStart),(0,e.rX)(e.J8.adStartToPrebidLoadStart,e.PP.adStart,e.PP.prebidLoadStart),(0,e.rX)(e.J8.platformStartToPrebidLoadStart,e.PP.platformStart,e.PP.prebidLoadStart),(0,c.fs)(`https://cdn.vuukle.com/static/${t}.js`,{},i).then((()=>{(0,e.IW)(e.PP.prebidLoadEnd),(0,e.rX)(e.J8.prebidStartToEnd,e.PP.prebidLoadStart,e.PP.prebidLoadEnd),(0,e.rX)(e.J8.platformStartToPrebidLoad,e.PP.platformStart,e.PP.prebidLoadEnd),re.prebidLoaded=!0,(0,e.Gf)("info",!0,`Vuukle - ${(0,u.xz)()} [Platform.js] Prebid script loaded`),setTimeout((()=>{re.initialPeriodPassed=!0}),5e3)})).catch((()=>{(0,e.IW)(e.PP.prebidLoadError),(0,e.rX)(e.J8.prebidStartToError,e.PP.prebidLoadStart,e.PP.prebidLoadError),(0,e.rX)(e.J8.platformStartToPrebidError,e.PP.platformStart,e.PP.prebidLoadError),re.prebidBlocked=!0,re.prebidLoaded=!0})))}loadAdConfiguration(t,i,o,n,s){if((0,e.IW)(e.PP.adConfigLoadStart),(0,e.rX)(e.J8.adStartToConfigLoadStart,e.PP.adStart,e.PP.adConfigLoadStart),window._vuukleConfig)return void this.processAdConfiguration(window._vuukleConfig,i,o,t,n,s);const a=(0,h._2)(`vuukleconfhttps://cdn.vuukle.com/ads/${t.host}.json`),r=(0,h._2)(`vuukleconftimehttps://cdn.vuukle.com/ads/${t.host}.json`);if(a&&r)try{const e=JSON.parse(a);if((new Date).valueOf()-Number(r)<18e5)return void this.processAdConfiguration(e.data,i,o,t,n,s)}catch(t){(0,e.qu)("error",t)}const d=a=>{const r=()=>{(0,h.ti)(`vuukleconfhttps://cdn.vuukle.com/ads/${t.host}.json`,JSON.stringify({time:(new Date).valueOf(),data:a})),(0,h.ti)(`vuukleconftimehttps://cdn.vuukle.com/ads/${t.host}.json`,(new Date).valueOf().toString())};window._vuukleConfig=a,l.Z.canUseCookies?r():l.Z.storageUpdateCallbacks.add((()=>{r()})),(0,e.IW)(e.PP.adConfigLoadEnd),(0,e.rX)(e.J8.adStartToConfigLoadEnd,e.PP.adConfigLoadStart,e.PP.adConfigLoadEnd),(0,e.rX)(e.J8.platformStartToAdConfigLoadEnd,e.PP.platformStart,e.PP.adConfigLoadEnd),this.processAdConfiguration(a,i,o,t,n,s)},c=i=>{const o=new XMLHttpRequest;o.open("GET",i,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(),o.onreadystatechange=()=>{if(4===o.readyState&&200===o.status){const e=JSON.parse(o.responseText);e.errors&&"no_cache"===e.errors[0]?c(`https://api.vuukle.com/api/v1/AdsJson/fillKVcacheForHost?host=${t.host}`):d(e)}else 200!==o.status&&((0,e.IW)(e.PP.adConfigLoadError),(0,e.rX)(e.J8.adConfigStartToError,e.PP.adConfigLoadStart,e.PP.adConfigLoadError),(0,e.rX)(e.J8.platformStartToAdConfigLoadError,e.PP.platformStart,e.PP.adConfigLoadError))},o.onerror=()=>{ye.includes(t.apiKey)&&this.adblockDetector.onAdblockDetected()}};c(`https://cdn.vuukle.com/ads/${t.host}.json`)}processAdConfiguration(t,i,o,n,s,a){if(window._vuukleConfig||(window._vuukleConfig=t),"boolean"==typeof t.noGpt&&(re.noGPT=t.noGpt),t.realtime&&(we.realtimeAnalytics&&(we.realtimeAnalytics.enabled=!0,we.realtimeAnalytics.init(n)),we.communicationsCreator&&we.communicationsCreator.enableRealtime()),n.amp)return;de.canCreateTXAds=!t.noAdsTX;const r=m.xw[n.apiKey];t.disableAdRefresh&&(we.canRefreshAds=!1);const d=()=>{var e;if(l.Z.userCountryDetermined||!t.excludedAds){if(t.excludedAds&&t.excludedAds[l.Z.userCountry]){t.excludedAds[l.Z.userCountry].forEach((e=>{var t;null===(t=r.targets)||void 0===t||delete t[e]}))}this.adUnitCreator.createAdvancedAd(o,s,a),r.excludeAdSenseRefreshFrom&&null!==(e=r.excludeAdSenseRefreshFrom)&&void 0!==e&&e.includes(n.host)||this.adUnitCreator.findAndReplaceAdSenseUnits(a),this.adUnitCreator.findAndReplaceExistingAdUnits(a)}else setTimeout(d,100)};if(d(),t.videoPlayer){t.videoPlayer.countryExclude&&t.videoPlayer.countryExclude.includes(l.Z.userCountry)||("boolean"==typeof t.videoPlayer.onlyDesktop?(t.videoPlayer.onlyDesktop&&!l.Z.isMobileUser&&new ce(t.videoPlayer.aniviewID),!t.videoPlayer.onlyDesktop&&l.Z.isMobileUser&&new ce(t.videoPlayer.aniviewID)):new ce(t.videoPlayer.aniviewID))}if(t.emotesAd){if(t.emotesAd.countryInclude&&t.emotesAd.countryInclude.length>0){var c;var u;if(null===(c=t.emotesAd.countryInclude)||void 0===c?void 0:c.includes(l.Z.userCountry))null===(u=we.communicationsCreator)||void 0===u||u.sendAdToEmotes(t.emotesAd.emotesSlot,t.emotesAd.imageUrl,t.emotesAd.clickUrl,t.emotesAd.label)}else{var h;null===(h=we.communicationsCreator)||void 0===h||h.sendAdToEmotes(t.emotesAd.emotesSlot,t.emotesAd.imageUrl,t.emotesAd.clickUrl,t.emotesAd.label)}}if(t.audioAdID&&we.communicationsCreator&&we.communicationsCreator.enableAudioAds(t.audioAdID),(t.stickyAd||t.extraStickyAds)&&this.processStickyAdConfigs(t,r,n,a),i.sovrnBeacon&&new fe,i.INTLAd){const e=l.Z.isMobileUser&&i.INTLAd.ignorePathsMobile?i.INTLAd.ignorePathsMobile:i.INTLAd.ignorePaths;if(!i.INTLAd.ignorePaths||!i.INTLAd.ignorePathsMobile||e&&!v.matchesPath(e)){var f,g,p,b,y,w;const e=(null===(f=i.targets)||void 0===f||null===(g=f[i.INTLAd.adId])||void 0===g?void 0:g.gptNumber)||v.getTheGPTNumberOfTheAdTarget(i.INTLAd.adId);new me(i.INTLAd.adId,i.INTLAd.desktopOnly,i.INTLAd.mobileOnly,t.INTLFreqCap||2,e,null===(p=i.targets)||void 0===p||null===(b=p[i.INTLAd.adId])||void 0===b?void 0:b.gptId),this.adUnitCreator.createAdAtCustomLocation(document.querySelector(`#${i.INTLAd.adId}`),i.INTLAd.adId,e,null===(y=i.targets)||void 0===y||null===(w=y[i.INTLAd.adId])||void 0===w?void 0:w.gptId,a)}}i.inImageAd&&new ve(i.inImageAd.slotId,i.inImageAd.activeGeos),new be,(0,e.IW)(e.PP.adEnd),(0,e.rX)(e.J8.adStartToEnd,e.PP.adStart,e.PP.adEnd),(0,e.rX)(e.J8.platformStartToAdEnd,e.PP.platformStart,e.PP.adEnd)}processStickyAdConfigs(e,t,i,o){const n=n=>{var s,a,r,l;const d="center"===n.stickyAdPosition||"top"===n.stickyAdPosition||!n.stickyAdPosition;let c=null;n.divId?(c=document.createElement("div"),c.id=n.divId,document.body.appendChild(c)):n.targetDivId&&(c=document.getElementById(n.targetDivId));const u=n.targetDivId||n.divId||"",h=(null===(s=t.targets)||void 0===s||null===(a=s[u])||void 0===a?void 0:a.gptNumber)||v.getTheGPTNumberOfTheAdTarget(u);if(this.adUnitCreator.createAdAtCustomLocation(c,u,h,null===(r=t.targets)||void 0===r||null===(l=r[u])||void 0===l?void 0:l.gptId,o),c){const t=e.hideStickyAdOn||n&&n.hideStickyAdOn;new pe(i,c,u,{height:d?90:250,mobilePosition:n.stickyAdMobilePosition,position:n.stickyAdPosition,width:d?728:300,showAfter:n.showStickyAfter,hideOnScroll:n.hideOnScroll},t)}};e.stickyAd&&n(e.stickyAd),e.extraStickyAds&&e.extraStickyAds.forEach((e=>{n(e)}))}}(0,i.Z)(we,"communicationsCreator",void 0),(0,i.Z)(we,"realtimeAnalytics",void 0),(0,i.Z)(we,"widgetsCreator",void 0),(0,i.Z)(we,"canRefreshAds",!0),(0,i.Z)(we,"canCreateAds",!0);const ke=we;class Ce{static setNotificationList(e){this.notificationList=e}static createNotificationCorner(){const e=document.getElementById("vuukle_alerts_fixed_left");if(e)return e;{const e=document.createElement("div");return e.id="vuukle_alerts_fixed_left",e.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        right: -16px;\n        borderRadius: 5px;\n        display: flex;\n        flex-direction: column-reverse;\n        height: 100vh;\n        overflow-y: scroll;\n        pointer-events: none;\n        align-items: flex-end;\n        z-index: 2147483648;\n        color: #000;\n      ",e}}static createNotification(e,t){const i=document.createElement("div");i.style.pointerEvents="auto",document.getElementById(`${t.Guid}`)||e.querySelector(`.a${t.Guid}`)||(i.innerHTML+=`\n        <div id="${t.Guid}" style="${Ce.notificationContainerStyles}">\n          <a href="${t.Subject}" class="a${t.Guid}" style="display: flex;text-decoration: none;color: black;">\n            <div style="${Ce.notificationImageStyles(t.Image)}"></div>\n            <div style="margin: 0 20px;width:200px">\n              <p style="${Ce.notificationTextStyles}">${t.Notification}</p>\n            </div>\n          </a>\n          <div style="width:40px;height:100%;position:relative">\n            <svg data-id="${t.Guid}" data-prodid = "${t.prod_db_id}" class="delVuukleNotifSVG" style="position:absolute;top:45%;right:20%;cursor:pointer" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M15 5L5 15" stroke="#60657B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M5 5L15 15" stroke="#60657B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </div>\n        </div>\n      `,e.appendChild(i))}static setShownNotes(e,t){try{const i=(0,h._2)("showedNotes")||JSON.stringify({});let o=JSON.parse(i);o?o[e]&&!o[e].includes(t)?o[e].push(t):o[e]=[t]:o={[e]:[t]},l.Z.canUseCookies?(0,h.ti)("showedNotes",JSON.stringify(o)):l.Z.storageUpdateCallbacks.add((()=>{(0,h.ti)("showedNotes",JSON.stringify(o))}))}catch(e){return}}static removeNotificationById(e,t){const i=document.getElementById(e);if(i&&i.style){i.style.display="none";const e=this.notificationList.find((e=>i.innerText.trim()==e.Notification));e&&Ce.setShownNotes(t,e.Guid)}}static addNotificationRemoveListeners(e,t){e.querySelectorAll(".delVuukleNotifSVG").forEach((e=>{e.onclick=()=>{Ce.removeNotificationById(e.dataset.id,t)}}))}static addNotificationClickListeners(e,t,i,o){e.querySelectorAll(`.a${i}`).forEach((e=>{e.onclick=()=>{l.Z.canUseCookies?(0,h.ti)("hrefAfter",JSON.stringify(o)):l.Z.storageUpdateCallbacks.add((()=>{(0,h.ti)("hrefAfter",JSON.stringify(o))}))}}))}}(0,i.Z)(Ce,"notificationList",[]),(0,i.Z)(Ce,"notificationContainerStyles","\n    display: flex;\n    width: 397px;\n    background: white;\n    box-shadow: rgb(67 90 111 / 30%) 0px 0px 1px, rgb(67 90 111 / 47%) 0px 0px 8px 2px;\n    padding: 20px 0;\n    border-radius: 5px;\n    margin: 5px 10px;\n  "),(0,i.Z)(Ce,"notificationImageStyles",(e=>`\n    margin-left: 20px;\n    background-image:url(${e});\n    width: 90px;\n    height: 100%;\n    background-size: 100% 100%;\n    border-radius: 5px;\n  `)),(0,i.Z)(Ce,"notificationTextStyles","\n    height: 75px;\n    overflow: hidden;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n    display: -webkit-box;\n    margin: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    width: 200px;\n    font-size: 16px;\n    font-family: Helvetica Neue;\n    font-weight:700;\n  ");const xe=Ce;let Se;!function(e){e.Ping="ping",e.Start="start",e.StartWriting="startWriting",e.StopWriting="stopWriting",e.IsWriting="isWriting",e.SetCommentCount="setCommentCount",e.CommentPosted="commentPosted",e.CommentDeleted="commentDeleted",e.StartCommentsReading="startReadingComments",e.StopCommentsReading="stopReadingComments",e.Notifications="notifications",e.WebVitals="webVitals"}(Se||(Se={}));const Le=class{constructor(e){this.config=e,(0,i.Z)(this,"enabled",!1),(0,i.Z)(this,"webSocket",void 0),(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"intervalId",void 0),(0,i.Z)(this,"notificationsIntervalId",void 0),(0,i.Z)(this,"addMessageListener",(e=>this.webSocket&&this.webSocket.addEventListener("message",e))),this.enabled&&this.init(e)}init(t){this.webSocket=new WebSocket("wss://s1.vuukle.com:8443"),this.data={host:t.host,referrer:t.refHost||"",refurl:encodeURIComponent(document.referrer||""),type:"",userid:"",version:"1.50",author:t.author,meta:{id:t.articleId,img:t.img,tag:t.tags,title:t.title},tag:"string"==typeof t.tags?t.tags.split(",")[0]:"",uri:encodeURIComponent(t.url),browser:l.Z.browser,device:l.Z.device,os:l.Z.os,country:l.Z.userCountry},t.amp&&(this.data.device="AMP"),this.intervalId=window.setInterval((()=>{this.webSocket.send(JSON.stringify({type:"ping"}))}),3e4);const i=a.selectors.comments.replace("#","");!1!==t.comments.enabled&&null!==document.querySelector(`div[id*="${i}"]`)||(this.notificationsIntervalId=window.setInterval((()=>{this.webSocket.send(JSON.stringify({type:"notifications",host:t.host}))}),1e4)),window.addEventListener("pagehide",(()=>this.webSocket.close())),this.webSocket.onclose=()=>{this.clearRealtimeMessageIntervals(),this.init(t)},this.webSocket.onerror=t=>{(0,e.qu)("error","Realtime socket error: ",t),this.clearRealtimeMessageIntervals()},this.webSocket.onopen=()=>{(0,e.IW)(e.PP.websocketOpened),(0,e.rX)(e.J8.platformStartToWebsocketOpen,e.PP.platformStart,e.PP.websocketOpened)},this.watchAndCreateNotifications(),this.send({type:Se.Start})}clearRealtimeMessageIntervals(){window.clearInterval(this.intervalId),this.notificationsIntervalId&&window.clearInterval(this.notificationsIntervalId)}watchAndCreateNotifications(){const t=xe.createNotificationCorner();let i="{}",o="[]";try{i=(0,h._2)("showedNotes")||JSON.stringify({}),o=(0,h._2)("hrefAfter")||JSON.stringify([])}catch(e){}const n=JSON.parse(i),s=JSON.parse(o),a=!n,r=n&&!n[this.config.host],l=a||r;this.addMessageListener((i=>{try{const e=JSON.parse(i.data).notifications;xe.setNotificationList(e),(e&&e.length>0||s&&s.length>0)&&!document.getElementById("vuukle_alerts_fixed_left")&&document.body.appendChild(t),document.getElementById("vuukle_alerts_fixed_left")&&e.map((i=>{if(l||n&&Array.isArray(n[this.config.host])&&!n[this.config.host].includes(i.Guid)){const o=(new Date).getTime()/1e3,n=i.From+900;o>=i.From&&o<=n&&0!==e.length&&(xe.createNotification(t,i),xe.addNotificationRemoveListeners(t,this.config.host),xe.addNotificationClickListeners(t,this.config.host,i.Guid,e))}})),0!==s.length&&s.map((e=>{if(l||n&&Array.isArray(n[this.config.host])&&!n[this.config.host].includes(e.Guid)){const i=(new Date).getTime()/1e3,o=e.From+900;i>=e.From&&i<=o&&(xe.createNotification(t,e),xe.addNotificationRemoveListeners(t,this.config.host))}}))}catch(t){(0,e.qu)("warn","Websocket server response processing error has occured",t)}}))}send(e){if(!this.webSocket||!this.enabled)return;let t={};t=e.type===Se.Start||e.type===Se.CommentPosted||e.type===Se.SetCommentCount||e.type===Se.CommentDeleted||e.type===Se.StartCommentsReading?{apikey:this.config.apiKey,userid:l.Z.userAPIKey}:{userid:l.Z.userAPIKey},e.webVitals&&Object.keys(e.webVitals).length>0&&(t={...t,webVitals:{...e.webVitals}});const i={...this.data,...t};1===this.webSocket.readyState?this.webSocket.send(JSON.stringify({...i,...e}).replace("","")):this.webSocket.addEventListener("open",(()=>this.webSocket.send(JSON.stringify({...i,...e}).replace("",""))))}};var Ae=o(281);class Ie{constructor(e){(0,i.Z)(this,"widgetObject",void 0),(0,i.Z)(this,"listener",void 0),this.widgetObject=e}isValidEvent(e){if(!(e instanceof Object||e.data instanceof Object||e.data.sourceWindowName))return!1;let t=!1;if(Array.isArray(this.widgetObject))for(let i of this.widgetObject)i.iframe.name===e.data.sourceWindowName&&(t=!0);else t=e.data.sourceWindowName===this.widgetObject.iframe.name;return t}postMessage(e){Array.isArray(this.widgetObject)?this.widgetObject.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))})):this.widgetObject.onLoad((t=>t.postMessage(e,"*")))}removeMessageListener(){window.removeEventListener("message",this.listener)}}class Me extends Ie{constructor(t){super(t),this.widgetObject=t,(0,i.Z)(this,"listener",(t=>{this.isValidEvent(t)&&(0,e.qu)("log","[Vuukle.js | Subscribe] message:",t)})),window.addEventListener("message",this.listener)}}const Ee=class{constructor(e,t,o,n={},s=!1,a=!0,r={}){if(this.id=e,this.url=o,this.params=n,this.hasSkeleton=s,this.lazyLoad=a,this.intersectionObserverOptions=r,(0,i.Z)(this,"iframe",void 0),(0,i.Z)(this,"iframeLoaded",void 0),(0,i.Z)(this,"iframeWasViewed",void 0),(0,i.Z)(this,"iframeWindow",void 0),(0,i.Z)(this,"iframeSkeleton",void 0),(0,i.Z)(this,"onLoadCallbacks",void 0),(0,i.Z)(this,"onLoad",(e=>{if("function"==typeof e)return this.iframeLoaded?e(this.iframeWindow):void("function"==typeof e&&this.onLoadCallbacks.add(e))})),(0,i.Z)(this,"iframeOnLoad",(()=>{var e;this.iframeWindow=this.iframe.contentWindow,this.iframeLoaded=!0,null===(e=this.iframeSkeleton)||void 0===e||e.remove(),this.onLoadCallbacks.size>0&&this.onLoadCallbacks.forEach((e=>e(this.iframeWindow)))})),!this.id)throw new Error("Iframe id is required");if(!o)throw new Error("Iframe url is required");this.iframeLoaded=!1,this.iframeWasViewed=!1,this.onLoadCallbacks=new Set;const l=document.createElement("iframe"),d=`${o}?version=${n.version}`;this.onLoad((e=>e.postMessage({configuration:n},d))),l.style.width="100%",l.style.minWidth="100%",l.height="0",l.name=this.id,l.id=this.id,l.title=t,l.frameBorder="0",l.scrolling="no",this.iframe=l,this.lazyLoad||this.loadIframe()}loadIframe(){this.iframeLoaded||(this.iframe.onload=this.iframeOnLoad,this.iframe.src=`${this.url}?version=${this.params.version}`)}get isInView(){return!(!(0,c.w1)(this.iframe)&&!(0,c.v4)(this.iframe))&&(this.iframeWasViewed=!0,!0)}};const Te=class extends Ee{constructor(e,t,i=!1){super(e,"Vuukle Subscribe Widget",a.urls.subscribe,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,buttonColor:t.subscribe.buttonColor,buttonTextColor:t.subscribe.buttonTextColor,backgroundColor:t.subscribe.backgroundColor,textColor:t.subscribe.textColor,version:a.versions.subscribe,inSubscribePopup:i},!1,!0),this.id=e,this.config=t,this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.iframe.style.minHeight="120px"}insertSkeleton(){}};class Ze extends ue.Z{constructor(){super(`${ne("Subscribe-Popup-")}`,'\n  <div class="subscribe-popup-header">\n    <svg width="120" height="110" class="sites-list-header-logo" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M13.2998 4.73557C8.16371 4.73557 4 8.46848 4 13.0733C4 14.7704 4.56692 16.348 5.53818 17.6648C5.41059 19.1863 5.04343 21.3293 4 22.3731C4 22.3731 7.18831 21.9256 9.34812 20.6214C10.5478 21.127 11.8866 21.4111 13.2998 21.4111C18.4358 21.4111 22.5995 17.6782 22.5995 13.0733C22.5995 8.46848 18.4358 4.73557 13.2998 4.73557Z" fill="#FACC2B"></path>\n      <path d="M13.2998 4.73557C8.16371 4.73557 4 8.46848 4 13.0733C4 14.7704 4.56692 16.348 5.53818 17.6648C5.41059 19.1863 5.04343 21.3293 4 22.3731C4 22.3731 7.18831 21.9256 9.34812 20.6214C10.5478 21.127 11.8866 21.4111 13.2998 21.4111C18.4358 21.4111 22.5995 17.6782 22.5995 13.0733C22.5995 8.46848 18.4358 4.73557 13.2998 4.73557Z" fill="#4885ED"></path><g filter="url(#filter0_d)">\n      <path d="M25.5755 9.87867C25.5755 5.27383 21.4118 1.54086 16.2758 1.54086C12.567 1.54086 9.36602 3.48788 7.87286 6.30384C9.40061 5.31771 11.2736 4.7348 13.2999 4.7348C18.4359 4.7348 22.5996 8.46772 22.5996 13.0726C22.5996 14.834 21.9888 16.4666 20.9491 17.8129C23.0318 18.8191 25.5755 19.1785 25.5755 19.1785C24.5321 18.135 24.1649 15.9919 24.0373 14.4701C25.0086 13.1533 25.5755 11.5757 25.5755 9.87867Z" fill="#FACC2B"></path></g><g filter="url(#filter1_d)">\n      <path d="M13.2998 4.73557C8.16371 4.73557 4 8.46848 4 13.0733C4 14.7704 4.56692 16.348 5.53818 17.6648C5.41059 19.1863 5.04343 21.3293 4 22.3731C4 22.3731 7.18831 21.9256 9.34812 20.6214C10.5478 21.127 11.8866 21.4111 13.2998 21.4111C18.4358 21.4111 22.5995 17.6782 22.5995 13.0733C22.5995 8.46848 18.4358 4.73557 13.2998 4.73557Z" fill="#4885ED"></path></g>\n      <path d="M13.2994 19.027H13.5185L18.1828 8.28983H16.0541L14.2698 12.3906C13.8629 13.3141 13.4559 14.801 13.4559 14.801C13.4559 14.801 13.0333 13.2984 12.6263 12.3906L10.7951 8.28983H8.44733L13.2994 19.027Z" fill="white"></path><defs><filter id="filter0_d" x="3.87286" y="1.54086" width="25.7027" height="25.6376" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter><filter id="filter1_d" x="0" y="4.73557" width="26.5995" height="25.6375" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs>\n    </svg>\n    <div class="subscribe-popup-header_titles">\n      <span>Don\'t miss out.</span>\n      <span>Sign up for our newsletter to stay in the loop.</span>\n    </div>\n  </div>\n'),(0,i.Z)(this,"boundListener",void 0),super.create(),super.setModalBodyContent('<div class="vuukle-subscribe"></div>');const e=this.modalElement.querySelector(".vuukle-info-modal-header");e&&(e.style.padding="20px 0"),this.boundListener=this.mouseOutListener.bind(this),document.addEventListener("mouseout",this.boundListener)}mouseOutListener(e){if(!(e.clientY>=50||e.relatedTarget)){const e=new Te("subscribe-popup-iframe",t.Z,!0),i=this.modalElement.querySelector(".vuukle-subscribe");i&&(i.appendChild(e.iframe),new Me(e),e.loadIframe()),this.show(this.modalElement),document.removeEventListener("mouseout",this.boundListener)}}getModalHTML(){return`\n      <div role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container vuukle-subscribe-popup">\n          <div class="vuukle-info-modal-header">\n            <div>\n              <h4 id="${this.id}-header">${this.header}</h4>\n            </div>\n            <button class="vuukle-info-modal-close" title="Close" aria-label="Close Modal">\n              <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n                <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />\n              </svg>\n            </button>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n        </div>\n      </div>\n    `}}const Pe=Ze;var _e=o(164);class De{constructor(e,t,o){this.articleConfig=t,this.powerbarListener=o,(0,i.Z)(this,"widgetObject",void 0),(0,i.Z)(this,"listener",(e=>{var t;if(this.isValidEvent(e)){var i;if((0,q.ZV)("log","[Vuukle.js | Modal(Windowed)] message:",e),null!==(t=e.data.modalReply)&&void 0!==t&&t.hideModal&&this.handleHideModal(),e.data.modalLoaded)null===(i=this.powerbarListener)||void 0===i||i.postMessage({modalLoaded:e.data.modalLoaded});e.data.modalMessage&&this.broadcastModalMessage(e),e.data.reportEvent&&this.reportToAnalyticsServer(e),e.data.callSSO&&this.callSSOAuth(),e.data.openedShareNetwork&&this.powerbarListener&&this.powerbarListener.postMessage({openedShareNetwork:e.data.openedShareNetwork},{sendToOneInstance:!0}),e.data.alertMessage&&Ae.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.modalWindowLoaded&&(this.widgetObject.setLoaded(!0),this.widgetObject.executeAllCallbacks()),e.data.vuukle_event&&this.shareEventToPublished(e.data.vuukle_event,this.articleConfig.eventHandler)}})),this.widgetObject=e,window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),this.postMessage({loginToken:_e.Z.getToken()}),this.postMessage({isMobile:l.Z.isMobileUser})}broadcastModalMessage(e){var t,i;e.data.modalMessage.loggedIn?null===(t=this.powerbarListener)||void 0===t||t.postMessage({loggedIn:!0}):null===(i=this.powerbarListener)||void 0===i||i.postMessage({modalMessage:e.data.modalMessage})}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&r.Z.log(t,this.articleConfig)}callSSOAuth(){var e,t,i;const o=null===(e=this.articleConfig.comments)||void 0===e||null===(t=e.auth)||void 0===t||null===(i=t.sso)||void 0===i?void 0:i.onClick;"function"==typeof o?o():console.error("[Vuukle] â  Please configure SSO to allow users to authenticate.")}handleHideModal(){var e;null===(e=this.widgetObject.currentWindow)||void 0===e||e.close(),this.widgetObject.setLoaded(!1)}isValidEvent(e){return!!(e instanceof Object||e.data instanceof Object||e.data.sourceWindowName)&&e.data.sourceWindowName===this.widgetObject.windowName}shareEventToPublished(e,t){"function"==typeof t&&t(e)}postMessage(e){this.widgetObject.onLoad((t=>t.postMessage(e,"*")))}}class Oe extends Ie{constructor(t,o,n,s=[],a,r){super(t),this.currentWidgetObject=t,this.otherWidgetObjects=o,this.articleConfig=n,this.sharebarListeners=s,this.modalListener=a,this.widgetsCreator=r,(0,i.Z)(this,"loginTypes",[]),(0,i.Z)(this,"modalIframe",void 0),(0,i.Z)(this,"modalWindow",void 0),(0,i.Z)(this,"modalWindowListener",void 0),(0,i.Z)(this,"commentsListener",void 0),(0,i.Z)(this,"listener",(t=>{if(this.isValidEvent(t)){if((0,e.qu)("log","[Vuukle.js | Audio] message:",t),t.data.reportEvent&&this.reportToAnalyticsServer(t),"requestLogin"in t.data&&this.handleLoginRequest(t),"listenState"in t.data&&!("firstClick"in t.data)){var i;const{listenState:e}=t.data;null===(i=this.commentsListener)||void 0===i||i.postMessage({listenState:e}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:e},{sendToOthers:!0}),this.sharebarListeners.forEach((t=>t.postMessage({listenState:e})))}if("listenState"in t.data&&"firstClick"in t.data){var o;const{firstClick:e,listenState:i}=t.data;null===(o=this.commentsListener)||void 0===o||o.postMessage({listenState:i,firstClick:e}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:i,firstClick:e},{sendToOthers:!0}),this.sharebarListeners.forEach((t=>t.postMessage({listenState:i,firstClick:e})))}"audioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"audioSrc"),"currentTime"in t.data&&this.shareAudioSyncMessage(t.data,"currentTime"),"hasEnded"in t.data&&this.shareAudioSyncMessage(t.data,"hasEnded"),"welcomeAudioStarted"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioStarted"),"welcomeAudioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioSrc"),"welcomeAudioTime"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioTime"),"welcomeAudioState"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioState")}})),window.addEventListener("message",this.listener),setTimeout((()=>{const e=t.iframe.parentElement;if(e){const t=_(e);this.postMessage({backgroundColor:t}),this.postMessage({shouldUseDarkMode:D(e)<.3})}}),0)}shareAudioSyncMessage(e,t){var i;const o=e[t];null===(i=this.commentsListener)||void 0===i||i.postMessage({[t]:o}),this.otherWidgetObjects.length>0&&this.postMessage({[t]:o},{sendToOthers:!0}),this.sharebarListeners.forEach((e=>e.postMessage({[t]:o})))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&r.Z.log(t,this.articleConfig)}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login"},loginTypes:e.data.loginTypes||this.loginTypes})):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login"}}),this.toggleModal(!0))}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new De(this.modalWindow,this.articleConfig,this))}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i instanceof HTMLElement&&(i.style.display=e?"block":"none")}sendMessageToModal(e){this.modalListener?this.modalListener.postMessage(e):this.widgetsCreator&&this.widgetsCreator.createModal(e)}updateModalInstance(e,t){this.modalListener=t,this.modalIframe=e}updateCommentsListenerInstance(e){this.commentsListener=e}postMessage(e,t){t?t.sendToOthers&&this.otherWidgetObjects.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))})):this.currentWidgetObject.onLoad((t=>t.postMessage(e,"*")))}}class qe extends Ie{constructor(t,o,n,s,a,r,d=[],c=[],u,h){var f;if(super(t),this.widgetObject=t,this.index=o,this.articleConfig=n,this.widgetsCreator=s,this.realtime=a,this.emotesListener=r,this.powerbarListeners=d,this.audioWidgetListeners=c,this.quizListener=u,this.modalListener=h,(0,i.Z)(this,"modalIframe",void 0),(0,i.Z)(this,"listener",(async t=>{if(this.isValidEvent(t)){if((0,e.qu)("log","[Vuukle.js | Comments] message:",t),t.data.syncWidget instanceof Object&&this.synchronizeWidgets(t),t.data.reportEvent&&this.reportToAnalyticsServer(t),"object"==typeof t.data.realtimeMessage&&("commentPosted"===t.data.realtimeMessage.type&&Re.postedCommentCount++,this.realtime.send(t.data.realtimeMessage)),t.data.commentInputBoxRect&&(Re.commentInputBoxRect=t.data.commentInputBoxRect),t.data.realtimeCommentsLoaded&&(Re.commentCountLock=!1),t.data.realtimeRepliesLoaded&&"number"==typeof t.data.realtimeRepliesLoaded&&(this.widgetObject.commentCount+=t.data.realtimeRepliesLoaded),t.data.loadModal){var i;this.widgetsCreator.createModal(t.data);const e=this.widgetObject.iframe.parentElement;null===(i=this.modalListener)||void 0===i||i.switchThemeToDarkMode(D(e)<.3),t.data.loginTypes&&this.powerbarListeners.forEach((e=>{e.postMessage({loginTypesSent:!0})}))}var o,n,s,a;if(t.data.vuukle_event&&this.shareEventToPublished(t.data.vuukle_event,this.articleConfig.eventHandler),t.data.articleData instanceof Object&&this.updateCommentCounts(t),t.data.settings&&t.data.settings.theme&&t.data.settings.theme.color&&this.updateTXColor(t),t.data.anonToken&&(_e.Z.setAnonymousCommenting(!0),_e.Z.setRegularCommenting(!1),_e.Z.setGuestCommenting(!1),_e.Z.saveToken(t.data.anonToken),_e.Z.setAnonToken(t.data.anonToken)),t.data.removeAnonToken&&(_e.Z.setAnonToken(null),_e.Z.removeToken()),"string"==typeof t.data.updatedUID)l.Z.userAPIKey=t.data.updatedUID,null===(o=this.emotesListener)||void 0===o||o.updateVotedEmote(),this.powerbarListeners.forEach((e=>{e.setUserIdAvailable(!0),e.updateRecommendedState()}));if(t.data.modalData&&this.openModalWithMessage(t),t.data.callSSO&&(_e.Z.setSSOInfo(!0),this.performSSOAuth()),t.data.openBrowserLink&&(window.location.href=t.data.openBrowserLink),"boolean"==typeof t.data.isEmailVerified&&this.modalListener&&this.modalListener.postMessage({isEmailVerified:t.data.isEmailVerified}),"string"==typeof t.data.userId&&this.powerbarListeners.forEach((e=>e.postMessage({userId:t.data.userId}))),t.data.alertMessage&&Ae.Z.createNotification(t.data.alertMessage.text,t.data.alertMessage.type),t.data.userInfo&&this.emotesListener&&this.emotesListener.postMessage({userInfo:t.data.userInfo}),t.data.loggedOut&&this.handleLogout(),"listenState"in t.data&&!("firstClick"in t.data)){const{listenState:e}=t.data;this.powerbarListeners.forEach((t=>t.postMessage({listenState:e}))),this.audioWidgetListeners.forEach((t=>t.postMessage({listenState:e})))}if("listenState"in t.data&&"firstClick"in t.data){const{firstClick:e,listenState:i}=t.data;this.powerbarListeners.forEach((t=>t.postMessage({listenState:i,firstClick:e}))),this.audioWidgetListeners.forEach((t=>t.postMessage({listenState:i,firstClick:e})))}if("audioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"audioSrc"),"currentTime"in t.data&&this.shareAudioSyncMessage(t.data,"currentTime"),"hasEnded"in t.data&&this.shareAudioSyncMessage(t.data,"hasEnded"),"welcomeAudioStarted"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioStarted"),"welcomeAudioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioSrc"),"welcomeAudioTime"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioTime"),t.data.forgetToken)_e.Z.removeToken(),this.powerbarListeners.forEach((e=>{e.postMessage({loginToken:null})})),null===(n=this.emotesListener)||void 0===n||n.postMessage({loginToken:null}),null===(s=this.modalListener)||void 0===s||s.postMessage({removeSLToken:!0}),null===(a=this.quizListener)||void 0===a||a.postMessage({loginToken:null})}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),n.amp){var g;n.comments.hideRecommendedArticles&&this.postMessage({disableToT:!0}),null!==(g=n.theme)&&void 0!==g&&g.darkMode&&this.postMessage({enableDarkMode:!0});const e=setInterval((()=>{window.hasResized&&(this.postMessage({hasResized:!0}),clearInterval(e))}),5e3)}this.postMessage({loginToken:_e.Z.getToken()}),setTimeout((()=>{const e=t.iframe.parentElement;if(e){const t=_(e);this.postMessage({backgroundColor:t}),this.postMessage({shouldUseDarkMode:D(e)<.3})}}),0),this.audioWidgetListeners.length>0&&this.postMessage({showAudioButton:!1}),null!==(f=m.xw[n.apiKey])&&void 0!==f&&f.compact&&this.postMessage({compactMode:!0}),this.postMessage({isMobile:l.Z.isMobileUser})}shareAudioSyncMessage(e,t){const i=e[t];this.powerbarListeners.forEach((e=>e.postMessage({[t]:i}))),this.audioWidgetListeners.forEach((e=>e.postMessage({[t]:i})))}updateCommentCounts(e){const{articleData:t}=e.data;Re.fillVuukleCountElement(this.index,t.commentCount||0),this.realtime.send({type:Se.SetCommentCount,commentCount:t.commentCount})}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&r.Z.log(t,this.articleConfig)}performSSOAuth(){var e,t,i;const o=null===(e=this.articleConfig.comments)||void 0===e||null===(t=e.auth)||void 0===t||null===(i=t.sso)||void 0===i?void 0:i.onClick;"function"==typeof o?o():console.error("[Vuukle] â  Please configure SSO to allow users to authenticate.")}openModalWithMessage(e){if(this.modalListener){this.modalListener.postMessage({modalData:e.data.modalData});const t=document.querySelector(`#${this.modalIframe.id}`);t&&(t.style.display=e.data.modalData.hideModal?"none":"block")}}handleLogout(){!l.Z.isGDPR&&!l.Z.isCCPA||l.Z.canUseCookies||this.deleteCookies(),this.emotesListener&&(this.emotesListener.postMessage({userInfo:{apiKey:null}}),this.emotesListener.updateVotedEmote())}synchronizeWidgets(e){e.data.syncWidget.commentAdded&&this.powerbarListeners.forEach((t=>t.postMessage({syncWidget:{commentAdded:e.data.syncWidget.commentAdded}}))),e.data.syncWidget.addCommentsToCounter&&this.powerbarListeners.forEach((t=>t.postMessage({syncWidget:{addCommentsToCounter:e.data.syncWidget.addCommentsToCounter}})))}updateTXColor(e){const t=document.querySelector(a.selectors.trafficExchange.concat(this.index));if(t){const i=document.createElement("style");i.innerHTML=`\n        #${t.id} .vuukle-tx-read-more {\n          background: ${e.data.settings.theme.color};\n        } \n      `,document.head.appendChild(i)}}deleteCookies(){this.postMessage({deleteCookies:!0}),this.emotesListener&&this.emotesListener.removeCookies(),this.powerbarListeners.forEach((e=>{e.postMessage({deleteCookies:!0}),e.removeCookies()})),this.modalListener&&this.modalListener.postMessage({deleteCookies:!0}),l.Z.deleteCookies()}shareEventToPublished(e,t){"function"==typeof t&&t(e)}updateModalInstance(e,t){this.modalListener=t,this.modalIframe=e}changeTheme(e){this.postMessage({changeTheme:e})}}class Ue extends Ie{constructor(t,o,s=[]){var a;(super(t),this.widgetObject=t,this.articleConfig=o,this.powerbarListeners=s,(0,i.Z)(this,"listener",(t=>{this.isValidEvent(t)&&((0,e.qu)("log","[Vuukle.js | Emotes] message:",t),t.data.syncWidget instanceof Object&&this.powerbarListeners.forEach((e=>e.postMessage({syncWidget:t.data.syncWidget}))),t.data.getVotedEmote&&this.postMessage({votedEmote:this.getVotedEmote()||null}),t.data.deleteVotedEmote&&this.deleteEmote(),t.data.emoteVote&&this.setEmote(t.data.emoteVote))})),(0,i.Z)(this,"deleteEmoteRequest",(e=>(0,q.$f)("DELETE","https://api.vuukle.com/api/v1/emote_ratings/remove",{apiKey:this.articleConfig.apiKey,articleAvatar:this.articleConfig.img,articleId:this.articleConfig.articleId,cookieId:e,host:this.articleConfig.host,tag:this.articleConfig.tags,title:this.articleConfig.title,uri:this.articleConfig.url},"application/json",_e.Z.getToken(),!0))),(0,i.Z)(this,"postEmoteVote",(async e=>(0,q.$f)("POST","https://api.vuukle.com/api/v1/emote_ratings",{amp:this.articleConfig.amp,apiKey:this.articleConfig.apiKey,articleAvatar:this.articleConfig.img,articleId:this.articleConfig.articleId,emote:e,host:this.articleConfig.host,tag:this.articleConfig.tags,title:this.articleConfig.title,uri:this.articleConfig.url},"application/json",_e.Z.getToken(),!0))),(0,i.Z)(this,"getVotedEmote",(()=>{const e=this.articleConfig.amp?parseInt((0,h._2)(this.getVotedCookieName())||""):parseInt(n.Z.get(this.getVotedCookieName())||"",10);if(e>=1&&e<=6)return e})),(0,i.Z)(this,"setEmote",(async e=>{const t={expires:60,sameSite:"Lax"};let i=await this.postEmoteVote(e);return 0==i.success&&i.errors.includes("invalid_apikey")&&console.warn("[VUUKLE] Emote post request was not completed because the apiKey is either invalid or not given. Please check your configuration."),l.Z.canUseCookies?this.articleConfig.amp?((0,h.m4)(this.getVotedCookieName(),e.toString(),1440),(0,h.m4)(this.getCookieId(),i.data.cookieId,1440)):(n.Z.set(this.getVotedCookieName(),e.toString(),t),n.Z.set(this.getCookieId(),i.data.cookieId,t)):l.Z.storageUpdateCallbacks.add((()=>{this.articleConfig.amp?((0,h.m4)(this.getVotedCookieName(),e.toString(),1440),(0,h.m4)(this.getCookieId(),i.data.cookieId,1440)):(n.Z.set(this.getVotedCookieName(),e.toString(),t),n.Z.set(this.getCookieId(),i.data.cookieId,t))})),i})),(0,i.Z)(this,"deleteEmote",(()=>{const e=this.articleConfig.amp?(0,h._2)(this.getCookieId())||"":n.Z.get(this.getCookieId())||"";return this.deleteEmoteRequest(e)})),(0,i.Z)(this,"removeCookies",(()=>{const e={expires:30,sameSite:"Lax"},t={expires:60,sameSite:"Lax"};if(this.articleConfig.amp){(0,h.ti)(this.getCookieId(),null),(0,h.ti)(this.getVotedCookieName(),null);try{const e=Object.keys(localStorage);e&&e.forEach((e=>{e.includes("vuukle_emotes_vote")&&(0,h.ti)(e,null)}))}catch(e){}}else{n.Z.remove(this.getCookieId(),e),n.Z.remove(this.getVotedCookieName(),t);const i=n.Z.get(),o=Object.keys(i);o&&o.forEach((e=>{e.includes("vuukle_emotes_vote")&&n.Z.remove(e,t)}))}})),(0,i.Z)(this,"getCookieId",(()=>l.Z.userAPIKey&&!l.Z.userAPIKey.startsWith("$")?`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&CookieId&${l.Z.userAPIKey}`:`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&CookieId`)),(0,i.Z)(this,"getVotedCookieName",(()=>l.Z.userAPIKey&&!l.Z.userAPIKey.startsWith("$")?`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`:`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}`)),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),this.articleConfig.amp)&&(this.articleConfig.emotes.hideRecommendedArticles&&this.postMessage({disableRecommendations:!0}),null!==(a=o.theme)&&void 0!==a&&a.darkMode&&this.postMessage({enableDarkMode:!0}));this.postMessage({loginToken:_e.Z.getToken()}),this.postMessage({votedEmote:this.getVotedEmote()}),setTimeout((()=>{const e=t.iframe.parentElement;if(e){const t=_(e);this.postMessage({backgroundColor:t}),this.postMessage({shouldUseDarkMode:D(e)<.3})}}),0)}updateVotedEmote(){this.postMessage({votedEmote:this.getVotedEmote()||null})}changeTheme(e){this.postMessage({changeTheme:e})}}class We extends Ie{constructor(t,o,n=[],s,a,r){super(t),this.widgetObject=t,this.articleConfig=o,this.powerbarListeners=n,this.commentsListener=s,this.emotesListener=a,this.quizListener=r,(0,i.Z)(this,"listener",(t=>{var i;if(this.isValidEvent(t)){var o,n,s,a;if((0,e.qu)("log","[Vuukle.js | Modal] message:",t),null!==(i=t.data.modalReply)&&void 0!==i&&i.hideModal&&this.handleHideModal(t),t.data.modalLoaded&&this.notifyModalLoading(t),t.data.followInfo&&this.commentsListener&&this.commentsListener.postMessage({followInfo:t.data.followInfo}),t.data.modalMessage&&this.broadcastModalMessage(t),t.data.loginToken&&t.data.tokenType)"regular"===t.data.tokenType?(_e.Z.setRegularCommenting(!0),_e.Z.setGuestCommenting(!1),_e.Z.setAnonymousCommenting(!1)):"guest"===t.data.tokenType&&(_e.Z.setRegularCommenting(!1),_e.Z.setGuestCommenting(!0),_e.Z.setAnonymousCommenting(!1)),_e.Z.saveToken(t.data.loginToken),null===(o=this.commentsListener)||void 0===o||o.postMessage({loginToken:t.data.loginToken}),this.powerbarListeners.forEach((e=>e.postMessage({loginToken:t.data.loginToken}))),null===(n=this.powerbarListeners[0])||void 0===n||n.fetchUserId(),null===(s=this.emotesListener)||void 0===s||s.postMessage({loginToken:t.data.loginToken}),null===(a=this.quizListener)||void 0===a||a.postMessage({loginToken:t.data.loginToken});t.data.blockedUserID&&this.commentsListener&&this.commentsListener.postMessage({blockedUserID:t.data.blockedUserID}),t.data.unBlockedUserID&&this.commentsListener&&this.commentsListener.postMessage({unBlockedUserID:t.data.unBlockedUserID}),t.data.reportEvent&&this.reportToAnalyticsServer(t),t.data.callSSO&&this.callSSOAuth(),t.data.openedShareNetwork&&this.powerbarListeners.length>0&&this.powerbarListeners[0].postMessage({openedShareNetwork:t.data.openedShareNetwork},{sendToOneInstance:!0}),t.data.alertMessage&&Ae.Z.createNotification(t.data.alertMessage.text,t.data.alertMessage.type)}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),this.postMessage({loginToken:_e.Z.getToken()}),this.postMessage({isMobile:l.Z.isMobileUser})}switchThemeToDarkMode(e){this.postMessage({shouldUseDarkMode:e})}notifyModalLoading(e){var t,i;const o=document.querySelector(`#${this.widgetObject.id}`);o instanceof HTMLIFrameElement&&(o.style.display=e.data.modalLoaded?"none":"block"),null===(t=this.commentsListener)||void 0===t||t.postMessage({modalLoaded:e.data.modalLoaded}),this.powerbarListeners.forEach((t=>t.postMessage({modalLoaded:e.data.modalLoaded}))),null===(i=this.quizListener)||void 0===i||i.postMessage({modalLoaded:e.data.modalLoaded})}broadcastModalMessage(e){var t,i;(this.commentsListener&&this.commentsListener.postMessage({modalMessage:e.data.modalMessage}),e.data.modalMessage.loggedIn)?(this.powerbarListeners.forEach((e=>e.postMessage({loggedIn:!0}))),null===(t=this.quizListener)||void 0===t||t.postMessage({loggedIn:!0})):(this.powerbarListeners.forEach((t=>t.postMessage({modalMessage:e.data.modalMessage}))),null===(i=this.quizListener)||void 0===i||i.postMessage({modalMessage:e.data.modalMessage}))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&r.Z.log(t,this.articleConfig)}callSSOAuth(){var e,t,i;const o=null===(e=this.articleConfig.comments)||void 0===e||null===(t=e.auth)||void 0===t||null===(i=t.sso)||void 0===i?void 0:i.onClick;"function"==typeof o?o():console.error("[Vuukle] â  Please configure SSO to allow users to authenticate.")}handleHideModal(e){const t=document.querySelector(`#${this.widgetObject.id}`);t instanceof HTMLIFrameElement&&(t.style.display="none"),this.commentsListener&&this.commentsListener.postMessage({modalData:e.data.modalReply})}}const ze=class{constructor(e){this.config=e,(0,i.Z)(this,"windowUrl",void 0),(0,i.Z)(this,"currentWindow",void 0),(0,i.Z)(this,"windowName","modal-window"),(0,i.Z)(this,"loaded",!1),(0,i.Z)(this,"onLoadCallbacks",new Set),(0,i.Z)(this,"configuration",void 0),(0,i.Z)(this,"onLoad",(e=>{if("function"==typeof e)return this.loaded?e(this.currentWindow):void("function"==typeof e&&this.onLoadCallbacks.add(e))})),(0,i.Z)(this,"executeAllCallbacks",(()=>{this.onLoad((e=>e.postMessage({configuration:this.configuration},this.windowUrl))),this.onLoadCallbacks.forEach((e=>e(this.currentWindow))),this.onLoadCallbacks.clear()}));const t=a.urls.modal;this.configuration={amp:e.amp,sdk:e.sdk,apiKey:e.apiKey,host:e.host,url:e.url,img:e.img,title:e.title,globalLang:e.language,lang:e.comments&&e.comments.transliteration.language,font:e.theme&&e.theme.font,link:e.link,anonymous:e.comments&&e.comments.auth&&e.comments.auth.anonymous,version:a.versions.modal},this.windowUrl=`${t}?version=${this.configuration.version}`,this.onLoad((e=>e.postMessage({configuration:this.configuration},this.windowUrl)))}setLoaded(e){this.loaded=e}openModalInWindow(){const e=window.open(this.windowUrl,this.windowName,"status = 1, height = 540, width = 600, resizable = 0, top=200, left=400, screenX=400, screenY=200");if(this.currentWindow=e,e){const t=window.setInterval((()=>{e&&e.closed&&(window.clearInterval(t),this.currentWindow=null,this.loaded=!1,e.close())}),1e3)}}};class $e extends Ie{constructor(t,s,a,r,d,c){super(t),this.currentWidgetObject=t,this.otherWidgetObjects=s,this.index=a,this.articleConfig=r,this.widgetsCreator=d,this.modalListener=c,(0,i.Z)(this,"modalIframe",void 0),(0,i.Z)(this,"loginTypes",[]),(0,i.Z)(this,"modalWindow",void 0),(0,i.Z)(this,"modalWindowListener",void 0),(0,i.Z)(this,"audioWidgetListeners",[]),(0,i.Z)(this,"commentsListener",void 0),(0,i.Z)(this,"isUserIdAvailable",!1),(0,i.Z)(this,"socialItems",void 0),(0,i.Z)(this,"allowedShareItems",void 0),(0,i.Z)(this,"translations",void 0),(0,i.Z)(this,"canShowMoreShares",void 0),(0,i.Z)(this,"extraShareUrls",void 0),(0,i.Z)(this,"listener",(async t=>{if(this.isValidEvent(t)){if((0,e.qu)("log","[Vuukle.js | Powerbar] message:",t),t.data.vuukle_event&&this.shareEventToPublished(t.data.vuukle_event,this.articleConfig.eventHandler),t.data.reportEvent&&this.reportToAnalyticsServer(t),t.data.callInterceptor instanceof Object&&this.interceptShare(t),t.data.loginTypes&&(this.loginTypes=t.data.loginTypes),t.data.socialItems&&(this.socialItems=t.data.socialItems),t.data.allowedItems&&(this.allowedShareItems=t.data.allowedItems),t.data.translations&&(this.translations=t.data.translations),"boolean"==typeof t.data.canShowMoreShares&&(this.canShowMoreShares=t.data.canShowMoreShares),t.data.extraShareUrls&&(this.extraShareUrls=t.data.extraShareUrls),t.data.togglePopover){const e=(await o.e(231).then(o.bind(o,180))).default;e.setSocialItems(this.socialItems),e.setTranslations(this.translations),e.setCanShowMoreButton(this.canShowMoreShares),e.setArticleConfig(this.articleConfig),e.setOnMoreShareClick((()=>{this.openShareItemsModal({data:{shareItems:this.allowedShareItems}})})),e.setExtraUrls(this.extraShareUrls),e.togglePopover(this.currentWidgetObject.iframe)}if(t.data.syncWidget instanceof Object&&this.postMessage({syncWidget:t.data.syncWidget},{sendToOthers:!0}),t.data.scrollTo&&this.scrollToWidget(t),t.data.openBrowserLink&&(window.location.href=t.data.openBrowserLink),t.data.verticalPosition&&this.adjustVerticalPowerbars(t),t.data.shareItems instanceof Object&&this.openShareItemsModal(t),"requestLogin"in t.data&&this.handleLoginRequest(t),t.data.alertMessage&&Ae.Z.createNotification(t.data.alertMessage.text,t.data.alertMessage.type),t.data.callSSO&&this.performSSOAuth(),"listenState"in t.data&&!("firstClick"in t.data)){var i;const{listenState:e}=t.data;null===(i=this.commentsListener)||void 0===i||i.postMessage({listenState:e}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:e},{sendToOthers:!0}),this.audioWidgetListeners.forEach((t=>{t.postMessage({listenState:e})}))}if("listenState"in t.data&&"firstClick"in t.data){var n;const{firstClick:e,listenState:i}=t.data;null===(n=this.commentsListener)||void 0===n||n.postMessage({listenState:i,firstClick:e}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:i,firstClick:e},{sendToOthers:!0}),this.audioWidgetListeners.forEach((t=>{t.postMessage({listenState:i,firstClick:e})}))}if("audioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"audioSrc"),"currentTime"in t.data&&this.shareAudioSyncMessage(t.data,"currentTime"),"hasEnded"in t.data&&this.shareAudioSyncMessage(t.data,"hasEnded"),"welcomeAudioStarted"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioStarted"),"welcomeAudioSrc"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioSrc"),"welcomeAudioTime"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioTime"),"welcomeAudioState"in t.data&&this.shareAudioSyncMessage(t.data,"welcomeAudioState"),"expandVerticalSharebar"in t.data){const e=this.currentWidgetObject.iframe.parentElement;e&&(e.style.width=t.data.expandVerticalSharebar?"130px":"60px",e.style.maxWidth=t.data.expandVerticalSharebar?"130px":"60px")}t.data.setRecommendCookieID&&this.setRecommendCookieID(t.data.setRecommendCookieID),t.data.removeRecommendCookieID&&this.removeRecommendCookieID(),t.data.setRecommendationState&&this.setRecommendedState(),t.data.removeRecommendationState&&this.removeRecommendedState()}})),(0,i.Z)(this,"removeCookies",(()=>{if(this.articleConfig.amp){this.removeRecommendCookieID(),this.removeRecommendedState();try{const e=Object.keys(localStorage);e&&e.forEach((e=>{e.includes("vuukle_recommend")&&(0,h.ti)(e,null)}))}catch(e){}}else{this.removeRecommendCookieID(),this.removeRecommendedState();const e=n.Z.get(),t=Object.keys(e);t&&t.forEach((e=>{e.includes("vuukle_recommend")&&n.Z.remove(e,{expires:30,sameSite:"Lax"})}))}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),r.amp&&(this.modalWindow=new ze(r)),l.Z.userAPIKey&&!l.Z.userAPIKey.includes("$")&&(this.isUserIdAvailable=!0,this.postMessage({userIdAvailable:!0})),this.postMessage({loginToken:_e.Z.getToken()}),this.postMessage({recommendCookieID:this.getRecommendCookieID()}),this.postMessage({voted:"true"===this.getRecommendedState()}),_e.Z.ssoTokenChangeListeners.set(`${t.id}-listener`,(e=>{this.postMessage({loginToken:e})})),setTimeout((()=>{const e=t.iframe.parentElement;e&&this.postMessage({shouldUseDarkMode:D(e)<.3})}),0)}updateRecommendedState(){this.postMessage({recommendCookieID:this.getRecommendCookieID()}),this.postMessage({voted:"true"===this.getRecommendedState()})}setUserIdAvailable(e){this.isUserIdAvailable=e}fetchUserId(){if(!this.commentsListener||l.Z.userAPIKey.includes("$")){const e=_e.Z.getToken();e&&(0,q.$f)("POST","https://api.vuukle.com/api/v1/Auth/me",void 0,"application/json",e).then((e=>{e.success&&(l.Z.userAPIKey=e.data.userId,this.isUserIdAvailable=!0,this.updateRecommendedState(),setTimeout((()=>{this.postMessage({userIdAvailable:!0}),this.postMessage({userIdAvailable:!0},{sendToOthers:!0})}),2e3))}))}else l.Z.userAPIKey.includes("$")||(this.postMessage({userIdAvailable:!0}),this.postMessage({userIdAvailable:!0},{sendToOthers:!0}))}getRecommendCookieName(){return`vuukle_recommend_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`}getRecommendCookieIDCookieName(){return`vuukle_recommend_CookieId_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`}getRecommendCookieID(){return this.articleConfig.amp?(0,h._2)(this.getRecommendCookieIDCookieName())||"":n.Z.get(this.getRecommendCookieIDCookieName())||""}setRecommendCookieID(e){this.isUserIdAvailable?l.Z.canUseCookies?this.articleConfig.amp?(0,h.m4)(this.getRecommendCookieIDCookieName(),e,720):n.Z.set(this.getRecommendCookieIDCookieName(),e,{expires:30,sameSite:"Lax"}):l.Z.storageUpdateCallbacks.add((()=>{this.articleConfig.amp?(0,h.m4)(this.getRecommendCookieIDCookieName(),e,720):n.Z.set(this.getRecommendCookieIDCookieName(),e,{expires:30,sameSite:"Lax"})})):setTimeout((()=>this.setRecommendCookieID(e)),300)}removeRecommendCookieID(){this.isUserIdAvailable?this.articleConfig.amp?(0,h.ti)(this.getRecommendCookieIDCookieName(),null):n.Z.remove(this.getRecommendCookieIDCookieName(),{expires:30,sameSite:"Lax"}):setTimeout((()=>this.removeRecommendCookieID()),300)}getRecommendedState(){return this.articleConfig.amp?(0,h._2)(this.getRecommendCookieName()):n.Z.get(this.getRecommendCookieName())}setRecommendedState(){this.isUserIdAvailable?l.Z.canUseCookies?this.articleConfig.amp?(0,h.m4)(this.getRecommendCookieName(),"true",720):n.Z.set(this.getRecommendCookieName(),"true",{expires:30,sameSite:"Lax"}):l.Z.storageUpdateCallbacks.add((()=>{this.articleConfig.amp?(0,h.m4)(this.getRecommendCookieName(),"true",720):n.Z.set(this.getRecommendCookieName(),"true",{expires:30,sameSite:"Lax"})})):setTimeout((()=>this.setRecommendedState()),300)}removeRecommendedState(){this.isUserIdAvailable?this.articleConfig.amp?(0,h.ti)(this.getRecommendCookieName(),null):n.Z.remove(this.getRecommendCookieName(),{expires:30,sameSite:"Lax"}):setTimeout((()=>this.removeRecommendedState()),300)}shareAudioSyncMessage(e,t){var i;const o=e[t];null===(i=this.commentsListener)||void 0===i||i.postMessage({[t]:o}),this.otherWidgetObjects.length>0&&this.postMessage({[t]:o},{sendToOthers:!0}),this.audioWidgetListeners.forEach((e=>{e.postMessage({[t]:o})}))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&r.Z.log(t,this.articleConfig)}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new De(this.modalWindow,this.articleConfig,this))}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login"},loginTypes:e.data.loginTypes||this.loginTypes})):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login"},loginTypes:this.loginTypes}),this.toggleModal(!0))}performSSOAuth(){var e,t,i;const o=null===(e=this.articleConfig.comments)||void 0===e||null===(t=e.auth)||void 0===t||null===(i=t.sso)||void 0===i?void 0:i.onClick;"function"==typeof o?o():console.error("[Vuukle] â  Please configure SSO to allow users to authenticate.")}sendMessageToModal(e){if(this.modalListener)this.modalListener.postMessage(e);else if(this.widgetsCreator){var t,i;this.widgetsCreator.createModal(e);const o=this.currentWidgetObject.iframe.parentElement;null===(t=this.modalListener)||void 0===t||t.switchThemeToDarkMode(D(o)<.3),null===(i=this.commentsListener)||void 0===i||i.postMessage({modalLoaded:!0})}}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i&&(i.style.display=e?"block":"none")}openShareItemsModal(e){const t={modalData:{hideModal:!1,type:"shares",data:e.data.shareItems},loginTypes:this.loginTypes};this.articleConfig.amp?(this.openAndInitializeWindowedModal(),this.modalWindowListener.postMessage(t)):(this.sendMessageToModal(t),this.toggleModal(!t.modalData.hideModal))}adjustVerticalPowerbars(e){const t=Array.prototype.slice.call(document.querySelectorAll(a.selectors.verticalPowerbar.concat(String(this.index)))),i=Array.prototype.slice.call(document.querySelectorAll(a.selectors.verticalSharebar.concat(String(this.index))));t&&t.forEach((t=>{t.style.top="0px"!==e.data.verticalPosition&&e.data.verticalPosition||t.style.top||"10px"})),i&&i.forEach((t=>{t.style.top="0px"!==e.data.verticalPosition&&e.data.verticalPosition||t.style.top||"10px"}))}scrollToWidget(e){window.location.hash="","comments"===e.data.scrollTo?this.articleConfig.endlessMode?window.location.hash=`${a.selectors.comments}`.concat(this.index):window.location.hash=`${a.selectors.comments}`:"emotes"===e.data.scrollTo&&(this.articleConfig.endlessMode?window.location.hash=`${a.selectors.emotes}`.concat(this.index):window.location.hash=`${a.selectors.emotes}`)}interceptShare(e){var t,i;const o=(null===(t=this.articleConfig.powerbar)||void 0===t?void 0:t.shareInterceptor)||(null===(i=this.articleConfig.sharebar)||void 0===i?void 0:i.shareInterceptor);let n=["",""];"function"==typeof o?n=o(e.data.callInterceptor.social,e.data.callInterceptor.url,e.data.callInterceptor.title):console.warn("[Vuukle] â  Your interceptor is not (correctly) configured, default share data will be used instead."),this.postMessage({intercept:{social:e.data.callInterceptor.social,title:n[1],url:n[0]}},{sendToOneInstance:!0})}shareEventToPublished(e,t){"function"==typeof t&&t(e)}updateModalInstance(e,t){this.modalIframe=e,this.modalListener=t}updateAudioListenerInstance(e){this.audioWidgetListeners=e}updateCommentsListenerInstance(e){this.commentsListener=e}postMessage(e,t){if(t){if(t.sendToOneInstance){let t=this.otherWidgetObjects[0]||this.currentWidgetObject;t.iframeLoaded||this.otherWidgetObjects.forEach((e=>{e.iframeLoaded&&(t=e)})),t.onLoad((t=>t.postMessage(e,"*")))}t.sendToOthers&&this.otherWidgetObjects.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))}))}else this.currentWidgetObject.onLoad((t=>t.postMessage(e,"*")))}}class je extends Ie{constructor(t,o,n,s){super(t),this.widgetObject=t,this.modalListener=o,this.articleConfig=n,this.widgetsCreator=s,(0,i.Z)(this,"modalWindow",void 0),(0,i.Z)(this,"modalWindowListener",void 0),(0,i.Z)(this,"modalIframe",void 0),(0,i.Z)(this,"commentsListener",void 0),(0,i.Z)(this,"loginTypes",[]),(0,i.Z)(this,"listener",(t=>{if(this.isValidEvent(t)){if((0,e.qu)("log","[Vuukle.js | Quiz] message:",t),t.data.loginTypes&&(this.loginTypes=t.data.loginTypes),t.data.getQuestionAnswer&&this.postMessage({chosenAnswer:this.getQuestionAnswer(t.data.getQuestionAnswer)}),t.data.setQuestionAnswer){const{quizId:e,answerIndex:i}=t.data.setQuestionAnswer;this.setQuestionAnswer(e,i)}"requestLogin"in t.data&&this.handleLoginRequest(t),t.data.callSSO&&this.performSSOAuth(),t.data.removeAnswersForTheseIds&&this.removeAnswersForIDs(t.data.removeAnswersForTheseIds)}})),window.addEventListener("message",this.listener),n.amp&&(this.modalWindow=new ze(n)),this.postMessage({canUseCookies:l.Z.canUseCookies}),this.postMessage({loginToken:_e.Z.getToken()}),_e.Z.ssoTokenChangeListeners.set(`${t.id}-listener`,(e=>{this.postMessage({loginToken:e})})),setTimeout((()=>{const e=t.iframe.parentElement;e&&this.postMessage({shouldUseDarkMode:D(e)<.3})}),0)}removeAnswersForIDs(e){const t=(0,h._2)("vuukle_quiz_answers");if(t){const i=JSON.parse(t);e.forEach((e=>{"number"==typeof i[e]&&delete i[e]})),(0,h.ti)("vuukle_quiz_answers",JSON.stringify(i))}}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new De(this.modalWindow,this.articleConfig,this))}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login"},loginTypes:e.data.loginTypes||this.loginTypes})):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login"},loginTypes:this.loginTypes}),this.toggleModal(!0))}performSSOAuth(){var e,t,i;const o=null===(e=this.articleConfig.comments)||void 0===e||null===(t=e.auth)||void 0===t||null===(i=t.sso)||void 0===i?void 0:i.onClick;"function"==typeof o?o():console.error("[Vuukle] â  Please configure SSO to allow users to authenticate.")}sendMessageToModal(e){if(this.modalListener)this.modalListener.postMessage(e);else if(this.widgetsCreator){var t,i;this.widgetsCreator.createModal(e);const o=this.widgetObject.iframe.parentElement;null===(t=this.modalListener)||void 0===t||t.switchThemeToDarkMode(D(o)<.3),null===(i=this.commentsListener)||void 0===i||i.postMessage({modalLoaded:!0})}}updateModalInstance(e,t){this.modalIframe=e,this.modalListener=t}updateCommentsListenerInstance(e){this.commentsListener=e}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i&&(i.style.display=e?"block":"none")}getQuestionAnswer(e){const t=(0,h._2)("vuukle_quiz_answers");if(t){return JSON.parse(t)[e]}return null}setQuestionAnswer(e,t){const i=()=>{let i=(0,h._2)("vuukle_quiz_answers");i||((0,h.ti)("vuukle_quiz_answers","{}"),i=(0,h._2)("vuukle_quiz_answers"));const o=JSON.parse(i||"{}");o[e]=t,(0,h.ti)("vuukle_quiz_answers",JSON.stringify(o))};l.Z.canUseCookies?i():l.Z.storageUpdateCallbacks.add((()=>{i()}))}}class Ne{constructor(t,o,n,s,a,d,c,u,h,f){var p;(this.index=t,this.commentsIframe=o,this.emotesIframe=n,this.powerbars=s,this.subscribeWidgets=a,this.audioWidgets=d,this.quizWidget=c,this.articleConfig=u,this.realtime=h,this.widgetsCreator=f,(0,i.Z)(this,"modalIframe",void 0),(0,i.Z)(this,"commentsListener",void 0),(0,i.Z)(this,"quizListener",void 0),(0,i.Z)(this,"powerbarListeners",[]),(0,i.Z)(this,"emotesListener",void 0),(0,i.Z)(this,"modalListener",void 0),(0,i.Z)(this,"subscribeListeners",[]),(0,i.Z)(this,"audioListeners",[]),(0,i.Z)(this,"initializeModal",((e,t)=>{var i,o;return!!e&&(this.modalIframe=e,this.modalListener=new We(this.modalIframe,this.articleConfig,this.powerbarListeners,this.commentsListener,this.emotesListener,this.quizListener),this.modalListener.postMessage(t),null===(i=this.commentsListener)||void 0===i||i.updateModalInstance(e,this.modalListener),this.powerbarListeners.forEach((t=>t.updateModalInstance(e,this.modalListener))),this.audioListeners.forEach((t=>t.updateModalInstance(e,this.modalListener))),null===(o=this.quizListener)||void 0===o||o.updateModalInstance(e,this.modalListener),!0)})),(0,e.IW)(e.PP.commsCreatorStart),(0,e.rX)(e.J8.platformStartToCommsStart,e.PP.platformStart,e.PP.commsCreatorStart),this.powerbars.length>0&&this.powerbars.forEach((e=>{this.powerbarListeners.push(new $e(e,this.powerbars.filter((t=>t.id!==e.id)),this.index,this.articleConfig,this.widgetsCreator,this.modalListener))})),this.audioWidgets.length>0&&(this.audioWidgets.forEach((e=>{this.audioListeners.push(new Oe(e,this.audioWidgets.filter((t=>t.id!==e.id)),this.articleConfig,this.powerbarListeners,this.modalListener,this.widgetsCreator))})),this.powerbarListeners.forEach((e=>{e.updateAudioListenerInstance(this.audioListeners)}))),this.emotesIframe&&(this.emotesListener=new Ue(this.emotesIframe,this.articleConfig,this.powerbarListeners),Ne.widgetsOnPageWithThemeSupport[t]={},Ne.widgetsOnPageWithThemeSupport[t].emotesListener=this.emotesListener),this.quizWidget&&(this.quizListener=new je(this.quizWidget,this.modalListener,this.articleConfig,this.widgetsCreator)),this.commentsIframe)&&(this.commentsListener=new qe(this.commentsIframe,this.index,this.articleConfig,this.widgetsCreator,this.realtime,this.emotesListener,this.powerbarListeners,this.audioListeners,this.quizListener,this.modalListener),Ne.widgetsOnPageWithThemeSupport[t]||(Ne.widgetsOnPageWithThemeSupport[t]={}),Ne.widgetsOnPageWithThemeSupport[t].commentsListener=this.commentsListener,this.powerbarListeners.forEach((e=>e.updateCommentsListenerInstance(this.commentsListener))),this.audioListeners.forEach((e=>e.updateCommentsListenerInstance(this.commentsListener))),null===(p=this.quizListener)||void 0===p||p.updateCommentsListenerInstance(this.commentsListener));this.subscribeWidgets.length>0&&this.subscribeWidgets.forEach((e=>{this.subscribeListeners.push(new Me(e))})),this.requestInitialData(),(0,e.IW)(e.PP.commsCreatorEnd),(0,e.rX)(e.J8.commsStartToEnd,e.PP.commsCreatorStart,e.PP.commsCreatorEnd),(0,e.rX)(e.J8.platformStartToCommsEnd,e.PP.platformStart,e.PP.commsCreatorEnd),l.Z.cookieChangeListeners.set("-"+t,(e=>this.changeCookieSettingsForWidgets(e))),l.Z.addGeoListener("-"+t,(e=>this.shareMessageWithWidgets(["comments","powerbar","audio"],{geoData:e}))),r.Z.onIPReceived.set("-"+t,(e=>this.shareMessageWithWidgets(["comments","powerbar","audio"],{ip:e}))),this.shareMessageWithWidgets(["comments","powerbar","audio"],{country:l.Z.userCountry}),this.shareMessageWithWidgets(["comments","powerbar","audio"],{userGUID:l.Z.userAPIKey}),g.adblockDetectionHasExecuted||new g(u,m.xw[u.apiKey],this)}shareMessageWithWidgets(e,t){const i={comments:this.commentsListener,emotes:this.emotesListener,modal:this.modalListener,quiz:this.quizListener},o={powerbar:this.powerbarListeners,subscribe:this.subscribeListeners,audio:this.audioListeners};for(let o of e){var n;null===(n=i[o])||void 0===n||n.postMessage(t)}for(let i of e){const e=o[i];e&&e.forEach((e=>{e.postMessage(t)}))}}removeMessageListeners(){const e=[this.commentsListener,this.emotesListener,this.modalListener,this.quizListener],t=[this.powerbarListeners,this.subscribeListeners,this.audioListeners];for(let t of e)null==t||t.removeMessageListener();for(let e of t)null==e||e.forEach((e=>e.removeMessageListener()))}toggleAudioButton(e){this.shareMessageWithWidgets(["comments"],{showAudioButton:e})}tellWidgetsAboutAdblock(){this.shareMessageWithWidgets(["comments","modal"],{adblockEnabled:!0})}toggleAdSpaceCreation(e){this.shareMessageWithWidgets(["comments"],{canCreateAdSpace:e})}tellCWToPostAnonToken(){this.shareMessageWithWidgets(["comments"],{anonToken:_e.Z.getAnonToken()})}enableAudioAds(e){this.shareMessageWithWidgets(["powerbar","comments","audio"],{audioAdID:e})}async requestInitialData(){if(!(this.commentsIframe||this.emotesIframe||this.quizWidget||0!==this.powerbars.length||0!==this.audioWidgets.length||0!==this.subscribeWidgets.length||document.querySelector(a.selectors.newsfeed.concat(this.index)))){try{const e=await(0,q.$f)("GET","https://api.vuukle.com/api/v1/Publishers/PublicConfigs",{apiKey:this.articleConfig.apiKey,host:this.articleConfig.host});if(!e.success)throw new Error(e.errors[0]);if(e.data.settings.comments.browserNotificationEnabled&&!n.Z.get("vuukle_notification_subscription")&&!n.Z.get("vuukle_notification_subscription_dismissed")&&window.ServiceWorker){new(0,(await o.e(909).then(o.bind(o,341))).WebNotificationPopup)}"boolean"!=typeof e.data.settings.ads||e.data.settings.ads||de.removeAllAds()}catch(e){e.message&&console.error("[Platform.js] Error",e.message)}if("/"!==window.location.pathname){var e,t;const i=await(0,q.$f)("GET","https://api.vuukle.com/api/v1/Articles/GetIabTopic",{host:this.articleConfig.host,articleId:this.articleConfig.articleId},"text/plain");null!==(e=i.data)&&void 0!==e&&null!==(t=e.article)&&void 0!==t&&t.iabTopic&&(window._vuukleIabtopic=i.data.article.iabTopic)}return}const i=async()=>await(0,q.$f)("GET","https://api.vuukle.com/api/v1/Comments/loadVuukle",{apiKey:this.articleConfig.apiKey,articleId:this.articleConfig.articleId,globalRecommendation:this.articleConfig.globalRecommendations,host:this.articleConfig.host,start:0,uri:this.articleConfig.url,quizEnabled:Boolean(this.quizWidget),...Boolean(this.quizWidget)?{quizLngCode:document.documentElement.lang||"en"}:{}},"text/plain");try{var s,r;const e=await i();if(!e.success)throw new Error(e.errors[0]);if("boolean"!=typeof e.data.settings.ads||e.data.settings.ads||de.removeAllAds(),this.shareMessageWithWidgets(["comments","emotes","powerbar","subscribe","audio","quiz"],{loadVuukle:e.data}),window.getLoadVuukleSettings=()=>e.data.settings,null!==(s=e.data.article)&&void 0!==s&&s.iabTopic&&(window._vuukleIabtopic=e.data.article.iabTopic),e.data.settings.enabledFeatures){const t=e.data.settings.enabledFeatures;var l,d;if(!t.includes("CommentsWidget"))null===(l=this.commentsIframe)||void 0===l||l.iframe.remove();if(!t.includes("EmotesWidget"))null===(d=this.emotesIframe)||void 0===d||d.iframe.remove();t.includes("ShareBar")||this.powerbars.forEach((e=>e.iframe.remove()))}if(Ne.fillVuukleCountElement(this.index,(null===(r=e.data.article)||void 0===r?void 0:r.commentCount)||0),this.commentsIframe){var c,u,h;if(e.data.settings.article.showCommentCount)this.commentsIframe.createScrollListenerForCommentBubble("number"==typeof(null===(u=e.data.article)||void 0===u?void 0:u.commentCount)?null===(h=e.data.article)||void 0===h?void 0:h.commentCount:0);e.data.settings.article.showNewsletterPopUp&&!Ne.popupCreated&&(new Pe,Ne.popupCreated=!0),!e.data.settings.comments.hideCommentWidget||null!==(c=m.xw[this.articleConfig.apiKey])&&void 0!==c&&c.compact||this.commentsIframe.changeMinHeight(80)}if(e.data.quiz&&this.quizListener&&this.quizListener.postMessage({quiz:e.data.quiz}),e.data.quiz&&0===e.data.quiz.length&&this.quizListener&&this.quizListener.postMessage({noQuiz:!0}),e.data.loginTypes.includes("anonymous")&&(_e.Z.setAnonymousCommenting(!0),_e.Z.setRegularCommenting(!1),_e.Z.setGuestCommenting(!1),this.tellCWToPostAnonToken()),e.data.settings.comments.browserNotificationEnabled&&!n.Z.get("vuukle_notification_subscription")&&!n.Z.get("vuukle_notification_subscription_dismissed")&&window.ServiceWorker){new(0,(await o.e(909).then(o.bind(o,341))).WebNotificationPopup)}}catch(e){this.commentsListener?this.commentsListener.postMessage({fetchFailLabel:!0}):this.powerbarListeners&&this.powerbarListeners.forEach((e=>{e.postMessage({fetchFailLabel:!0})})),this.powerbarListeners.forEach((e=>{e.postMessage({fetchFail:!0})})),this.quizListener&&this.quizListener.postMessage({noQuiz:!0}),"incorrect_apiKey"===e.message&&Ae.Z.createNotification("ApiKey is not correct!","error")}}changeCookieSettingsForWidgets(e){this.shareMessageWithWidgets(["comments","emotes","powerbar","modal","quiz"],{canUseCookies:e}),l.Z.canUseCookies=e}sendAdToEmotes(e,t,i,o){this.shareMessageWithWidgets(["emotes"],{emotesAd:{emotesSlot:e,imageUrl:t,clickUrl:i,label:o}})}enableRealtime(){this.commentsIframe&&(this.commentsIframe.addRealtimeListener(),this.commentsIframe.createRealtimeBar(),this.shareMessageWithWidgets(["comments"],{enableRealtime:!0}))}static fillVuukleCountElement(e,t){document.querySelectorAll(e?`[data=vuukle-count${e}]`:"[data=vuukle-count]").forEach((e=>{e.innerHTML=t<=0&&e.dataset.emptyText?e.dataset.emptyText:String(t)}))}static attachResizeListener(){window.addEventListener("message",(t=>{let i;try{i=JSON.parse(t.data)}catch(e){i=t.data}if("resize"===i.type&&i.sourceWindowName){(0,e.qu)("log","Resize message received",t);const o=document.querySelector(`iframe[name="${i.sourceWindowName}"]`);o instanceof HTMLIFrameElement&&(o.style.height=`${i.data.height}px`)}}))}static removeCookieListenerByIndex(e){l.Z.cookieChangeListeners.get("-"+e)&&l.Z.cookieChangeListeners.delete("-"+e)}static removeGeoListenersByIndex(e){l.Z.onGeoDataReceived.get("-"+e)&&l.Z.onGeoDataReceived.delete("-"+e)}static removeIPListenersByIndex(e){r.Z.onIPReceived.get("-"+e)&&r.Z.onIPReceived.delete("-"+e)}static removeWidgetsFromThemingObject(e){delete Ne.widgetsOnPageWithThemeSupport[e]}}(0,i.Z)(Ne,"popupCreated",!1),(0,i.Z)(Ne,"commentCountLock",!1),(0,i.Z)(Ne,"commentInputBoxRect",void 0),(0,i.Z)(Ne,"postedCommentCount",0),(0,i.Z)(Ne,"widgetsOnPageWithThemeSupport",{}),Ne.attachResizeListener(),window.changeVuukleWidgetsTheme=e=>{"dark"!==e&&"light"!==e||Object.keys(Ne.widgetsOnPageWithThemeSupport).forEach((t=>{var i,o;null===(i=Ne.widgetsOnPageWithThemeSupport[t].commentsListener)||void 0===i||i.changeTheme(e),null===(o=Ne.widgetsOnPageWithThemeSupport[t].emotesListener)||void 0===o||o.changeTheme(e)}))};const Re=Ne,Be="3.36.18";const Ke=class{constructor(e,t,o,n){this.comments=e,this.emotes=t,this.powerbar=o,this.articleConfig=n,(0,i.Z)(this,"modal",void 0),(0,i.Z)(this,"responseModal",void 0),(0,i.Z)(this,"availableLanguages",["ru","sr","de","no","es","zh","ko","it","ja","fr","kn","ms","id","hr","bs","fa","tr","zh-Hant","pt-br","vi","sq","ar","ro","hi","pa","he"]),(0,i.Z)(this,"setFromJSON",((e,t)=>{let i=!1;if(e&&-1===this.availableLanguages.indexOf(e)&&!t){const t=e.substring(0,2);if(-1===this.availableLanguages.indexOf(t))return;i=!0}else if(!e)return;const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(4===o.readyState&&200===o.status){const e=JSON.parse(o.responseText);this.comments&&this.articleConfig.comments.enabled&&e.comments&&this.comments.onLoad((t=>t.postMessage({customText:e.comments.customText},"*"))),this.comments&&this.articleConfig.comments.enabled&&e.modal&&(this.responseModal=e.modal,this.modal&&this.modal.onLoad((e=>e.postMessage({customText:this.responseModal.customText},"*")))),this.emotes&&this.articleConfig.emotes.enabled&&e.emotes&&this.emotes.onLoad((t=>t.postMessage({customText:e.emotes.customText},"*"))),this.powerbar&&this.articleConfig.powerbar.enabled&&e.powerbar&&this.powerbar.forEach((t=>{t.onLoad((t=>t.postMessage({customText:e.powerbar.customText},"*")))}))}};let n="";n=this.articleConfig.customTranslationUrl?this.articleConfig.customTranslationUrl:`https://cdn.vuukle.com/widgets/translations/${i?e.substring(0,2):e}.json?version=${Be}`,o.open("GET",n),o.setRequestHeader("Content-Type","application/json"),o.send()})),(0,i.Z)(this,"initializeModal",(e=>{e&&(this.modal=e,this.modal.onLoad((e=>{this.responseModal&&e.postMessage({customText:this.responseModal.customText},"*")})))})),this.articleConfig=n,"en"!==this.articleConfig.language||this.articleConfig.customTranslationUrl?this.setFromJSON(this.articleConfig.language,Boolean(this.articleConfig.customTranslationUrl)):document.documentElement.lang&&"en"!==document.documentElement.lang&&this.setFromJSON(document.documentElement.lang)}};const Ve=class extends Ee{constructor(e,t){super(e,"Vuukle Audio Widget",a.urls.audio,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,version:a.versions.audio,debug:window.location.search.includes("vdebug")},!1,!0),this.id=e,this.config=t,this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.iframe.style.minHeight="50px"}};const Ge=class extends Ee{constructor(e,t,o,n=""){var s;if(super(e,"Vuukle Comments Widget",a.urls.comments,{amp:t.amp,sdk:t.sdk,apiKey:t.apiKey,host:t.host,articleId:t.articleId,author:t.author||void 0,globalLang:t.language,img:t.img,lang:t.comments&&t.comments.transliteration.language,tags:t.tags,title:t.title,url:t.url,referrer:t.refHost,font:t.theme&&t.theme.font,emotesEnabled:t.emotes&&t.emotes.enabled||!0,refHost:t.refHost,l_d:t.comments&&t.comments.transliteration.enabledByDefault,totWideImg:t.recommendationsWideImages,link:t.link,gr:t.globalRecommendations,hideCommentBoxWithButton:t.comments&&t.comments.hideCommentInputBoxWithButton,wpSync:t.wordpressSync,disableButtons:t.comments&&t.comments.disableButtons,hasAnonFallback:Boolean(_e.Z.getAnonToken()),isCustomText:Boolean(t.customTranslationUrl),version:a.versions.comments,debug:"true"===d.Z.get("vdebug")},!0,!0),this.config=t,this.realtimeSocket=o,this.articleIndex=n,(0,i.Z)(this,"realtimeBar",null),(0,i.Z)(this,"commentCount",0),(0,i.Z)(this,"createRealtimeBar",(()=>{document.querySelector("#vuukle-comments-realtime-bar".concat(this.articleIndex))||(this.realtimeBar=document.createElement("div"),this.realtimeBar.style.cssText="\n        // position: fixed;\n        // top: 0;\n        // left: 0;\n        width: 100%;\n        height: 25px;\n        background: #3997e9;\n        color: #fff;\n        cursor: pointer;\n        font-size: 15px;\n        font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',sans-serif;\n        font-weight: 500;\n        text-align: center;\n        // z-index: 9999;\n        display: none;\n      ",this.realtimeBar.id="vuukle-comments-realtime-bar".concat(this.articleIndex),this.realtimeBar.textContent="",this.realtimeBar.onclick=()=>{this.iframe.scrollIntoView(),this.realtimeBar&&(this.realtimeBar.style.display="none",this.realtimeBar.textContent="",Re.commentCountLock=!1),this.onLoad((e=>e.postMessage({loadNewRealtime:!0},"*")))},document.body.insertAdjacentElement("afterbegin",this.realtimeBar))})),(0,i.Z)(this,"serverScrollLogger",(e=>{if(e)return r.Z.log("view_comments",this.config),this.onLoad((e=>e.postMessage({isViewed:!0},"*"))),()=>!1;let t=!1;return ge((e=>{e&&!t&&(r.Z.log("view_comments",this.config),this.onLoad((e=>e.postMessage({isViewed:!0},"*"))),t=!0)}),300)})),(0,i.Z)(this,"hashedAuthCallback",(async e=>{if(_e.Z.setSSOInfo(!0),void 0!==e){if("string"!=typeof e)return console.error("[Vuukle] vuukleLogin has been called with invalid argument. Please pass it a string.");try{const t=await(0,q.$f)("POST","https://api.vuukle.com/api/v1/Auth/siteLogin",e,"application/json");if(!t.token)throw new Error("Server response doesn't contain profile token");this.onLoad((e=>e.postMessage({authenticateUser:{token:t.token}},"*"))),_e.Z.saveToken(t.token),_e.Z.fireTokenListeners()}catch(e){console.error("[VUUKLE] SSO Authentication Error:",e)}}else this.onLoad((e=>e.postMessage({authenticateUser:{signOut:!0}},"*")))})),(0,i.Z)(this,"regularAuthCallback",((e,t)=>{window.location.host&&window.location.host.match("americanthinker.com")||(e&&t&&"string"==typeof e&&"string"==typeof t?this.onLoad((i=>i.postMessage({authenticateUser:{name:e,email:t}},"*"))):(console.warn("â ï¸[VUUKLE]: SSO wasn't successful. Please provide valid user details: name: string, email: string"),this.onLoad((e=>e.postMessage({authenticateUser:{}},"*")))))})),this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.articleIndex=n,this.iframe.style.minWidth="100%",this.iframe.style.overflow="hidden",this.iframe.style.order="1",this.iframe.style.minHeight=null!==(s=m.xw[t.apiKey])&&void 0!==s&&s.compact?"50px":"320px",o.enabled&&"undefined"!=typeof DOMRect&&this.createRealtimeBar(),this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({listenButtonStyles:t.theme&&t.theme.listenButtonStyles},"*"))),window.location.hash&&window.location.hash.match(/commentID/)){const e=window.location.hash.split("-")[1];this.onLoad((t=>{if(t.postMessage({loadComment:e},"*"),"interactive"===document.readyState||"complete"==document.readyState)setTimeout((()=>{const e=this.iframe.getBoundingClientRect();window.scrollTo(e.x,e.y)}),1500);else{const i=this.iframe;function o(){"interactive"!==document.readyState&&"complete"!==document.readyState||setTimeout((()=>{const e=i.getBoundingClientRect();window.scrollTo(e.x,e.y),document.removeEventListener("readystatechange",o)}),1500)}document.addEventListener("readystatechange",o)}})),this.loadIframe()}const l=this.serverScrollLogger(t.amp||!1);if("undefined"!=typeof IntersectionObserver){new IntersectionObserver((e=>{e.forEach((e=>{const{boundingClientRect:t,intersectionRatio:i,isIntersecting:o}=e,n=i>.025||o;l(n),n&&this.realtimeBar&&t.top>=-300&&(this.realtimeBar.style.display="none")}))}),{threshold:.1}).observe(this.iframe)}else window.addEventListener("scroll",(()=>{l(this.isInView),this.isInView&&this.realtimeBar&&this.iframe.getBoundingClientRect().top>=-300&&(this.realtimeBar.style.display="none")}),!1);window.vuukleAuthUser=this.regularAuthCallback,window.vuukleLogin=this.hashedAuthCallback;const c=window.tempVuukleToken;c&&(this.hashedAuthCallback("no-token"===c?void 0:c),window.tempVuukleToken=null)}changeMinHeight(e){this.iframe.style.minHeight=`${e}px`}createScrollListenerForCommentBubble(e){const t=this.createCommentBubble(e);m.ww.includes(this.config.apiKey)||window.addEventListener("scroll",(function e(){window.scrollY/(document.documentElement.scrollHeight-document.documentElement.clientHeight)>=.3&&(t&&(t.style.display="flex"),window.removeEventListener("scroll",e),setTimeout((()=>{null==t||t.remove()}),5e3))}))}createCommentBubble(e){const t=document.createElement("a"),i=document.createElement("sup"),o=document.createElement("svg");return t.style.cssText="\n      position: fixed;\n      display: none;\n      align-items: center;\n      flex-direction: column;\n      right: 20px;\n      bottom: 20px;\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      background: #f42;\n      color: #fff;\n      text-align: center;\n      transition: all 0.5s;\n      text-decoration: none;\n      z-index: 2147483647;\n    ",o.style.cssText="\n      width: 24px;\n      height: 24px;\n      fill: #fff;\n      vertical-align: middle;\n    ",i.style.cssText="\n      position: absolute;\n      right: 2px;\n      top: -6px;\n      height: 25px;\n      border-radius: 20px;\n      min-width: 30px;\n      box-sizing: border-box;\n      background: rgb(245, 34, 45);\n      color: rgb(255, 255, 255);\n      line-height: 25px;\n      text-align: center;\n      padding: 0px 5px;\n      font-size: 15px;\n      font-weight: 400;\n      white-space: nowrap;\n      box-shadow: rgb(255 255 255) 0px 0px 0px 1px;\n      z-index: 2147483647;\n    ",t.insertAdjacentHTML("afterbegin",'<svg style="width: 24px; height: 24px; fill: #fff; vertical-align: middle; display: block; margin: auto; margin-top: 22px;" viewbox="0 0 24 24"><path d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"></path></svg>'),t.href="#",t.onclick=e=>{e.preventDefault(),r.Z.log("CWbubbleClick",this.config),this.iframe.scrollIntoView({behavior:"auto",block:"center",inline:"center"})},i.innerHTML=e.toString(),e>0&&t.appendChild(i),document.body.appendChild(t),t}addRealtimeListener(){this.realtimeSocket.addMessageListener((t=>{try{const e=JSON.parse(t.data);if(e.currentCommentCount||e.usersWriting){if(this.onLoad((t=>t.postMessage({realtimeResponse:e},"*"))),e.currentCommentCount>this.commentCount&&this.realtimeBar&&!Re.commentCountLock)return this.commentCount=e.currentCommentCount,void(Re.commentCountLock=!0);if(Re.commentCountLock&&this.realtimeBar&&!this.isCommentInputBoxInView){const t=e.currentCommentCount-this.commentCount-Re.postedCommentCount,i=t>1;0!==this.commentCount&&t>0?(this.realtimeBar.style.display="block",this.realtimeBar.textContent=`Load ${t} new message${i?"s":""}`):(this.realtimeBar.textContent="",this.realtimeBar.style.display="none")}}}catch(t){(0,e.qu)("warn","Realtime Message error",t)}}))}get isCommentInputBoxInView(){const e=this.iframe.getBoundingClientRect();if(Re.commentInputBoxRect){const t=Re.commentInputBoxRect,i=new DOMRect(e.left+t.left,e.top+t.top,t.width,t.height);return i.bottom>0&&i.right>0&&i.left<window.innerWidth&&i.bottom<window.innerHeight}return e.bottom>0&&e.right>0&&e.left<window.innerWidth&&e.top<window.innerHeight}};const He=class extends Ee{constructor(e,t){super(e,"Vuukle Emotes Widget",a.urls.emotes,{amp:t.amp,apiKey:t.apiKey,host:t.host,articleId:t.articleId,img:t.img,author:t.author||void 0,tags:t.tags,title:t.title,url:t.url,totWideImg:t.recommendationsWideImages,gr:t.globalRecommendations,link:t.link,hideAllLabels:t.emotes&&t.emotes.hideAllLabels,disable:t.emotes&&JSON.stringify(t.emotes.disable),font:t.theme&&t.theme.font,commentsEnabled:t.comments&&t.comments.enabled&&Boolean(document.querySelector(`div[id*=${a.selectors.comments.substring(1)}]`)),isCustomText:Boolean(t.customTranslationUrl),useKV:!1,version:a.versions.emotes},!1,!0),this.config=t,this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.iframe.style.minHeight="145px",this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({badgeStyles:t.theme&&t.theme.badgeStyles},"*")))}};const Fe=class extends Ee{constructor(e,t){super(e,"Vuukle Modal Widget",a.urls.modal,{amp:t.amp,sdk:t.sdk,apiKey:t.apiKey,host:t.host,url:t.url,img:t.img,title:t.title,globalLang:t.language,lang:t.comments&&t.comments.transliteration.language,font:t.theme&&t.theme.font,link:t.link,anonymous:t.comments&&t.comments.auth&&t.comments.auth.anonymous,version:a.versions.modal},!1,!1),this.id=e,this.config=t,this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.display="none",this.iframe.style.position="fixed",this.iframe.style.top="0",this.iframe.style.left="0",this.iframe.style.right="0",this.iframe.style.bottom="0",this.iframe.style.zIndex="2147483647",this.iframe.onload=this.iframeOnLoad,this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*")))}};const Je=class extends Ee{constructor(e,t,i="horizontal",o,n){let s=1;const r=t.amp&&t.powerbar&&t.powerbar.comments||t.amp&&t.sharebar&&t.sharebar.comments,l=t.amp&&t.powerbar&&t.powerbar.emotes||t.amp&&t.sharebar&&t.sharebar.emotes;o&&n||r&&l?s=0:o||r?s=3:(n||l)&&(s=2);const d={amp:t.amp,apiKey:t.apiKey,host:t.host,articleId:t.articleId,img:t.img,title:t.title,url:t.url,tags:t.tags,author:t.author||void 0,lang:t.language,referrer:t.refHost,gr:t.globalRecommendations,font:t.theme&&t.theme.font,standalone:s,mode:i,enableInterceptor:t.powerbar.enableInterceptor||t.sharebar.enableInterceptor,useKV:!1,version:a.versions.powerbar||a.versions.sharebar,shouldRunAudioAds:!1,debug:window.location.search.includes("vdebug")};super(e,"Vuukle Sharebar Widget","vertical"===i?a.urls.verticalSharebar:a.urls.sharebar,d,"vertical"!==i,!0),this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.iframe.style.minHeight="45px",this.iframe.allow="clipboard-write",this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({powerbarStyles:t.theme&&(t.theme.powerbarStyles||t.theme.sharebarStyles)},"*"))),this.onLoad((e=>e.postMessage({shareURLS:t.powerbar&&t.powerbar.customUrls||t.sharebar&&t.sharebar.customUrls},"*")))}};const Qe=class extends Ee{constructor(e,t){super(e,"Vuukle Quiz Widget",a.urls.quiz,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,version:a.versions.quiz}),this.id=e,this.config=t,this.intersectionObserverOptions={threshold:0,rootMargin:"400px 400px 400px 400px"},this.iframe.style.minHeight="300px"}};class Xe{constructor(t,o,n){if(this.realtimeObj=n,(0,i.Z)(this,"articleConfig",void 0),(0,i.Z)(this,"articleIndex",void 0),(0,i.Z)(this,"modal",new Map),(0,i.Z)(this,"comments",new Map),(0,i.Z)(this,"emotes",new Map),(0,i.Z)(this,"quiz",new Map),(0,i.Z)(this,"powerbars",new Map),(0,i.Z)(this,"verticalPowerbars",new Map),(0,i.Z)(this,"subscribeWidgets",new Map),(0,i.Z)(this,"audioWidgets",new Map),(0,i.Z)(this,"communicationCreator",void 0),(0,i.Z)(this,"customText",void 0),(0,i.Z)(this,"getLocation",((e,t,i=!1,o)=>{const n=document.querySelectorAll(e)[o-1];if(n||o-1==0)return n;for(let n=o-1;n>0;n--){var s;let o=document.querySelectorAll(e)[n];if(o&&(null===(s=o.parentElement)||void 0===s||!s.querySelector(i?`div[class*=${t}]`:`div[id*=${t}]`)))return o}return null})),(0,i.Z)(this,"insertWidget",((e,t,i,o=!1,n)=>{let s;if("string"==typeof t)s=this.articleConfig.endlessMode?this.getLocation(t,i,o,n):document.querySelector(t);else if("function"==typeof t)s=t();else for(const e of t){const t=this.articleConfig.endlessMode?this.getLocation(e,i,o,n):document.querySelector(e);if(t){s=t;break}}if(s){const t=document.createElement("div");switch(o?t.className=i:t.id=i,e){case"after":s.insertAdjacentElement("afterend",t);break;case"before":s.insertAdjacentElement("beforebegin",t);break;case"prependInside":s.insertAdjacentElement("afterbegin",t);break;default:s.appendChild(t)}return t}return null})),(0,i.Z)(this,"attachIObserver",((e,t)=>{const i=new IntersectionObserver((t=>{t.forEach((t=>{const{intersectionRatio:o,isIntersecting:n}=t;(o>.025||n)&&(e.loadIframe(),i.disconnect())}))}),{threshold:.02,...e.intersectionObserverOptions});i.observe(t)})),Xe.initializedIDs.indexOf(t)>=0)throw new Error("â  Widgets already have been created for this ID.");Xe.initializedIDs.push(t),(0,e.IW)(e.PP.widgetsCreatorStart),(0,e.rX)(e.J8.platformStartToWidgetsStart,e.PP.platformStart,e.PP.widgetsCreatorStart),this.articleConfig=o,this.articleIndex=t,this.createCommentsWidget(t,n),this.createEmotesIframe(t),this.createPowerbars(t,!!this.comments.size,!!this.emotes.size),this.createSubscribeWidgets(t),this.createAudioWidgets(t),this.createQuizWidget(t),this.communicationCreator=new Re(t,[...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.subscribeWidgets.values()],[...this.audioWidgets.values()],[...this.quiz.values()][0],this.articleConfig,n,this),this.customText=new Ke([...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],this.articleConfig),this.initializeInsideDom(),""===t&&(Xe.addNewsfeedToDOM(t),Xe.addTrafficExchangeToDOM(t,this.articleConfig.apiKey)),(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' are generated!`),(0,e.IW)(e.PP.widgetsCreatorEnd),(0,e.rX)(e.J8.widgetStartToEnd,e.PP.widgetsCreatorStart,e.PP.widgetsCreatorEnd),(0,e.rX)(e.J8.platformStartToWidgetsEnd,e.PP.platformStart,e.PP.widgetsCreatorEnd)}createWidgets(e,t){null!=e&&e.preInsertionOperation&&e.preInsertionOperation();let i=0;if(null!=e&&e.comments){this.insertWidget(e.comments.insert,l.Z.isMobileUser&&e.comments.mobileSelector?e.comments.mobileSelector:e.comments.selector,a.selectors.comments.slice(1).concat(this.articleIndex),!1,t)&&(this.createCommentsWidget(this.articleIndex,this.realtimeObj),i++)}if(null!=e&&e.emotes){this.insertWidget(e.emotes.insert,l.Z.isMobileUser&&e.emotes.mobileSelector?e.emotes.mobileSelector:e.emotes.selector,a.selectors.emotes.slice(1).concat(this.articleIndex),!1,t)&&(this.createEmotesIframe(this.articleIndex),i++)}if(null!=e&&e.sharebar&&(null==e||e.sharebar.forEach((e=>{this.insertWidget(e.insert,l.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,e.isVertical?a.selectors.verticalSharebar.slice(1).concat(this.articleIndex):a.selectors.sharebar.slice(1).concat(this.articleIndex),!0,t)&&(this.createPowerbars(this.articleIndex,!!this.comments.size,!!this.emotes.size),i++)}))),null!=e&&e.audio&&e.audio.forEach((e=>{this.insertWidget(e.insert,l.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,a.selectors.audio.slice(1).concat(this.articleIndex),!0,t)&&(this.createAudioWidgets(this.articleIndex),i++)})),null!=e&&e.subscribe&&e.subscribe.forEach((e=>{this.insertWidget(e.insert,l.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,a.selectors.subscribe.slice(1).concat(this.articleIndex),!0,t)&&(this.createSubscribeWidgets(this.articleIndex),i++)})),null!=e&&e.newsfeed){this.insertWidget(e.newsfeed.insert,l.Z.isMobileUser&&e.newsfeed.mobileSelector?e.newsfeed.mobileSelector:e.newsfeed.selector,a.selectors.newsfeed.slice(1).concat(this.articleIndex),!1,t)&&(Xe.addNewsfeedToDOM(this.articleIndex),i++)}if(null!=e&&e.quiz){this.insertWidget(e.quiz.insert,l.Z.isMobileUser&&e.quiz.mobileSelector?e.quiz.mobileSelector:e.quiz.selector,a.selectors.quiz.slice(1).concat(this.articleIndex),!1,t)&&(this.createQuizWidget(this.articleIndex),i++)}i>0&&(this.initializeInsideDom(),this.communicationCreator.removeMessageListeners(),this.communicationCreator=new Re(this.articleIndex,[...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.subscribeWidgets.values()],[...this.audioWidgets.values()],[...this.quiz.values()][0],this.articleConfig,this.realtimeObj,this),this.customText=new Ke([...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],this.articleConfig)),null!=e&&e.postInsertionOperation&&e.postInsertionOperation()}createEmotesIframe(e){if(this.articleConfig.emotes&&this.articleConfig.emotes.enabled){const t=document.querySelector(a.selectors.emotes.concat(String(e)||""));t instanceof HTMLDivElement&&this.emotes.set(t,new He("emotes-iframe".concat(e),this.articleConfig))}}createQuizWidget(e){if(this.articleConfig.quiz&&this.articleConfig.quiz.enabled){const t=document.querySelector(a.selectors.quiz.concat(String(e)||""));t instanceof HTMLDivElement&&this.quiz.set(t,new Qe("quiz-iframe".concat(e),this.articleConfig))}}createSubscribeWidgets(e){if(this.articleConfig.subscribe&&this.articleConfig.subscribe.enabled){document.querySelectorAll(a.selectors.subscribe.concat(String(e)||"")).forEach(((t,i)=>this.subscribeWidgets.set(t,new Te("subscribe-widget".concat(e).concat(`-${i}`),this.articleConfig))))}}createAudioWidgets(e){if(this.articleConfig.audio&&this.articleConfig.audio.enabled){document.querySelectorAll(a.selectors.audio.concat(String(e)||"")).forEach(((t,i)=>this.audioWidgets.set(t,new Ve("audio-widget".concat(e).concat(`-${i}`),this.articleConfig))))}}createPowerbars(e,t,i){if(this.articleConfig.powerbar&&!1===this.articleConfig.powerbar.enabled||this.articleConfig.sharebar&&!1===this.articleConfig.sharebar.enabled)return;const o=Array.prototype.slice.call(document.querySelectorAll(a.selectors.powerbar.concat(String(e)))),n=Array.prototype.slice.call(document.querySelectorAll(a.selectors.sharebar.concat(String(e)))),s=Array.prototype.slice.call(document.querySelectorAll(a.selectors.verticalPowerbar.concat(String(e)))),r=Array.prototype.slice.call(document.querySelectorAll(a.selectors.verticalSharebar.concat(String(e))));o.forEach(((o,n)=>this.powerbars.set(o,new Je("h-sharebar".concat(e).concat(`-${n}`),this.articleConfig,"horizontal",t,i)))),n.forEach(((o,n)=>this.powerbars.set(o,new Je("h-sharebar".concat(e).concat(`-${n}`),this.articleConfig,"horizontal",t,i)))),s.forEach(((o,n)=>{o.style.zIndex="99999",o.style.width="60px",o.style.maxWidth="60px",o.style.position=o.style.position||"fixed",o.style.top=o.style.top||"10px",l.Z.isMobileUser&&(o.style.right="0",o.style.left="unset"),this.verticalPowerbars.set(o,new Je("v-sharebar".concat(e).concat(`-${n}`),this.articleConfig,"vertical",t,i))})),r.forEach(((o,n)=>{o.style.zIndex="99999",o.style.width="60px",o.style.maxWidth="60px",o.style.position=o.style.position||"fixed",o.style.top=o.style.top||"10px",l.Z.isMobileUser&&(o.style.right="0",o.style.left="unset"),this.verticalPowerbars.set(o,new Je("v-sharebar".concat(e).concat(`-${n}`),this.articleConfig,"vertical",t,i))}))}createCommentsWidget(e,t){if(this.articleConfig.comments&&!1===this.articleConfig.comments.enabled)return;const i=document.querySelector(a.selectors.comments.concat(e));i instanceof HTMLDivElement&&(i.style.cssText+="display: flex;flex-direction: column;width: 100%;align-items: stretch;",this.comments.set(i,new Ge("v-comments".concat(e),this.articleConfig,t,e)))}createModal(e){const t=document.querySelector("body"),i=document.createElement("div");t instanceof HTMLBodyElement&&(t.appendChild(i),this.modal.set(i,new Fe("vuukle-modal".concat(this.articleIndex),this.articleConfig)),this.communicationCreator.initializeModal([...this.modal.values()][0],e),this.customText.initializeModal([...this.modal.values()][0]),this.modal.forEach(((e,t)=>t.appendChild(e.iframe))))}static addNewsfeedToDOM(e){const t=document.querySelector(a.selectors.newsfeed.concat(e));if(t instanceof HTMLDivElement){const e=document.createElement("div");e.id="vuukle-newsfeed-app",t.appendChild(e),(0,c.fs)(a.urls.newsfeed)}}static addTrafficExchangeToDOM(e,t){const i=document.querySelector(a.selectors.trafficExchange.concat(e));if(i instanceof HTMLDivElement){const e=document.createElement("div");e.id="vuukle-traffic-exchange-app",m.xw[t]&&m.xw[t].trafficExchangeRows&&(e.dataset.rows=m.xw[t].trafficExchangeRows),i.appendChild(e),(0,c.fs)(a.urls.trafficExchange)}}initializeInsideDom(){this.comments.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.emotes.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.powerbars.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.verticalPowerbars.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.subscribeWidgets.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.audioWidgets.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)})),this.quiz.forEach(((e,t)=>{this.attachIObserver(e,t),t.appendChild(e.iframe)}))}static removeWidgets(t){const i=this.initializedIDs.indexOf(t);if(-1===i)return void(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' aren't generated, nothing to remove`);this.initializedIDs.splice(i,1);const o=document.querySelector(a.selectors.comments.concat(t)),n=document.querySelector("#vuukle-modal".concat(t)),s=document.querySelector(a.selectors.emotes.concat(t)),r=document.querySelectorAll(a.selectors.powerbar.concat(t)),l=document.querySelectorAll(a.selectors.verticalPowerbar.concat(t)),d=document.querySelectorAll(a.selectors.sharebar.concat(t)),c=document.querySelectorAll(a.selectors.sharebar.concat(t)),u=document.querySelectorAll(a.selectors.subscribe.concat(t)),h=document.querySelectorAll(a.selectors.audio.concat(t)),m=document.querySelector(a.selectors.quiz.concat(t));o&&o.remove(),n&&n.remove(),s&&s.remove(),r&&r.forEach((e=>e.remove())),l&&l.forEach((e=>e.remove())),d&&d.forEach((e=>e.remove())),c&&c.forEach((e=>e.remove())),u&&u.forEach((e=>e.remove())),h&&h.forEach((e=>e.remove())),m&&m.remove(),Re.removeCookieListenerByIndex(t),Re.removeGeoListenersByIndex(t),Re.removeIPListenersByIndex(t),Re.removeWidgetsFromThemingObject(t),(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' are removed!`)}}(0,i.Z)(Xe,"initializedIDs",[]);const Ye=Xe;var et,tt;if(1===window.VUUKLE_PLATFORM)throw new Error("â ï¸[VUUKLE] Vuukle is already defined.");if(window.VUUKLE_PLATFORM=1,(0,e.N5)("Platform"),(0,e.IW)(e.PP.platformStart),m.g7.indexOf(t.Z.apiKey)>-1)throw new Error("Your domain has been blocked, please contact support[at]vuukle.com to get it unblocked");l.Z.determineCookieUsability();let it={};const ot={};let nt=!0;function st(){if(!t.Z.endlessMode){t.Z.noViewPage||r.Z.log("view_page",t.Z);const e=new Le(t.Z),i=new Ye("",t.Z,e);new ke("",t.Z,i.communicationCreator,e,i)}if(!1===t.Z.ads.enabled&&r.Z.log("ads_false",t.Z),t.Z.endlessMode&&!t.Z.singlePage){let e=document.location.href;setInterval((()=>{e!==document.location.href&&(e=document.location.href,it[document.location.href]&&(it[document.location.href](),it[document.location.href]=void 0))}),1e3)}}if(null!==(et=m.xw[t.Z.apiKey])&&void 0!==et&&et.track5s){function at(){"hidden"===document.visibilityState&&r.Z.logPost("exit_5s",t.Z,!0,t.Z.endlessMode?[{key:"article_id",value:encodeURI(ot[document.location.href]||"")}]:[])}window.addEventListener("visibilitychange",at),setTimeout((()=>window.removeEventListener("visibilitychange",at)),5e3)}if(window.newVuukleWidgets=e=>{if(!e.articleId){if(!e.url)throw new Error("Article ID is required to create new Vuukle Widgets");e.articleId=e.url}if(e.img||(console.warn(`[Vuukle] Article with the id ${e.articleId} has missing img.`),e.img=""),e.title||(console.warn(`[Vuukle] Article with the id ${e.articleId} has missing title.`),e.title=""),!t.Z.apiKey)throw new Error("â  [VUUKLE] API key is missing in the VUUKLE_CONFIG");const i={...t.Z,articleId:e.articleId,author:e.author,img:e.img||"",tags:e.tags,title:e.title||"",url:e.url||""};r.Z.viewPageFired=!1;const o=()=>{const o=()=>{const o=new Le(i),n=new Ye("-"+String(e.elementsIndex),i,o);new ke("-"+String(e.elementsIndex),i,n.communicationCreator,o,n),t.Z.noViewPage||r.Z.log("view_page",i)};t.Z.singlePage?o():nt?(o(),nt=!1):it[String(e.url)]=()=>{o()},ot[String(e.url)]=i.articleId};"loading"!==document.readyState?o():document.addEventListener("readystatechange",(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||o()}))},window.removeVuukleWidgets=e=>{Ye.removeWidgets("-"+e)},window.generateVuukleAds=e=>{new ke(e?"-"+e:"",t.Z)},console.log("%c[VUUKLE] platform.js version: 3.36.18. Need help? Reach us at support[at]vuukle[dot]com","color:#039BE5;"),window.tempVuukleWidgets&&(window.newVuukleWidgets(window.tempVuukleWidgets),window.tempVuukleWidgets=void 0),document.addEventListener("click",(e=>{let i=e.target;for(;i&&(void 0===i.tagName||"a"!=i.tagName.toLowerCase()||!i.href);)i=i.parentNode;if(i&&i.href&&i.host&&i.host!==location.host){const o=[{key:"refDomain",value:i.host}];t.Z.endlessMode&&o.push({key:"article_id",value:encodeURI(ot[document.location.href]||"")}),r.Z.log("view_exit",t.Z,o),i.target&&!i.target.match(/^_(self|parent|top)$/i)||(setTimeout((()=>{location.href=i.href}),150),e.preventDefault())}})),(0,e.Ln)("Platform"),(0,e.rX)(e.J8.platformStartToLog,e.PP.platformStart,void 0),null!==(tt=m.xw[t.Z.apiKey])&&void 0!==tt&&tt.initAfterScroll){function rt(){var e,i;null!==(e=m.xw[t.Z.apiKey])&&void 0!==e&&e.initAfterScrollPixels?window.scrollY>=(null===(i=m.xw[t.Z.apiKey])||void 0===i?void 0:i.initAfterScrollPixels)&&(st(),window.removeEventListener("scroll",rt)):(st(),window.removeEventListener("scroll",rt))}window.addEventListener("scroll",rt)}else if("loading"!==document.readyState)st();else{let lt=!1;document.addEventListener("readystatechange",(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||lt||(lt=!0,st())}))}})()})();
});
